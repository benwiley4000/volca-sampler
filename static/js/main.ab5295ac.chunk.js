(this["webpackJsonpvolca-sampler"]=this["webpackJsonpvolca-sampler"]||[]).push([[0],{105:function(F,X,f){F.exports={"form-switch":"NormalizeSwitch_form-switch__pmDx5","form-check-input":"NormalizeSwitch_form-check-input__trt4D",normalizeControlWrapper:"NormalizeSwitch_normalizeControlWrapper__3yf2V"}},106:function(F,X,f){F.exports={"form-switch":"VolcaTransferControl_form-switch__1ZS81","form-check-input":"VolcaTransferControl_form-check-input__REQsM",transferButton:"VolcaTransferControl_transferButton__11MBQ"}},110:function(F,X,f){F.exports={waveformContainer:"WaveformReadonly_waveformContainer__RARS4"}},117:function(F,X,f){},118:function(F,X,f){},149:function(F,X,f){"use strict";f.r(X);var u=f(0),n=f.n(u),vt=f(11),da=f.n(vt),Kn=f(117),Yn=f(118),Xe=f(164),ht=f(165),ue=f(163),De=f(156),fa=f(23),se=f.n(fa),pa=n.a.memo(function({onMenuOpen:e,onHeaderClick:a}){return n.a.createElement("div",{className:se.a.titleBar},n.a.createElement("span",{className:se.a.menuIcon,onClick:e},"\u2630"),n.a.createElement(De.a,{fluid:"sm",className:se.a.titleContainer},n.a.createElement("h1",{className:se.a.title,onClick:a},n.a.createElement("span",{className:se.a.titleText,"data-text":"Volca Sample"},"Volca Sample",n.a.createElement("span",{className:se.a.titleR},"r"),n.a.createElement("svg",{viewBox:"0 0 150 150",preserveAspectRatio:"none",className:se.a.titleStarburst},Array(24).fill().map((r,o,{length:i})=>n.a.createElement("polygon",{key:o,points:"75,70 75,80 150,75","transform-origin":"75 75",style:{"--rotation":`${o*360/i}deg`}})))),n.a.createElement("img",{className:se.a.titleGraphic,src:"volca_sample.png",alt:""}))),n.a.createElement("svg",{width:0,height:0},n.a.createElement("filter",{id:"outline"},n.a.createElement("feMorphology",{in:"SourceAlpha",result:"DILATED",operator:"dilate",radius:"1"}),n.a.createElement("feFlood",{floodColor:"var(--stroke-color)",floodOpacity:"1",result:"PINK"}),n.a.createElement("feComposite",{in:"PINK",in2:"DILATED",operator:"in",result:"OUTLINE"}),n.a.createElement("feMerge",null,n.a.createElement("feMergeNode",{in:"OUTLINE"}),n.a.createElement("feMergeNode",{in:"SourceGraphic"})))))}),yt=f(62),va=f(63),bt=f.n(va),ha=f(54),je=f.n(ha),gt=f(166),Et=f(90);const Pe=31250;var ya=Object.defineProperty,ba=Object.defineProperties,ga=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Ge=(t,e,a)=>e in t?ya(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,J=(t,e)=>{for(var a in e||(e={}))wt.call(e,a)&&Ge(t,a,e[a]);if(Re)for(var a of Re(e))St.call(e,a)&&Ge(t,a,e[a]);return t},le=(t,e)=>ba(t,ga(e)),Ae=(t,e)=>{var a={};for(var r in t)wt.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&Re)for(var r of Re(t))e.indexOf(r)<0&&St.call(t,r)&&(a[r]=t[r]);return a},Me=(t,e,a)=>(Ge(t,typeof e!="symbol"?e+"":e,a),a),ee=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});const Be=je.a.createInstance({name:"audio_file_data",driver:je.a.INDEXEDDB}),Ne=je.a.createInstance({name:"sample_metadata",driver:je.a.INDEXEDDB});function Ea(t){return ee(this,null,function*(){const e=Object(gt.a)();return yield Be.setItem(e,t),e})}const Ke="0.5.0",wa={"0.1.0":t=>{const e=t,{clip:a}=e,r=Ae(e,["clip"]);return le(J({},r),{trimFrames:a.map(i=>Math.round(i*Pe)),metadataVersion:"0.2.0"})},"0.2.0":t=>ee(void 0,null,function*(){const e=t,{trimFrames:a}=e,r=Ae(e,["trimFrames"]),o=yield Fe(r.sourceFileId,!1),i=yield Je(o,a),s={frames:a,waveformPeaks:i};return le(J({},r),{trim:s,metadataVersion:"0.3.0"})}),"0.3.0":t=>{const e=t,{dateSampled:a,dateModified:r}=e,o=Ae(e,["dateSampled","dateModified"]);return le(J({},o),{dateSampled:new Date(a).toISOString(),dateModified:new Date(r).toISOString(),metadataVersion:"0.4.0"})},"0.4.0":t=>ee(void 0,null,function*(){const e=t,{scaleCoefficient:a,trim:{frames:r,waveformPeaks:o}}=e,i=Ae(e,["scaleCoefficient","trim"]),s=yield Fe(i.sourceFileId,!1),c=Ie(s,r),l=pe(c);return le(J({},i),{normalize:a!==1,trim:{frames:r,waveformPeaks:le(J({},o),{normalizationCoefficient:1/l})},metadataVersion:"0.5.0"})})};function Sa(t){return ee(this,null,function*(){let e=t;for(;e.metadataVersion!==Ke;){const a=wa[e.metadataVersion];if(!a){console.warn(`Failed to properly upgrade metadata for sample "${e.name}"`),e={name:e.name,sourceFileId:e.sourceFileId,id:e.id,metadataVersion:Ke};break}e=yield a(e)}return e})}const fe=class{constructor({name:t,sourceFileId:e,trim:a,id:r=Object(gt.a)(),userFileInfo:o=null,slotNumber:i=0,dateSampled:s=new Date().toISOString(),dateModified:c=s,useCompression:l=!0,qualityBitDepth:m=16,normalize:d=!0}){this.id=r,this.metadata={name:t,sourceFileId:e,trim:a,userFileInfo:o,slotNumber:i,dateSampled:s,dateModified:c,useCompression:l,qualityBitDepth:m,normalize:d,metadataVersion:Ke}}duplicate(){const t=new fe.Mutable(le(J({},this.metadata),{name:`${this.metadata.name} (copy)`,dateModified:new Date().toISOString()}));return t.persist(),t}static cacheSourceFileData(t,e){this.sourceFileData.set(t,e),this.recentlyCachedSourceFileIds=[t,...this.recentlyCachedSourceFileIds.filter(r=>r!==t)];const a=this.recentlyCachedSourceFileIds.slice(this.MAX_CACHED);for(const r of a)this.sourceFileData.delete(r);this.recentlyCachedSourceFileIds=this.recentlyCachedSourceFileIds.slice(0,this.MAX_CACHED)}static getSourceFileData(t){return ee(this,null,function*(){{const a=this.sourceFileData.get(t);if(a)return a}if(t.includes(".")){const a=yield fetch(t);if(a.status>=400)return Promise.reject(new Error(`Failed to fetch source file "${t}"`));const r=yield a.arrayBuffer(),o=new Uint8Array(r);return this.cacheSourceFileData(t,o),o}const e=yield Be.getItem(t);return e?e instanceof Uint8Array?(this.cacheSourceFileData(t,e),e):Promise.reject("Source data is of unexpected type"):Promise.reject("Missing source data")})}static getAllMetadataFromStore(){return ee(this,null,function*(){const t=new Map,e=[];return yield Ne.iterate((a,r)=>{a&&e.push(Sa(a).then(o=>{t.set(r,o)}).catch(o=>{console.error(o),console.warn(`Failed to upgrade metadata "${r}" (${a.name}); ignoring.`)}))}),yield Promise.all(e),t})}static getAllFromStorage(){return ee(this,null,function*(){const t=yield this.getAllMetadataFromStore(),e=yield Ct(),a=(yield Be.keys()).concat(e.map(({sourceFileId:o})=>o));return[...t].map(([o,i])=>{const{sourceFileId:s}=i;return a.includes(s)?new fe.Mutable(J({id:o},i)):(console.warn(`Found metadata "${i.name||o}" with missing data "${s}; ignoring.`),null)}).filter(Boolean).sort(({metadata:{dateModified:o}},{metadata:{dateModified:i}})=>o>i?-1:i>o?1:0)})}};let Y=fe;Me(Y,"Mutable",class extends fe{constructor(t){super(t);setTimeout(()=>ee(this,null,function*(){(yield Ne.keys()).includes(this.id)||console.warn(`Expected sample metadata container ${this.id} to be persisted`)}))}persist(){return ee(this,null,function*(){yield Ne.setItem(this.id,this.metadata)})}update(t){const{id:e,metadata:a}=this,r=typeof t=="function"?t(a):t;if(Object.keys(r).every(s=>r[s]===a[s]))return this;const o=le(J(J({},a),r),{dateModified:new Date().toISOString()}),i=new fe.Mutable(J({id:e},o));return i.persist(),i}remove(){return ee(this,null,function*(){if(yield Ne.removeItem(this.id),this.metadata.sourceFileId.includes("."))return;const t=yield fe.getAllMetadataFromStore();for(const[,{sourceFileId:e}]of t)if(e===this.metadata.sourceFileId)return;yield Be.removeItem(this.metadata.sourceFileId)})}}),Me(Y,"sourceFileData",new Map),Me(Y,"recentlyCachedSourceFileIds",[]),Me(Y,"MAX_CACHED",10);let Ye;function Ct(){return Ye||(Ye=fetch("factory-samples.json").then(t=>t.json())),Ye}function Ca(){return ee(this,null,function*(){const t=yield Ct();return new Map(t.map(e=>[e.id,new Y(le(J({},e),{normalize:!1,trim:{frames:[e.trim.frames[0],e.trim.frames[1]],waveformPeaks:le(J({},e.trim.waveformPeaks),{positive:new Float32Array(Object(Et.a)(e.trim.waveformPeaks.positive)),negative:new Float32Array(Object(Et.a)(e.trim.waveformPeaks.negative))})}}))]))})}var Ot=Math.pow,Ze=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});function Le(t,e){const a=4,r=e[0]*a,o=t.length-e[0]-e[1];return new Float32Array(t.buffer,r,o)}function Ie(t,e){const a=t.length-e[0]-e[1],r=new Float32Array(a),o=Array(t.numberOfChannels).fill().map((i,s)=>Le(t.getChannelData(s),e));for(let i=0;i<a;i++){let s=0;for(let c=0;c<o.length;c++)s+=o[c][i];s/=o.length,r[i]=s}return r}function pe(t){let e=0;for(const a of t){const r=Math.abs(a);r>e&&(e=r)}return e}function Oa(t,e){if(e!==1)for(let a=0;a<t.length;a++)t[a]*=e}function ka(t){const e=pe(t);Oa(t,1/e)}function Da(t,e){const a=Ot(2,e-1);for(let r=0;r<t.length;r++)t[r]=Math.round(t[r]*a)/a}function kt(t){for(let e=0;e<t.length;e++)t[e]>1?t[e]=1:t[e]<-1&&(t[e]=-1)}function ja(t){const e=t.length,a=t[0].length,r=new Float32Array(e*a);for(let o=0;o<r.length;o++){const i=e*o;for(let s=0;s<e;s++)r[i+s]=t[s][o]}return r}function Dt(t){const e=new Int16Array(t.length),a=Ot(2,15);for(let r=0;r<t.length;r++)e[r]=t[r]===1?a-1:a*t[r];return e}function jt(){return window.AudioContext||window.webkitAudioContext}let Pt;function Rt(){const t=jt();return Pt=Pt||new t({sampleRate:Pe})}function Ee(t){return Ze(this,null,function*(){const e=new Uint8Array(t);return yield new Promise((r,o)=>{Rt().decodeAudioData(e.buffer,r,o)})})}function Fe(t,e){return Ze(this,null,function*(){const a=yield Y.getSourceFileData(t),r=yield Ee(a);if(e)for(let o=0;o<r.numberOfChannels;o++)kt(r.getChannelData(o));return r})}function At(t){return Ze(this,null,function*(){const{qualityBitDepth:e,sourceFileId:a,userFileInfo:r,normalize:o,trim:{frames:i}}=t.metadata;if(e<8||e>16||!Number.isInteger(e))throw new Error(`Expected bit depth between 8 and 16. Received: ${e}`);const s=yield Fe(a,Boolean(r)),c=s.numberOfChannels===1?Le(s.getChannelData(0),i):Ie(s,i);o&&ka(c),e<16&&Da(c,e);const l=Dt(c),m=l.length*2,d=bt()({channels:1,sampleRate:s.sampleRate,bitDepth:16,dataLength:m}),p=new Uint8Array(d.length+m);return p.set(d),p.set(new Uint8Array(l.buffer),d.length),{data:p,sampleRate:16}})}function Mt(t){const[e,a]=Object(u.useState)(null),[r,o]=Object(u.useState)(null);return Object(u.useEffect)(()=>{a(null);let i=!1;At(t).then(({data:s})=>{i||a(s)})},[t]),Object(u.useEffect)(()=>{if(o(null),e){let i=!1;Ee(e).then(s=>{i||o(s)})}},[e]),{wav:e,audioBuffer:r}}const Pa={playAudioBuffer(t,e){throw new Error("Must render AudioPlaybackContextProvider")}},Bt=Object(u.createContext)(Pa);function Ra({children:t}){const e=Object(u.useRef)(()=>{}),a=Object(u.useCallback)((o,{onTimeUpdate:i=()=>null,onEnded:s=()=>null}={})=>{e.current();const c=Rt(),l=c.createBufferSource();l.buffer=o,l.connect(c.destination),l.start();const m=c.currentTime;i(0);let d=requestAnimationFrame(p);function p(){i(c.currentTime-m),d=requestAnimationFrame(p)}let b=!1;l.addEventListener("ended",()=>{b||(i(o.duration),s()),cancelAnimationFrame(d)});function g(){b||(l.stop(),cancelAnimationFrame(d),s(),b=!0)}return e.current=g,g},[]),r=Object(u.useMemo)(()=>({playAudioBuffer:a}),[a]);return Object(u.createElement)(Bt.Provider,{value:r},t)}function Nt(){return Object(u.useContext)(Bt)}var Lt=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});const ve=6,It=ve*44;function Ft(t,e){const a=Math.floor(ve*t.length/e),r=new Float32Array(Math.floor(t.length/a)),o=new Float32Array(Math.floor(t.length/a));for(let l=0;l<r.length;l++){const m=new Float32Array(t.buffer,l*a*4,a);let d=0,p=0;for(const b of m)b>d&&(d=b),b<p&&(p=b);r[l]=Math.min(1,d),o[l]=Math.max(-1,p)}const i=t.length%a,s=new Float32Array(r.length+o.length+i);s.set(r,0),s.set(o,r.length),s.set(new Float32Array(t.buffer,(t.length-i)*4,i),r.length+o.length);const c=pe(s);return{positive:r,negative:o,normalizationCoefficient:1/c}}function Je(t,e){return Lt(this,null,function*(){const a=Ie(t,e);return Ft(a,It)})}function xt(t){const[e,a]=Object(u.useState)(null);Object(u.useEffect)(()=>{let o=!1;return(()=>Lt(this,null,function*(){if(o)return;const i=yield Fe(t.metadata.sourceFileId,Boolean(t.metadata.userFileInfo));o||a([t.metadata.sourceFileId,i])}))(),()=>{o=!0}},[t.metadata.sourceFileId,t.metadata.userFileInfo]);const r=Object(u.useRef)(t);return e&&t.metadata.sourceFileId===e[0]&&(r.current=t),{sample:r.current,sourceAudioBuffer:e&&e[1]}}function Wt(t){const e=Object(u.useMemo)(()=>t?Ie(t,[0,0]):new Float32Array,[t]),[a,r]=Object(u.useState)(null),[o,i]=Object(u.useState)({width:0,height:0}),s=Object(u.useMemo)(()=>a&&(o.width||a.offsetWidth),[a,o]),c=Object(u.useMemo)(()=>!s||!e.length?{positive:new Float32Array,negative:new Float32Array,normalizationCoefficient:1/0}:Ft(e,s),[s,e]);return{monoSamples:e,waveformRef:r,pixelWidth:s,peaks:c,onResize:i}}function xe(t,e){return`0:${t.toFixed(e).padStart(3+e,"0")}`}function _t(t){const{playAudioBuffer:e}=Nt(),a=Object(u.useRef)(()=>{}),[r,o]=Object(u.useState)(null);Object(u.useEffect)(()=>{t&&r&&(o(null),r.fn())},[t,r]);const[i,s]=Object(u.useState)(0),[c,l]=Object(u.useState)(!1),[m,d]=Object(u.useState)("");Object(u.useEffect)(()=>{t&&d(xe(c?i*t.duration:t.duration,1))},[t,c,i]);const p=Object(u.useCallback)(g=>{if(c)a.current();else if(t)a.current=e(t,{onTimeUpdate(y){s(y/t.duration)},onEnded(){l(!1)}}),s(0),l(!0);else{const y=g.target;o({fn:()=>y.dispatchEvent(g)})}},[c,e,t]);Object(u.useEffect)(()=>{function g(y){document.querySelector('[role="dialog"]')||y.key===" "&&(y.preventDefault(),p(y))}return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[p]);const b=Object(u.useCallback)(()=>a.current(),[]);return{isPlaybackActive:c,playbackProgress:i,displayedTime:m,togglePlayback:p,stopPlayback:b}}var Aa=f(100),Ma=Object.defineProperty,Tt=Object.getOwnPropertySymbols,Ba=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable,zt=(t,e,a)=>e in t?Ma(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ht=(t,e)=>{for(var a in e||(e={}))Ba.call(e,a)&&zt(t,a,e[a]);if(Tt)for(var a of Tt(e))Na.call(e,a)&&zt(t,a,e[a]);return t};const La=yt.a.canvas({width:"100%",height:"100%",display:"block",imageRendering:"pixelated"});function Ia(t,e){function a(o,i){t.width=o,t.height=i}a(t.offsetWidth,t.offsetHeight),e({width:t.offsetWidth,height:t.offsetHeight});const r=new Aa.a(([o])=>{const{width:i,height:s}=o.contentRect;a(i,s),e({width:i,height:s})});return r.observe(t),()=>r.disconnect()}function Fa(t,e,a){const r=getComputedStyle(document.documentElement),o=r.getPropertyValue("--bs-primary"),i=r.getPropertyValue("--bs-primary-darkened"),s=t.getContext("2d");s.imageSmoothingEnabled=!1;const{width:c,height:l}=t;s.clearRect(0,0,c,l);const m=Math.floor(l*(2/3))+1;s.fillStyle=o,e.positive.forEach((p,b)=>{const g=m*p,y=Math.max(Math.round(a*g),1);s.fillRect(b*ve,m-y,ve-1,y)});const d=l-m;s.fillStyle=i,e.negative.forEach((p,b)=>{const g=d*p*-1,y=Math.round(a*g);s.fillRect(b*ve,m,ve-1,y)})}function xa({peaks:t,scaleCoefficient:e,waveformRef:a,onResize:r}){const o=Object(u.useRef)(null);Object(u.useImperativeHandle)(a,()=>o.current);const[i,s]=Object(u.useState)(Symbol()),c=Object(u.useRef)({width:0,height:0});return Object(u.useLayoutEffect)(()=>{if(!o.current)throw new Error("Canvas should be defined");return c.current.width=o.current.offsetWidth,c.current.height=o.current.offsetHeight,r&&r(Ht({},c.current)),Ia(o.current,({width:l,height:m})=>{(l!==c.current.width||m!==c.current.height)&&(s(Symbol()),c.current.width=l,c.current.height=m,r&&r(Ht({},c.current)))})},[r]),Object(u.useLayoutEffect)(()=>{const l=o.current;if(!l)throw new Error("Canvas should be defined");let m=requestAnimationFrame(()=>{m=requestAnimationFrame(()=>{Fa(l,t,e===void 0?t.normalizationCoefficient:e)})});return()=>cancelAnimationFrame(m)},[t,e,i]),n.a.createElement(La,{ref:o})}var qe=xa;const Wa=yt.a.div({width:`${It}px`,height:"40px"}),Vt=typeof IntersectionObserver!="undefined",_a=n.a.memo(function({sample:e,selected:a,onSampleSelect:r}){const o=Object(u.useRef)(null),[i,s]=Object(u.useState)(!Vt);return Object(u.useLayoutEffect)(()=>{if(!Vt)return;const c=o.current;if(!c)throw new Error("Waveform container should be defined");const l=c.getBoundingClientRect();if(l.top+l.height>=0&&l.bottom-l.height<=window.innerHeight){s(!0);return}const m=new IntersectionObserver(([d])=>{d.isIntersecting&&(s(!0),m.unobserve(c))});return m.observe(c),()=>m.disconnect()},[]),n.a.createElement("li",{className:["list-group-item",a?"active":""].join(" "),onClick:()=>r(e.id)},n.a.createElement("div",null,e.metadata.name),n.a.createElement(Wa,{ref:o},i&&n.a.createElement(qe,{peaks:e.metadata.trim.waveformPeaks})))});function Ta({samples:t,selectedSampleId:e,onSampleSelect:a}){const r=Object(u.useRef)(new WeakMap),o=[];for(const i of t.values()){let s=r.current.get(i);s||(s=n.a.createElement(_a,{key:i.id,sample:i,selected:i.id===e,onSampleSelect:a}),r.current.set(i,s)),o.push(s)}return n.a.createElement("ul",{className:"list-group list-group-flush"},o)}var Ut=Ta,za=f(158),we=f(111),ae=f(162),G=f(160),z=f(104),Qt=f(64),We=f(161),_e=f(157),Ha=f(101),Va=f(102),Ua=f(103);function $t(t,e){const a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=e,r.style.display="none",document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(a)}var Qa=f(45),Se=f.n(Qa),$a=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())}),Xt=n.a.memo(function({isPlaybackActive:e,playbackProgress:a,displayedTime:r,downloadFilename:o,wavFile:i,togglePlayback:s}){const c=Object(u.useCallback)(()=>$a(this,null,function*(){if(i){const l=new Blob([i],{type:"audio/x-wav"});$t(l,o)}}),[o,i]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:[Se.a.playbackOverlay,e?Se.a.playbackActive:""].join(" "),style:{"--playback-progress":`${100*a}%`}},n.a.createElement("div",{className:Se.a.playback})),n.a.createElement("div",{className:Se.a.playbackButtonContainer},n.a.createElement(We.a,{delay:{show:400,hide:0},overlay:n.a.createElement(_e.a,null,"Preview how your sample will sound on the volca sample")},n.a.createElement(z.a,{variant:"dark",onClick:l=>s(l.nativeEvent)},e?n.a.createElement(Va.a,null):n.a.createElement(Ha.a,null))),r&&n.a.createElement("span",null,r)),n.a.createElement(We.a,{delay:{show:400,hide:0},overlay:n.a.createElement(_e.a,null,"Download a copy of the audio that will be transferred to the volca sample")},n.a.createElement(z.a,{className:Se.a.downloadButton,type:"button",variant:"dark",size:"sm",onClick:c,disabled:!i},n.a.createElement(Ua.a,null))))}),Xa=f(105),Ga=f.n(Xa),Ka=n.a.memo(function({sampleId:e,normalize:a,onSampleUpdate:r}){return n.a.createElement(We.a,{delay:{show:400,hide:0},overlay:n.a.createElement(_e.a,null,"Boosts your sample's volume so its peak is at the same level as your other normalized samples")},n.a.createElement("div",{className:Ga.a.normalizeControlWrapper},n.a.createElement(G.a.Switch,{label:n.a.createElement("span",{onClick:()=>r(e,o=>({normalize:!o.normalize}))},"Normalize"),checked:a,onChange:o=>r(e,{normalize:o.target.checked})})))}),Ya=f(8),U=f.n(Ya),Za=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())}),Ja=n.a.memo(function({sample:e,onSampleUpdate:a}){const{wav:r,audioBuffer:o}=Mt(e),{sample:{id:i,metadata:{name:s,trim:{frames:c},normalize:l}},sourceAudioBuffer:m}=xt(e),{monoSamples:d,waveformRef:p,pixelWidth:b,peaks:g,onResize:y}=Wt(m),k=Object(u.useMemo)(()=>{if(!m)return 0;const x=Le(d,c);return pe(x)},[m,d,c]),L=1/k,[O,j]=Object(u.useState)({trimFrames:c,cursor:null});Object(u.useEffect)(()=>{j({trimFrames:c,cursor:null})},[c]);const M=Object(u.useMemo)(()=>{if(!d.length||!b)return[0,0];const x=b/d.length;return O.trimFrames.map(W=>W*x)},[b,d.length,O.trimFrames]),B=Object(u.useRef)(O);B.current=O;const S=Object(u.useRef)(e.id);S.current=e.id;const P=Object(u.useRef)(0),D=Object(u.useCallback)(()=>Za(this,null,function*(){if(!m||i!==S.current)return;let x=P.current=Math.random();const{trimFrames:W}=B.current,Q=yield Je(m,W);P.current===x&&a(i,{trim:{frames:W,waveformPeaks:Q}})}),[i,m,a]),R=Object(u.useRef)(!1);Object(u.useEffect)(()=>{R.current&&(D(),R.current=!1)},[O,D]);const E=Object(u.useCallback)(()=>{R.current=!0,j({trimFrames:[0,0],cursor:null})},[]),A=Object(u.useRef)(null),w=Object(u.useRef)(null),C=Object(u.useRef)(null);{const x=Object(u.useRef)(null),W=Object(u.useRef)(null),Q=Object(u.useRef)(null),ke=Object(u.useRef)(!1),oe=Object(u.useRef)(null);Object(u.useLayoutEffect)(()=>{oe.current&&(clearTimeout(oe.current),oe.current=null)},[O]);const lt=Object(u.useMemo)(()=>{if(!b||!d.length)return null;const V=Math.max(2e3,Math.ceil(10*d.length/b));return{pixelWidth:b,monoSamplesLength:d.length,minFrameWidth:V}},[b,d.length]);Object(u.useEffect)(()=>{if(!lt||!A.current||!w.current||!C.current)return;const $=A.current,V=w.current,q=C.current,{pixelWidth:ye,monoSamplesLength:te,minFrameWidth:be}=lt;let ct=0;function Gn(){ct=q.getBoundingClientRect().left}function Ve(h){h instanceof TouchEvent&&h.preventDefault(),document.body.style.userSelect="none";const{pageX:N}=h instanceof MouseEvent?h:h.touches[0];x.current=N}function Ue(h){h instanceof TouchEvent&&h.preventDefault(),document.body.style.userSelect="none";const{pageX:N}=h instanceof MouseEvent?h:h.touches[0];W.current=N}function Qe(h){if(h instanceof TouchEvent&&h.preventDefault(),h.detail===2){E();return}document.body.style.userSelect="none";const{clientX:N}=h instanceof MouseEvent?h:h.touches[0];Gn();const K=Math.max(0,Math.min(ye,N-ct)),Z=K/ye,_=Math.round(te*Z),me=_+be,de=me<te?me:_-be;de<0||(j({trimFrames:[Math.min(_,de),te-1-Math.max(_,de)],cursor:K-1}),Q.current=_)}function it(h){const N=h/ye,K=Math.round(te*N);j(({trimFrames:Z})=>{let _=Z[0]+K;return _=Math.min(_,te-Z[1]-be),_=Math.max(_,0),{trimFrames:[_,Z[1]],cursor:null}})}function st(h){if(x.current===null)return;h instanceof TouchEvent&&h.preventDefault();const{pageX:N}=h instanceof MouseEvent?h:h.touches[0],K=N-x.current;K&&(it(K),x.current=N)}function ut(h){const N=h/ye,K=Math.round(te*N);j(({trimFrames:Z})=>{let _=Z[1]+K;return _=Math.min(_,te-Z[0]-be),_=Math.max(_,0),{trimFrames:[Z[0],_],cursor:null}})}function mt(h){if(W.current===null)return;h instanceof TouchEvent&&h.preventDefault();const{pageX:N}=h instanceof MouseEvent?h:h.touches[0],K=W.current-N;K&&(ut(K),W.current=N)}let $e=!1;function sa(h){if(x.current!==null)return;let N=!0;switch(h.key){case"ArrowLeft":it(-1);break;case"ArrowRight":it(1);break;default:N=!1;break}N&&(h.stopPropagation(),h.preventDefault(),$e=!0)}function ua(h){if(W.current!==null)return;let N=!0;switch(h.key){case"ArrowLeft":ut(1);break;case"ArrowRight":ut(-1);break;default:N=!1;break}N&&(h.stopPropagation(),h.preventDefault(),$e=!0)}function dt(h){if(Q.current===null)return;h instanceof TouchEvent&&h.preventDefault();const N=Q.current,{clientX:K}=h instanceof MouseEvent?h:h.touches[0],Z=Math.max(0,Math.min(ye,K-ct)),_=Z/ye,me=Math.max(0,Math.min(te-1,Math.round(te*_)));if(me!==Q.current){ke.current=!0;const de=N+be,ft=N-be,pt=me>N?de<te?Math.max(me,de):ft:ft>=0?Math.min(me,ft):de;j({trimFrames:[Math.min(N,pt),te-1-Math.max(N,pt)],cursor:N<pt?Z:Z-1})}}function ma(h){st(h),mt(h),dt(h)}function T(h){(x.current!==null||W.current!==null||Q.current!==null||$e)&&((h instanceof TouchEvent||h instanceof KeyboardEvent)&&h.preventDefault(),Q.current&&!ke.current&&h.detail===1?oe.current=setTimeout(()=>{oe.current=null,D()},250):D(),x.current=null,W.current=null,Q.current=null,ke.current=!1,$e=!1),document.body.style.userSelect="unset"}function ge(h){h.target instanceof Node&&q.contains(h.target)||oe.current&&(clearTimeout(oe.current),oe.current=null,D())}return $.addEventListener("touchstart",Ve),$.addEventListener("mousedown",Ve),V.addEventListener("touchstart",Ue),V.addEventListener("mousedown",Ue),q.addEventListener("touchstart",Qe),q.addEventListener("mousedown",Qe),$.addEventListener("touchmove",st),V.addEventListener("touchmove",mt),$.addEventListener("keydown",sa),V.addEventListener("keydown",ua),q.addEventListener("touchmove",dt),window.addEventListener("mousemove",ma),$.addEventListener("touchend",T),$.addEventListener("touchcancel",T),$.addEventListener("keyup",T),V.addEventListener("touchend",T),V.addEventListener("keyup",T),V.addEventListener("touchcancel",T),q.addEventListener("touchend",T),q.addEventListener("touchcancel",T),window.addEventListener("mouseup",T),window.addEventListener("touchstart",ge,{capture:!0}),window.addEventListener("mousedown",ge,{capture:!0}),window.addEventListener("keydown",ge,{capture:!0}),()=>{$.removeEventListener("touchstart",Ve),$.removeEventListener("mousedown",Ve),V.removeEventListener("touchstart",Ue),V.removeEventListener("mousedown",Ue),q.removeEventListener("touchstart",Qe),q.removeEventListener("mousedown",Qe),$.removeEventListener("touchmove",st),V.removeEventListener("touchmove",mt),$.removeEventListener("keydown",sa),V.removeEventListener("keydown",ua),q.removeEventListener("touchmove",dt),window.removeEventListener("mousemove",ma),$.removeEventListener("touchend",T),$.removeEventListener("touchcancel",T),$.removeEventListener("keyup",T),V.removeEventListener("touchend",T),V.removeEventListener("keyup",T),V.removeEventListener("touchcancel",T),q.removeEventListener("touchend",T),q.removeEventListener("touchcancel",T),window.removeEventListener("mouseup",T),window.removeEventListener("touchstart",ge,{capture:!0}),window.removeEventListener("mousedown",ge,{capture:!0}),window.removeEventListener("keydown",ge,{capture:!0})}},[lt,D,E])}const{isPlaybackActive:v,playbackProgress:I,displayedTime:ne,togglePlayback:re,stopPlayback:H}=_t(o);Object(u.useEffect)(()=>H,[e,O,H]);const ie=e.metadata.trim.frames.every(x=>x===0);return n.a.createElement(n.a.Fragment,null,n.a.createElement(G.a.Group,{className:U.a.waveformAdjacentControls},n.a.createElement(Ka,{sampleId:e.id,normalize:e.metadata.normalize,onSampleUpdate:a}),n.a.createElement(z.a,{type:"button",variant:"secondary",disabled:ie,onClick:E},ie?"All audio selected":"Select all audio")),n.a.createElement("div",{className:[U.a.waveformContainer,v?U.a.playbackActive:""].join(" "),style:{"--cursor-display":O.cursor===null?"none":"unset","--cursor-left":`${O.cursor}px`,"--trim-pixels-left":`${M[0]}px`,"--trim-pixels-right":`${M[1]}px`}},n.a.createElement(qe,{waveformRef:p,peaks:g,scaleCoefficient:l?L:1,onResize:y}),n.a.createElement(Xt,{isPlaybackActive:v,playbackProgress:I,displayedTime:ne,downloadFilename:`${s}.volcasample.wav`,wavFile:r,togglePlayback:re}),n.a.createElement("div",{className:U.a.cursor}),n.a.createElement("div",{className:[U.a.trim,U.a.left].join(" ")},n.a.createElement("div",{className:U.a.bar}),n.a.createElement("div",{ref:A,className:U.a.handle,tabIndex:0}),m&&Boolean(d.length)&&n.a.createElement("span",{className:U.a.time},xe(m.duration*O.trimFrames[0]/d.length,2))),n.a.createElement("div",{className:[U.a.trim,U.a.right].join(" ")},n.a.createElement("div",{className:U.a.bar}),n.a.createElement("div",{ref:w,className:U.a.handle,tabIndex:0}),m&&Boolean(d.length)&&n.a.createElement("span",{className:U.a.time},xe(m.duration*(d.length-1-O.trimFrames[1])/d.length,2))),n.a.createElement("div",{ref:C,className:U.a.waveformOverlay})))}),qa=f(167),Gt=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});let Kt;function en(){return Gt(this,null,function*(){return typeof window.CREATE_SYRO_BINDINGS!="function"?Promise.reject("Expected CREATE_SYRO_BINDINGS global function to exist"):Kt=Kt||window.CREATE_SYRO_BINDINGS().then(t=>Gt(this,null,function*(){return{prepareSampleBufferFromWavData:t.cwrap("prepareSampleBufferFromWavData","number",["array","number","number","number","number"]),prepareSampleBufferFrom16BitPcmData(){throw new Error("This function does not work. Use prepareSampleBufferFromWavData.")},getSampleBufferChunkPointer:t.cwrap("getSampleBufferChunkPointer","number",["number"]),getSampleBufferChunkSize:t.cwrap("getSampleBufferChunkSize","number",["number"]),getSampleBufferProgress:t.cwrap("getSampleBufferProgress","number",["number"]),getSampleBufferTotalSize:t.cwrap("getSampleBufferTotalSize","number",["number"]),cancelSampleBufferWork:t.cwrap("cancelSampleBufferWork",null,["number"]),registerUpdateCallback(e){return t.addFunction(e,"vi")},unregisterUpdateCallback(e){t.removeFunction(e)},heap8Buffer(){return t.HEAP8.buffer}}}))})}var tn=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});function an(t,e){let a=!1,r=()=>{};return{cancelWork(){a=!0,r()},sampleBufferPromise:(()=>tn(this,null,function*(){const{prepareSampleBufferFromWavData:o,getSampleBufferChunkPointer:i,getSampleBufferChunkSize:s,getSampleBufferProgress:c,getSampleBufferTotalSize:l,cancelSampleBufferWork:m,registerUpdateCallback:d,unregisterUpdateCallback:p,heap8Buffer:b}=yield en();if(a)return new Uint8Array;const{data:g}=yield At(t);if(a)return new Uint8Array;let y,k=0;const L=d(j=>{if(a)return;const M=l(j);y||(y=new Uint8Array(M));const B=i(j),S=s(j),P=c(j);y.set(new Uint8Array(b(),B,S),P-S),k=P/M}),O=o(g,g.length,t.metadata.slotNumber,t.metadata.qualityBitDepth,t.metadata.useCompression?1:0,L);e(k);try{yield new Promise(j=>{let M;r=()=>{cancelAnimationFrame(M),m(O),j()},B();function B(){if(k&&(e(k),k>=1)){j();return}M=requestAnimationFrame(B)}})}finally{r=()=>{},p(L)}if(a)return new Uint8Array;if(!y)throw new Error("Unexpected condition: sampleBuffer should be defined");return y}))()}}var nn=f(106),rn=f.n(nn),on=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});function ln({sample:t}){const[e,a]=Object(u.useState)(0),[r,o]=Object(u.useState)("idle"),[i,s]=Object(u.useState)(null),[c,l]=Object(u.useState)(null);Object(u.useEffect)(()=>{i instanceof AudioBuffer&&c&&(l(null),c.fn())},[i,c]);const m=Object(u.useRef)(()=>{});Object(u.useEffect)(()=>{let g=!1;a(0),o("idle"),s(null),l(null),m.current=()=>{g=!0};try{const{sampleBufferPromise:y,cancelWork:k}=an(t,L=>{g||a(L)});m.current=()=>{k(),g=!0},y.then(L=>on(this,null,function*(){if(g)return;m.current=()=>{g=!0};const O=yield Ee(L);g||s(O)}))}catch(y){console.error(y),s(new Error(String(y)))}return()=>m.current()},[t]);const{playAudioBuffer:d}=Nt(),p=Object(u.useCallback)(g=>{if(!(i instanceof AudioBuffer)){if(!i){const{target:y,nativeEvent:k}=g;l({fn:()=>y.dispatchEvent(k)})}return}try{o("transferring");const y=d(i,{onTimeUpdate:k=>a(k/i.duration),onEnded:()=>o("idle")});m.current=()=>{y(),o("idle")}}catch(y){console.error(y),o("error")}},[d,i]),b=Object(u.useCallback)(()=>m.current(),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{className:rn.a.transferButton,type:"button",variant:"primary",onClick:p,disabled:i instanceof Error||r==="transferring"},"Transfer to volca sample"),n.a.createElement("br",null),i&&r==="idle"?null:r==="error"?"Error transferring":n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,i?i instanceof AudioBuffer?"Transferring to volca sample...":"Error preparing sample for transfer":"Preparing sample for transfer..."),n.a.createElement(qa.a,{now:100*e}),n.a.createElement("br",null),n.a.createElement(z.a,{type:"button",variant:"light",onClick:b},"Cancel")),n.a.createElement("br",null))}var Yt=ln,cn=f(107),sn=f.n(cn),un=f(32),he=f.n(un),mn=n.a.memo(function({sampleId:e,qualityBitDepth:a,onSampleUpdate:r}){const[o,i]=Object(u.useState)(a);Object(u.useEffect)(()=>{i(a)},[a]);const s=Object(u.useCallback)(c=>{const l=Number(c.target.value);i(l)},[]);return n.a.createElement(G.a.Group,{className:he.a.qualityBitDepthWrapper},n.a.createElement(G.a.Label,{className:he.a.label},"Quality bit depth"),n.a.createElement("div",{className:he.a.ticks},[8,9,10,11,12,13,14,15,16].map((c,l,{length:m})=>{const d=`calc(${l*100/(m-1)}% + ${12-3*l}px)`,p=o===c;return n.a.createElement(n.a.Fragment,{key:c},n.a.createElement("label",{className:["small",he.a.tickLabel].join(" "),style:{left:d,visibility:p?"hidden":void 0},onClick:()=>r(e,{qualityBitDepth:c})},c),n.a.createElement("span",{className:he.a.tickMark,style:{left:d,visibility:p?"hidden":void 0}}))})),n.a.createElement(sn.a,{value:o,step:1,min:8,max:16,size:"lg",tooltip:"on",tooltipPlacement:"top",tooltipStyle:{zIndex:1020},onChange:s,ref:c=>c&&c.addEventListener("change",()=>{const l=Number(c.value);r(e,{qualityBitDepth:l})})}),n.a.createElement("div",{className:he.a.annotations},n.a.createElement("label",{className:"small"},"Faster transfer"),n.a.createElement("label",{className:"small"},"Higher quality")))}),Zt=f(85),Jt=f.n(Zt),et=f(86),tt=f(87),dn=f(22),ce=f.n(dn),qt=Math.pow;Zt.Digit.defaultProps.offOpacity=0;const ea=(t,e)=>Math.min(199,e+qt(10,t)),ta=(t,e)=>Math.max(0,e-qt(10,t));var aa=n.a.memo(function({slotNumber:t,onSlotNumberUpdate:e}){const[a,r]=Object(u.useState)(t);Object(u.useEffect)(()=>{r(t)},[t]);const[o,i]=Object(u.useState)(null),s=Object(u.useCallback)(d=>{e(p=>ea(d,p))},[e]),c=Object(u.useCallback)(d=>{e(p=>ta(d,p))},[e]),l=Object(u.useRef)(null),m=Object(u.useRef)(null);{const d=Object(u.useRef)(o);d.current=o;const p=Object(u.useRef)(a);p.current=a,Object(u.useEffect)(()=>{if(!m.current)throw new Error("Expected elements to exist");function b(E){const A=d.current===null?0:d.current;let w=!0;const C=()=>{i(A)};switch(E.key){case"ArrowDown":C(),r(v=>ta(A,v));break;case"ArrowUp":C(),r(v=>ea(A,v));break;case"ArrowLeft":C(),i(v=>v!==null&&v<2?v+1:v);break;case"ArrowRight":C(),i(v=>v&&v-1);break;case"Enter":case"Escape":i(null);break;default:w=!1;break}w&&E.preventDefault()}function g(E){const A=d.current===null?2:d.current;E.stopPropagation(),E.preventDefault();const w=p.current;if(isNaN(Number(E.key)))e(w);else{const C=String(w).padStart(3,"0").split("");C[2-A]=E.key;const v=Math.min(199,Math.max(0,Number(C.join(""))));i(A?A-1:null),e(v)}}const y=l.current;y.addEventListener("keydown",b,!0),y.addEventListener("keyup",g,!0);let k=0,L=!1,O=!1,j=0;function M(E){document.body.style.userSelect="none",k=E instanceof MouseEvent?E.pageY:E.touches[0].pageY,L=!0,O=!1,j=p.current}y.addEventListener("mousedown",M),y.addEventListener("touchstart",E=>{E.preventDefault(),M(E)});function B(E){if(!L)return;const{pageY:A}=E instanceof MouseEvent?E:E.touches[0],w=2,C=Math.round((k-A)/w);C&&(O=!0,r(Math.min(199,Math.max(0,j+C))))}window.addEventListener("mousemove",B),y.addEventListener("touchmove",B);function S(){document.body.style.userSelect="unset",L=!1,O&&e(p.current)}window.addEventListener("mouseup",S),y.addEventListener("touchend",S),y.addEventListener("touchcancel",()=>{document.body.style.userSelect="unset"});function P(E){O||m.current&&m.current.some(A=>A.contains(E.target))||i(2)}y.addEventListener("click",P),m.current.forEach((E,A)=>{const w=A;E.addEventListener("click",()=>{O||i(w)}),E.addEventListener("touchstart",C=>{C.preventDefault()})});function D(){L||i(2)}function R(){i(null)}return y.addEventListener("focus",D),y.addEventListener("blur",R),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",S)}},[e])}return Object(u.useEffect)(()=>{if(!m.current)throw new Error("Expected elements to exist");m.current.forEach((d,p)=>{p===o?d.classList.add(ce.a.active):d.classList.remove(ce.a.active)})},[o]),n.a.createElement(n.a.Fragment,null,n.a.createElement(G.a.Label,null,"Choose destination"),n.a.createElement("br",null),n.a.createElement("div",{className:ce.a.slotNumberRow},n.a.createElement("div",{className:ce.a.slotNumberContainer},n.a.createElement("div",{className:ce.a.arrowControls},n.a.createElement("span",{onClick:()=>s(2)},n.a.createElement(et.a,null)),n.a.createElement("span",{onClick:()=>s(1)},n.a.createElement(et.a,null)),n.a.createElement("span",{onClick:()=>s(0)},n.a.createElement(et.a,null))),n.a.createElement("div",{className:ce.a.slotNumber,title:`Slot ${a}`,ref:l,tabIndex:0},n.a.createElement(Jt.a,{value:"8888",color:"var(--bs-gray-dark)",strokeColor:"transparent",digitCount:4}),n.a.createElement(Jt.a,{ref:d=>{const p=Object(vt.findDOMNode)(d);if(p){p.querySelectorAll("circle").forEach(g=>{p.removeChild(g)});const b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.classList.add(ce.a.point),b.setAttribute("cx","10.7"),b.setAttribute("cy","17"),b.setAttribute("r","1"),p.appendChild(b),m.current=[].slice.call(p.querySelectorAll("g")).reverse().slice(0,3)}},value:`5${String(a).padStart(3,"0")}`,digitProps:{color:"var(--bs-primary)"},digitCount:4})),n.a.createElement("div",{className:ce.a.arrowControls},n.a.createElement("span",{onClick:()=>c(2)},n.a.createElement(tt.a,null)),n.a.createElement("span",{onClick:()=>c(1)},n.a.createElement(tt.a,null)),n.a.createElement("span",{onClick:()=>c(0)},n.a.createElement(tt.a,null)))),t>99&&a>99&&n.a.createElement(We.a,{placement:"auto-end",overlay:n.a.createElement(_e.a,null,"To transfer to this destination, be sure you have a volca sample2. The original volca sample only supports slots 0-99.")},n.a.createElement("span",{className:ce.a.warning},n.a.createElement(Qt.a,null)))))}),fn=f(44),Te=f.n(fn),pn=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});const vn=n.a.memo(function({sample:e,onSampleUpdate:a,onSampleDuplicate:r,onSampleDelete:o}){const i=Object(u.useCallback)(s=>{a(e.id,({slotNumber:c})=>({slotNumber:typeof s=="function"?s(c):s}))},[e.id,a]);return n.a.createElement(De.a,{fluid:"sm"},n.a.createElement("h2",null,e.metadata.name,n.a.createElement(hn,{sampleId:e.id,name:e.metadata.name,sourceFileId:e.metadata.sourceFileId,userFileInfo:e.metadata.userFileInfo,onSampleUpdate:a,onSampleDuplicate:r,onSampleDelete:o})),n.a.createElement("p",null,n.a.createElement("strong",null,"Sampled:")," ",new Date(e.metadata.dateSampled).toLocaleString(),n.a.createElement("br",null),n.a.createElement("strong",null,"Updated:")," ",new Date(e.metadata.dateModified).toLocaleString()),n.a.createElement("h4",null,"Configure"),n.a.createElement(mn,{sampleId:e.id,qualityBitDepth:e.metadata.qualityBitDepth,onSampleUpdate:a}),n.a.createElement(Ja,{sample:e,onSampleUpdate:a}),n.a.createElement("h4",null,"Transfer"),n.a.createElement(aa,{slotNumber:e.metadata.slotNumber,onSlotNumberUpdate:i}),n.a.createElement(Yt,{sample:e}))}),hn=n.a.memo(({sampleId:t,name:e,sourceFileId:a,userFileInfo:r,onSampleUpdate:o,onSampleDuplicate:i,onSampleDelete:s})=>{const[c,l]=Object(u.useState)(!1),m=Object(u.useRef)(null),[d,p]=Object(u.useState)(e),[b,g]=Object(u.useState)(!1);Object(u.useEffect)(()=>{b&&(p(e),m.current&&m.current.select())},[b,e]);const y=d.trim(),k=Object(u.useCallback)(M=>{M.preventDefault(),y&&(o(t,{name:y}),g(!1))},[y,t,o]),L=Object(u.useCallback)(()=>i(t),[t,i]),O=Object(u.useCallback)(()=>pn(void 0,null,function*(){const M=yield Y.getSourceFileData(a),B=new Blob([M],{type:r?r.type:"audio/x-wav"});$t(B,`${e}${r?r.ext:".wav"}`)}),[e,a,r]),j=Object(u.useCallback)(M=>{M.preventDefault(),s(t),l(!1)},[t,s]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(za.a,{className:Te.a.optionsButton,variant:"light",align:"end",title:"options"},n.a.createElement(we.a.Item,{onClick:()=>g(!0)},"Rename"),n.a.createElement(we.a.Item,{onClick:L},"Duplicate"),n.a.createElement(we.a.Item,{onClick:O},"Download source audio"),n.a.createElement(we.a.Divider,null),n.a.createElement(we.a.Item,{onClick:()=>l(!0)},"Delete")),n.a.createElement(ae.a,{show:b,"aria-labelledby":"rename-modal"},n.a.createElement(G.a,{onSubmit:k},n.a.createElement(ae.a.Header,null,n.a.createElement(ae.a.Title,{id:"rename-modal"},"Renaming sample")),n.a.createElement(ae.a.Body,null,n.a.createElement("p",null,"Choose a new name for the sample ",n.a.createElement("strong",null,e),":"),n.a.createElement(G.a.Control,{ref:m,defaultValue:e,onChange:M=>p(M.target.value)})),n.a.createElement(ae.a.Footer,null,n.a.createElement(z.a,{type:"button",variant:"light",onClick:()=>g(!1)},"Cancel"),n.a.createElement(z.a,{type:"submit",variant:"primary",disabled:!y},"Rename")))),n.a.createElement(ae.a,{show:c,"aria-labelledby":"delete-modal"},n.a.createElement(G.a,{onSubmit:j},n.a.createElement(ae.a.Header,{className:Te.a.deleteModalHeader},n.a.createElement(Qt.a,null),n.a.createElement(ae.a.Title,{id:"delete-modal"},"Deleting sample")),n.a.createElement(ae.a.Body,null,n.a.createElement("p",null,"Are you sure you want to delete ",n.a.createElement("strong",null,e),"?")),n.a.createElement(ae.a.Footer,null,n.a.createElement(z.a,{type:"button",variant:"light",onClick:()=>l(!1)},"Cancel"),n.a.createElement(z.a,{type:"submit",variant:"primary"},"Delete")))))});var yn=vn,ze=f(159),bn=f(110),gn=f.n(bn);function En({sample:t}){const{wav:e,audioBuffer:a}=Mt(t),{sample:{metadata:{name:r,normalize:o,trim:{frames:i}}},sourceAudioBuffer:s}=xt(t),{monoSamples:c,waveformRef:l,peaks:m,onResize:d}=Wt(s),p=Object(u.useMemo)(()=>{if(!s)return 0;const j=Le(c,i);return pe(j)},[s,c,i]),b=1/p,{isPlaybackActive:g,playbackProgress:y,displayedTime:k,togglePlayback:L,stopPlayback:O}=_t(a);return Object(u.useEffect)(()=>O,[t,O]),n.a.createElement("div",{className:gn.a.waveformContainer},n.a.createElement(qe,{waveformRef:l,peaks:m,scaleCoefficient:o?b:1,onResize:d}),n.a.createElement(Xt,{isPlaybackActive:g,playbackProgress:y,displayedTime:k,downloadFilename:`${r}.volcasample.wav`,wavFile:e,togglePlayback:L}))}var wn=En,Sn=Object.defineProperty,Cn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,na=Object.getOwnPropertySymbols,kn=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable,ra=(t,e,a)=>e in t?Sn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,jn=(t,e)=>{for(var a in e||(e={}))kn.call(e,a)&&ra(t,a,e[a]);if(na)for(var a of na(e))Dn.call(e,a)&&ra(t,a,e[a]);return t},Pn=(t,e)=>Cn(t,On(e));function Rn(t){const e=t.metadata.slotNumber,[a,r]=Object(u.useState)(e);return Object(u.useEffect)(()=>{r(e)},[e]),{sample:Object(u.useMemo)(()=>t&&new Y(Pn(jn({id:t.id},t.metadata),{slotNumber:a})),[t,a]),setSlotNumber:r}}function An({sample:t,onSampleDuplicate:e}){const{sample:a,setSlotNumber:r}=Rn(t);return n.a.createElement(De.a,{fluid:"sm"},n.a.createElement("h2",null,a.metadata.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Sampled:")," ",new Date(a.metadata.dateSampled).toLocaleString()),n.a.createElement(ze.a,{variant:"secondary"},n.a.createElement(ze.a.Heading,null,"This is a factory sample."),n.a.createElement("p",null,"If you want to trim the audio or adjust quality before transferring to the volca sample,"," ",n.a.createElement("span",{className:Te.a.buttonLink},n.a.createElement(z.a,{variant:"link",className:Te.a.duplicateButtonLink,onClick:()=>e(a.id)},"make a duplicate"),"."))),n.a.createElement("h4",null,"Preview"),n.a.createElement(wn,{sample:a}),n.a.createElement("h4",null,"Transfer"),n.a.createElement(aa,{slotNumber:a.metadata.slotNumber,onSlotNumberUpdate:r}),n.a.createElement(Yt,{sample:a}))}var Mn=An,Bn=f(112),Ce=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});let oa;function at(){const t=jt();return oa=oa||new t(navigator.mediaDevices.getSupportedConstraints().sampleRate?{sampleRate:Pe}:{})}function Nn(){return Ce(this,null,function*(){{const r=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1});for(const o of r.getTracks())o.stop()}const e=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput"),a=[];for(const r of e){const o=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:r.deviceId,channelCount:2},video:!1}),i=(yield navigator.mediaDevices.enumerateDevices()).find(({deviceId:c})=>r.deviceId===c).label;let s=1;{const c=o.getAudioTracks()[0],l=c.getSettings().channelCount;l?s=l:c.getCapabilities&&(s=(c.getCapabilities().channelCount||{}).max||s)}for(const c of o.getTracks())c.stop();a.push({device:{deviceId:r.deviceId,label:i},channelsAvailable:s})}return a})}let nt;function Ln(t){return Ce(this,arguments,function*({onData:e,onFinish:a}){const r=at();nt=nt||r.audioWorklet.addModule("recorderWorkletProcessor.js"),yield nt;const o=new AudioWorkletNode(r,"recorder-worklet",{parameterData:{bufferSize:1024}});o.port.onmessage=s=>{if(s.data.eventType==="data"){const c=s.data.audioChannels;e(c)}s.data.eventType==="stop"&&a()};const i=o.parameters.get("isRecording");return i.setValueAtTime(1,r.currentTime),{recorderNode:o,stop(){i.setValueAtTime(0,r.currentTime)}}})}function In({channelCount:t,onData:e,onFinish:a}){const o=at().createScriptProcessor(1024,t,t);let i=!1;return o.onaudioprocess=s=>{const c=Array(t).fill().map((l,m)=>s.inputBuffer.getChannelData(m));e(c),i&&a()},{recorderNode:o,stop(){i=!0}}}function Fn(t){return Ce(this,null,function*(){return typeof AudioWorkletNode=="undefined"?In(t):yield Ln(t)})}function xn(t){return Ce(this,arguments,function*({deviceId:e,channelCount:a,onStart:r,onUpdate:o}){const i=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:e,channelCount:a,sampleRate:Pe,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},video:!1}),s=at(),c=s.createMediaStreamSource(i),{recorderNode:l,stop:m}=yield Fn({channelCount:a,onData:y,onFinish:M});c.connect(l),l.connect(s.destination);const d=10;r(s.sampleRate,d);const p=d*s.sampleRate;let b=0;const g=Array(a).fill([]);function y(B){let S=0;const P=[];for(let E=0;E<a;E++){const A=B[E],w=A.length,C=A.slice(0,Math.min(w,p-b));kt(C),S||(S=C.length),P.push(C)}const D=ja(P),R=Dt(D);g.push(R),b+=S,b>=p&&m(),o(P)}let k,L;const O=new Promise((B,S)=>{k=B,L=S});let j=!1;function M(){return Ce(this,null,function*(){if(j)return;try{const P=yield new Blob(g).arrayBuffer(),D=new Float32Array(P),R=bt()({channels:a,sampleRate:s.sampleRate,bitDepth:16,dataLength:D.byteLength}),E=new Uint8Array(R.length+D.byteLength);E.set(R),E.set(new Uint8Array(D.buffer),R.length),k(E)}catch(S){L(S)}const B=i.getTracks();for(const S of B)S.stop();l.disconnect(s.destination),c.disconnect(l),j=!0})}return{stop:m,mediaRecording:O}})}var Wn=f(55),He=f.n(Wn),Oe=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});const la="capture_device_preference";let ca=null;function _n(t,e){const a=Object(u.useRef)(JSON.parse(localStorage.getItem(la)||"null")),[r,o]=Object(u.useState)(ca),[i,s]=Object(u.useState)(r?"ok":"pending"),[c,l]=Object(u.useState)("");Object(u.useEffect)(()=>{ca=r,s("ok")},[r]);const m=Object(u.useCallback)(()=>{let w=!1;return Nn().then(C=>{w||C.length&&(o(new Map(C.map(v=>[v.device.deviceId,v]))),l(v=>v?(a.current=null,v):a.current&&C.find(({device:I})=>a.current.deviceId===I.deviceId)?a.current.deviceId:(a.current=null,C[0].device.deviceId)))}).catch(C=>{if(!w){if(C instanceof DOMException){if(C.name==="NotAllowedError"){s("denied");return}if(C.name==="NotFoundError"){s("unavailable");return}}throw C}}),()=>{w=!0}},[]),[d,p]=Object(u.useState)(1);Object(u.useEffect)(()=>{const w=r&&r.get(c);w&&(a.current&&a.current.deviceId===w.device.deviceId&&a.current.channelCount<=w.channelsAvailable?p(a.current.channelCount):p(w.channelsAvailable),a.current=null)},[r,c]),Object(u.useEffect)(()=>{c&&localStorage.setItem(la,JSON.stringify({deviceId:c,channelCount:d}))},[c,d]);const[b,g]=Object(u.useState)("ready"),[y,k]=Object(u.useState)(null),[L,O]=Object(u.useState)(!1);Object(u.useEffect)(()=>{b!=="ready"&&O(!1)},[b]);const j=Object(u.useCallback)(()=>{O(!1)},[]),[M,B]=Object(u.useState)({fn(w){}});Object(u.useEffect)(()=>M.fn,[M]);const[S,P]=Object(u.useState)(1/0),[D,R]=Object(u.useState)(0),E=Object(u.useCallback)(()=>Oe(this,null,function*(){let w=!1;const C=(H,ie)=>xn({deviceId:H,channelCount:ie,onStart:(x,W)=>{const Q=W*x;P(x),R(Q),g("capturing")},onUpdate:t}),v=a.current,{mediaRecording:I,stop:ne}=yield v?(()=>Oe(this,null,function*(){try{return C(v.deviceId,v.channelCount)}catch(H){if(H instanceof DOMException&&H.name==="NotFoundError")return C(c,d);throw H}}))():C(c,d);B({fn(H){ne(),H&&(w=!0)}});let re;try{re=yield I}catch(H){k(H),g("error");return}if(w)g("ready");else{g("finalizing");const H=yield e(re);w||(g("ready"),H==="silent"&&O(!0))}}),[c,d,t,e]),A=Object(u.useCallback)(w=>{if(w.target.files&&w.target.files.length){const C=w.target.files[0];C.arrayBuffer().then(v=>Oe(this,null,function*(){const I=new Uint8Array(v);let ne;try{ne=yield Ee(I)}catch(H){alert("Unsupported audio format detected");return}if(ne.length>10*ne.sampleRate){alert("Please select an audio file no more than 10 seconds long");return}g("finalizing");const re=yield e(I,C);g("ready"),re==="silent"&&O(!0)}))}},[e]);return{captureDevices:r,accessState:i,selectedCaptureDeviceId:c,selectedChannelCount:d,captureState:b,recordingError:y,showSilenceWarning:L,sampleRate:S,maxSamples:D,refreshCaptureDevices:m,setSelectedCaptureDeviceId:l,setSelectedChannelCount:p,beginRecording:E,stopRecording:M.fn,importFile:A,dismissSilenceWarning:j}}const rt=3;function Tn({canvas:t,peaks:e,drawUntil:a,scaleCoefficient:r}){const o="#fff",i=t.getContext("2d");i.imageSmoothingEnabled=!1;const{width:s,height:c}=t;i.clearRect(0,0,s,c),i.fillStyle=o;for(let l=0;l<a&&l<e.length;l++){const m=e[l],d=c*m,p=Math.max(Math.round(r*d),2);i.fillRect(l*rt,c-p,rt-1,p)}}function zn({onRecordFinish:t}){const e=Object(u.useRef)(null),a=Object(u.useRef)(0),r=Object(u.useRef)(new Float32Array),o=Object(u.useRef)(0),i=Object(u.useRef)([]),s=Object(u.useRef)(1/0),c=Object(u.useRef)(0),[l,m]=Object(u.useState)(0),d=Object(u.useCallback)(v=>Oe(this,null,function*(){const I=a.current,ne=r.current,re=i.current;if(re.push(v),c.current+=v[0].length,m(Math.floor(c.current/s.current)),re.reduce((ie,[{length:x}])=>ie+x,0)>=I){const ie=yield Promise.all(v.map((W,Q)=>re.reduce((ke,oe)=>[...ke,oe[Q]],[])).map(W=>Oe(this,null,function*(){const Q=yield new Blob(W).arrayBuffer();return new Float32Array(Q)}))),x=ie.map(W=>pe(new Float32Array(W.buffer,0,I)));ne[o.current++]=Math.max(...x),Tn({canvas:e.current,peaks:ne,drawUntil:o.current,scaleCoefficient:.3}),i.current=[ie.map(W=>W.slice(I))]}}),[]),{captureDevices:p,accessState:b,selectedCaptureDeviceId:g,selectedChannelCount:y,captureState:k,recordingError:L,showSilenceWarning:O,maxSamples:j,sampleRate:M,refreshCaptureDevices:B,setSelectedCaptureDeviceId:S,setSelectedChannelCount:P,beginRecording:D,stopRecording:R,importFile:E,dismissSilenceWarning:A}=_n(d,t);s.current=M,Object(u.useEffect)(()=>{const v=e.current;v&&(v.width=v.offsetWidth,v.height=v.offsetHeight)},[b]),Object(u.useLayoutEffect)(()=>{const v=e.current;!v||(k!=="finalizing"&&v.getContext("2d").clearRect(0,0,v.width,v.height),k==="capturing"&&j&&(a.current=Math.floor(rt*j/e.current.width),r.current=new Float32Array(Math.floor(j/a.current)),o.current=0,i.current=[],s.current=1/0,c.current=0,m(0)))},[j,k]);const[w,C]=Object(u.useState)(!1);return Object(u.useEffect)(()=>{w&&B()},[w,B]),n.a.createElement(De.a,{fluid:"sm"},b==="denied"?n.a.createElement("p",null,"Looks like you didn't grant access to your audio input device. Please give Volca Sampler access, then"," ",n.a.createElement(z.a,{type:"button",variant:"secondary",onClick:B},"try again")):b==="unavailable"?n.a.createElement("p",null,"Volca Sampler couldn't find any audio input devices. Please connect one, then"," ",n.a.createElement(z.a,{type:"button",variant:"secondary",onClick:B},"try again")):n.a.createElement("div",null,n.a.createElement("h2",null,"Send a new sound to your volca sample!"),O&&n.a.createElement("div",{className:He.a.alertContainer},n.a.createElement(ze.a,{dismissible:!0,variant:"warning",onClose:A},n.a.createElement(ze.a.Heading,null,"Your recording was totally silent."),n.a.createElement("p",null,"Check the audio input settings and your connections, then try again."))),n.a.createElement(z.a,{className:He.a.recordButton,type:"button",variant:k==="capturing"?"danger":"primary",size:"lg",style:{width:250},onClick:k==="capturing"?()=>R():D,disabled:k==="finalizing"},n.a.createElement("canvas",{ref:e}),n.a.createElement("span",{className:He.a.mainText},["capturing","finalizing"].includes(k)?"Finished recording":"Start recording"),["capturing","finalizing"].includes(k)&&n.a.createElement("span",{className:He.a.timeRecorded},"0:",String(l).padStart(2,"0"))),["capturing","finalizing"].includes(k)?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(z.a,{style:{width:250},size:"sm",type:"button",variant:"secondary",onClick:()=>R(!0)},"Cancel")):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(z.a,{style:{width:250},type:"button",variant:"light",size:"sm",onClick:()=>C(v=>!v)},"Audio input settings ",w?"\u25B2":"\u25BC"),n.a.createElement(Bn.a,{in:w},n.a.createElement("div",null,n.a.createElement(G.a.Group,null,n.a.createElement(G.a.Label,null,"Capture Device"),n.a.createElement(G.a.Select,{style:{width:250},value:g,onChange:v=>S(v.target.value)},p&&b==="ok"?[...p].map(([v,{device:I}])=>n.a.createElement("option",{key:v,value:v},I.label||v)):n.a.createElement("option",{value:"",disabled:!0},"Loading devices..."))),n.a.createElement(G.a.Group,null,n.a.createElement(G.a.Label,null,"Input channels"),n.a.createElement(G.a.Select,{style:{width:250},value:y,onChange:v=>P(Number(v.target.value))},[1,2].map(v=>n.a.createElement("option",{key:v,value:v,disabled:!p||!p.has(g)||p.get(g).channelsAvailable<v},v===1?"Mono":"Stereo (summed to mono)")))),n.a.createElement("br",null))))),k==="error"&&L||null,n.a.createElement("br",null),n.a.createElement(z.a,{style:{width:250},type:"button",variant:"secondary",onClick:v=>{const I=v.currentTarget.querySelector("input");I&&v.target!==I&&I.click()}},"Or import an audio file",n.a.createElement("input",{hidden:!0,type:"file",accept:"audio/*,.wav,.mp3,.ogg",onChange:E})))}var Hn=zn,Vn=f(91),ia=f.n(Vn),Un=(t,e,a)=>new Promise((r,o)=>{var i=l=>{try{c(a.next(l))}catch(m){o(m)}},s=l=>{try{c(a.throw(l))}catch(m){o(m)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);c((a=a.apply(t,e)).next())});const ot="focused_sample_id";function Qn(){const[t,e]=Object(u.useState)(new Map),[a,r]=Object(u.useState)(new Map),o=Object(u.useMemo)(()=>new Map([...t,...a]),[t,a]);Object(u.useEffect)(()=>{Ca().then(r).catch(console.error)},[]);const i=sessionStorage.getItem(ot),[s,c]=Object(u.useState)(i&&typeof i=="string"?i:null);Object(u.useEffect)(()=>{s?sessionStorage.setItem(ot,s):sessionStorage.removeItem(ot)},[s]);const[l,m]=Object(u.useState)(!0);Object(u.useEffect)(()=>{Y.getAllFromStorage().then(S=>{e(P=>new Map([...P,...S.map(D=>[D.id,D])]))}).finally(()=>{m(!1)})},[]);const d=Object(u.useCallback)((S,P)=>Un(this,null,function*(){const D=yield Ee(S),R=[0,0],E=yield Je(D,R);if([...E.positive,...E.negative].every(I=>I===0))return"silent";const A=yield Ea(S);let w="",C="";if(P){const I=P.name.lastIndexOf(".");I>0?(w=P.name.slice(0,I),C=P.name.slice(I)):w=P.name}else w="New sample";const v=new Y.Mutable({name:w,sourceFileId:A,trim:{frames:R,waveformPeaks:E},userFileInfo:P&&{type:P.type,ext:C}});return yield v.persist(),e(I=>new Map([[v.id,v],...I])),c(v.id),"saved"}),[]),p=Object(u.useCallback)((S,P)=>{e(D=>{const R=D.get(S);if(R&&R instanceof Y.Mutable){const E=R.update(P);if(E!==R)return new Map(D).set(R.id,E)}return D})},[]),b=Object(u.useRef)(o);b.current=o;const g=Object(u.useCallback)(S=>{const P=b.current.get(S);if(P){const D=P.duplicate();e(R=>new Map([[D.id,D],...R])),c(D.id)}},[]),y=Object(u.useRef)(t);y.current=t;const k=Object(u.useCallback)(S=>{const P=y.current,D=P.get(S);if(D&&D instanceof Y.Mutable){D.remove();let R=null,E=!1;for(const[,A]of P){if(E){R=A.id;break}if(A.id===S){if(!R){E=!0;continue}break}R=A.id}c(R),e(A=>{const w=new Map(A);return w.delete(D.id),w})}},[]),[L,O]=Object(u.useState)(!1),j=Object(u.useCallback)(S=>{c(S),O(!1)},[]),M=Object(u.useCallback)(()=>O(!0),[]),B=Object(u.useCallback)(()=>c(null),[]);return n.a.createElement("div",null,n.a.createElement(pa,{onMenuOpen:M,onHeaderClick:B}),n.a.createElement(Xe.a,{show:L,onHide:()=>O(!1)},n.a.createElement(Xe.a.Header,{closeButton:!0}),n.a.createElement(Xe.a.Body,null,n.a.createElement(ht.a,null,n.a.createElement(ht.a.Item,{as:"button",onClick:()=>j(null)},"New Sample"),l?"Loading...":null,!l&&n.a.createElement(ue.a,{defaultActiveKey:t.size?"user":"factory"},n.a.createElement(ue.a.Item,{eventKey:"user"},n.a.createElement(ue.a.Header,null,"Your Samples"),n.a.createElement(ue.a.Body,{style:{padding:0}},n.a.createElement(Ut,{samples:t,selectedSampleId:s,onSampleSelect:j}))),n.a.createElement(ue.a.Item,{eventKey:"factory"},n.a.createElement(ue.a.Header,null,"Factory Samples"),n.a.createElement(ue.a.Body,{style:{padding:0}},n.a.createElement(Ut,{samples:a,selectedSampleId:s,onSampleSelect:j}))))))),n.a.createElement("div",{className:ia.a.mainLayout},n.a.createElement("div",{className:ia.a.focusedSampleContainer},s&&(()=>{const S=o.get(s)||null;return S?S instanceof Y.Mutable?n.a.createElement(yn,{sample:S,onSampleUpdate:p,onSampleDuplicate:g,onSampleDelete:k}):n.a.createElement(Mn,{sample:S,onSampleDuplicate:g}):null})(),!s&&n.a.createElement(Hn,{onRecordFinish:d}))))}var $n=Qn,Xn=t=>{t&&t instanceof Function&&f.e(3).then(f.bind(null,168)).then(({getCLS:e,getFID:a,getFCP:r,getLCP:o,getTTFB:i})=>{e(t),a(t),r(t),o(t),i(t)})};Blob.prototype.arrayBuffer||(Blob.prototype.arrayBuffer=function(){return new Response(this).arrayBuffer()}),da.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ra,null,n.a.createElement($n,null))),document.getElementById("root")),Xn()},22:function(F,X,f){F.exports={"form-switch":"SlotNumberInput_form-switch__39Wtl","form-check-input":"SlotNumberInput_form-check-input__oNf4Z",slotNumberRow:"SlotNumberInput_slotNumberRow__kQwOw",slotNumberContainer:"SlotNumberInput_slotNumberContainer__1q7P1",arrowControls:"SlotNumberInput_arrowControls__1LPAC",slotNumber:"SlotNumberInput_slotNumber__GC-i7",active:"SlotNumberInput_active__2zN4D",digitBlinkEffect:"SlotNumberInput_digitBlinkEffect__1_u8n",point:"SlotNumberInput_point__3pJD3",warning:"SlotNumberInput_warning__3NAeN"}},23:function(F,X,f){F.exports={titleBar:"Header_titleBar__3BLa-",menuIcon:"Header_menuIcon__swn7p",title:"Header_title__R3bRx",titleText:"Header_titleText__3e5ME",titleR:"Header_titleR__3QRgv",titleStarburst:"Header_titleStarburst__1oLYP",titleGraphic:"Header_titleGraphic__3S89F"}},32:function(F,X,f){F.exports={"form-switch":"QualityBitDepthControl_form-switch__3nCZi","form-check-input":"QualityBitDepthControl_form-check-input__2KgZ8",qualityBitDepthWrapper:"QualityBitDepthControl_qualityBitDepthWrapper__2qLOe",label:"QualityBitDepthControl_label___ohmN",ticks:"QualityBitDepthControl_ticks__1u5GH",tickLabel:"QualityBitDepthControl_tickLabel__2jXRm",tickMark:"QualityBitDepthControl_tickMark__24xm0",annotations:"QualityBitDepthControl_annotations__3mXj2"}},44:function(F,X,f){F.exports={"form-switch":"SampleDetail_form-switch__31CS2","form-check-input":"SampleDetail_form-check-input__1NWgi",optionsButton:"SampleDetail_optionsButton__k0UjV",duplicateButtonLink:"SampleDetail_duplicateButtonLink__3CZZy",deleteModalHeader:"SampleDetail_deleteModalHeader__3DiKA",normalizeControlWrapper:"SampleDetail_normalizeControlWrapper__1yc_t",slotNumber:"SampleDetail_slotNumber__3sgS6",point:"SampleDetail_point__3d7qL"}},45:function(F,X,f){F.exports={playbackOverlay:"WaveformPlayback_playbackOverlay__Er0Rh",playbackActive:"WaveformPlayback_playbackActive__1IHxg",playback:"WaveformPlayback_playback__2heRw",playbackButtonContainer:"WaveformPlayback_playbackButtonContainer__Lhahe",downloadButton:"WaveformPlayback_downloadButton__2s-L5"}},55:function(F,X,f){F.exports={alertContainer:"SampleRecord_alertContainer__vjGNP",recordButton:"SampleRecord_recordButton__3R-KX",mainText:"SampleRecord_mainText__2dca6",timeRecorded:"SampleRecord_timeRecorded__3FGTe"}},8:function(F,X,f){F.exports={"form-switch":"WaveformEdit_form-switch__2DZid","form-check-input":"WaveformEdit_form-check-input__2TImp",waveformAdjacentControls:"WaveformEdit_waveformAdjacentControls__12b8z",waveformContainer:"WaveformEdit_waveformContainer__Qq3MI",cursor:"WaveformEdit_cursor__1Ntb3",trim:"WaveformEdit_trim__1GV76",playbackActive:"WaveformEdit_playbackActive__hTwgX",bar:"WaveformEdit_bar__1KFgt",handle:"WaveformEdit_handle__23NoG",time:"WaveformEdit_time__YX5rg",left:"WaveformEdit_left__3Jfpn",right:"WaveformEdit_right__35CjW",waveformOverlay:"WaveformEdit_waveformOverlay__3oZfw"}},91:function(F,X,f){F.exports={"form-switch":"App_form-switch__3Ht4D","form-check-input":"App_form-check-input__19Z6o",mainLayout:"App_mainLayout__3UKwp",focusedSampleContainer:"App_focusedSampleContainer__1lol8"}}},[[149,1,2]]]);

//# sourceMappingURL=main.ab5295ac.chunk.js.map