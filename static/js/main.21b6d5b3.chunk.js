(this["webpackJsonpvolca-sampler"]=this["webpackJsonpvolca-sampler"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('[{"name":"Kick 1","sourceFileId":"/factory-samples/00 Kick 1.wav","id":"c772ab34-c24c-427e-a7dd-4c5e5741d2f3","slotNumber":0,"dateSampled":1412121600000},{"name":"Kick 2","sourceFileId":"/factory-samples/01 Kick 2.wav","id":"f3d5f1c5-5515-4cdf-9d07-af5b2f5819c7","slotNumber":1,"dateSampled":1412121600000},{"name":"Kick 3","sourceFileId":"/factory-samples/02 Kick 3.wav","id":"d2974df5-dd5f-4f51-b802-eff611c261b5","slotNumber":2,"dateSampled":1412121600000},{"name":"Kick 4","sourceFileId":"/factory-samples/03 Kick 4.wav","id":"795d10ed-fd1a-468e-846d-f1cfaea67c22","slotNumber":3,"dateSampled":1412121600000},{"name":"Kick 5","sourceFileId":"/factory-samples/04 Kick 5.wav","id":"c69ab33f-1f77-49f6-b51d-ad33755736ea","slotNumber":4,"dateSampled":1412121600000},{"name":"Kick 6","sourceFileId":"/factory-samples/05 Kick 6.wav","id":"0b816d10-32f5-4faa-8707-f9d56c5084d2","slotNumber":5,"dateSampled":1412121600000},{"name":"Kick 7","sourceFileId":"/factory-samples/06 Kick 7.wav","id":"0e6b4e13-3443-4944-9c9d-20e74f62175e","slotNumber":6,"dateSampled":1412121600000},{"name":"Kick 8","sourceFileId":"/factory-samples/07 Kick 8.wav","id":"7592cd99-b515-47fe-8483-37a059b8a43c","slotNumber":7,"dateSampled":1412121600000},{"name":"Kick 9","sourceFileId":"/factory-samples/08 Kick 9.wav","id":"f9c475d4-b461-4cc5-bc6c-1217b993753c","slotNumber":8,"dateSampled":1412121600000},{"name":"Kick 10","sourceFileId":"/factory-samples/09 Kick 10.wav","id":"1e512329-a84c-4bfc-9ff8-b192661e5641","slotNumber":9,"dateSampled":1412121600000},{"name":"Snare 1","sourceFileId":"/factory-samples/10 Snare 1.wav","id":"5428638b-0947-4d3d-9a57-d0d7d4a6b155","slotNumber":10,"dateSampled":1412121600000},{"name":"Snare 2","sourceFileId":"/factory-samples/11 Snare 2.wav","id":"2b162b4c-5bba-443a-aea4-35c800f46d0d","slotNumber":11,"dateSampled":1412121600000},{"name":"Snare 3","sourceFileId":"/factory-samples/12 Snare 3.wav","id":"0c5cab49-718d-4e56-b8bf-4dedb8a23cf0","slotNumber":12,"dateSampled":1412121600000},{"name":"Snare 4","sourceFileId":"/factory-samples/13 Snare 4.wav","id":"2c5fcca3-83da-48db-9077-a5b87e3efaeb","slotNumber":13,"dateSampled":1412121600000},{"name":"Snare 5","sourceFileId":"/factory-samples/14 Snare 5.wav","id":"a23a3659-2aeb-4560-94a0-2e93e701d2a1","slotNumber":14,"dateSampled":1412121600000},{"name":"Snare 6","sourceFileId":"/factory-samples/15 Snare 6.wav","id":"e24f3556-f541-40d5-8a31-d5bc0eb34e19","slotNumber":15,"dateSampled":1412121600000},{"name":"Snare 7","sourceFileId":"/factory-samples/16 Snare 7.wav","id":"4d0a714e-19f6-4738-bfa3-8c1c86eedf1c","slotNumber":16,"dateSampled":1412121600000},{"name":"Snare 8","sourceFileId":"/factory-samples/17 Snare 8.wav","id":"2398e1f1-fb45-48d9-aaf8-92c8fcd91e70","slotNumber":17,"dateSampled":1412121600000},{"name":"Snare 9","sourceFileId":"/factory-samples/18 Snare 9.wav","id":"fbd72b54-e586-45da-b489-24a856f4ab67","slotNumber":18,"dateSampled":1412121600000},{"name":"Snare 10","sourceFileId":"/factory-samples/19 Snare 10.wav","id":"32f72b85-3679-4bc3-9246-e7f1753d0ca6","slotNumber":19,"dateSampled":1412121600000},{"name":"Snare 11","sourceFileId":"/factory-samples/20 Snare 11.wav","id":"82bd1030-8dd4-406e-9b28-9bcf6dc917b2","slotNumber":20,"dateSampled":1412121600000},{"name":"Snare 12","sourceFileId":"/factory-samples/21 Snare 12.wav","id":"f1dc1f5f-2f49-445d-b158-06cf35156c14","slotNumber":21,"dateSampled":1412121600000},{"name":"Clap 1","sourceFileId":"/factory-samples/22 Clap 1.wav","id":"0231f9ac-2ea8-4616-bd97-db2df5ad4bf8","slotNumber":22,"dateSampled":1412121600000},{"name":"Clap 2","sourceFileId":"/factory-samples/23 Clap 2.wav","id":"65bd621d-88ca-473d-8c9e-cf7112006605","slotNumber":23,"dateSampled":1412121600000},{"name":"Clap 3","sourceFileId":"/factory-samples/24 Clap 3.wav","id":"06481237-8fa5-4b8e-a92d-98de4a934a4d","slotNumber":24,"dateSampled":1412121600000},{"name":"Clap 4","sourceFileId":"/factory-samples/25 Clap 4.wav","id":"7fd936c1-8023-461b-a3e9-09a3273fede3","slotNumber":25,"dateSampled":1412121600000},{"name":"Clap 5","sourceFileId":"/factory-samples/26 Clap 5.wav","id":"e5066b38-bc10-4231-a8da-712690e9b26e","slotNumber":26,"dateSampled":1412121600000},{"name":"Clap 6","sourceFileId":"/factory-samples/27 Clap 6.wav","id":"43b441d2-9750-47bb-945b-188c0e6a10da","slotNumber":27,"dateSampled":1412121600000},{"name":"Clap 7","sourceFileId":"/factory-samples/28 Clap 7.wav","id":"6587d57e-81c2-4bdb-b49c-8524bb27d64f","slotNumber":28,"dateSampled":1412121600000},{"name":"Clap 8","sourceFileId":"/factory-samples/29 Clap 8.wav","id":"06127a2e-b7aa-4def-9f21-ed71e73332b7","slotNumber":29,"dateSampled":1412121600000},{"name":"Hihat 1","sourceFileId":"/factory-samples/30 Hihat 1.wav","id":"754bfc3f-55ca-49a4-a8c1-0857171dbaf0","slotNumber":30,"dateSampled":1412121600000},{"name":"Hihat 2","sourceFileId":"/factory-samples/31 Hihat 2.wav","id":"1c35941c-12d1-44b5-a9c7-306ae4e02aa5","slotNumber":31,"dateSampled":1412121600000},{"name":"Hihat 3","sourceFileId":"/factory-samples/32 Hihat 3.wav","id":"5f26515e-47f5-4b63-8a1c-f4ece36356c5","slotNumber":32,"dateSampled":1412121600000},{"name":"Hihat 4","sourceFileId":"/factory-samples/33 Hihat 4.wav","id":"be0ce459-bd68-400d-843a-1e4ea01cd603","slotNumber":33,"dateSampled":1412121600000},{"name":"Hihat 5","sourceFileId":"/factory-samples/34 Hihat 5.wav","id":"55def0cc-2dce-4715-b33c-4f3fbf7b6be7","slotNumber":34,"dateSampled":1412121600000},{"name":"Hihat 6","sourceFileId":"/factory-samples/35 Hihat 6.wav","id":"ea9eab0d-16d7-48cf-b66a-c9cee346c16f","slotNumber":35,"dateSampled":1412121600000},{"name":"Hihat 7","sourceFileId":"/factory-samples/36 Hihat 7.wav","id":"7bafb33e-fa5e-4c67-b929-fd159e482f58","slotNumber":36,"dateSampled":1412121600000},{"name":"Hihat 8","sourceFileId":"/factory-samples/37 Hihat 8.wav","id":"b3730698-0c01-431d-997d-f07a3948c493","slotNumber":37,"dateSampled":1412121600000},{"name":"Hihat 9","sourceFileId":"/factory-samples/38 Hihat 9.wav","id":"cc382746-08a8-4a66-92db-24bc6ff2bbab","slotNumber":38,"dateSampled":1412121600000},{"name":"Hihat 10","sourceFileId":"/factory-samples/39 Hihat 10.wav","id":"6b394350-d509-4f29-9c47-94f640db1e62","slotNumber":39,"dateSampled":1412121600000},{"name":"Crash","sourceFileId":"/factory-samples/40 Crash.wav","id":"e21b7752-e63e-4ff4-853c-8e1ef8d142fe","slotNumber":40,"dateSampled":1412121600000},{"name":"Ride","sourceFileId":"/factory-samples/41 Ride.wav","id":"f6233ac9-eb92-4977-afac-2b76dc013e9b","slotNumber":41,"dateSampled":1412121600000},{"name":"Swoosh","sourceFileId":"/factory-samples/42 Swoosh.wav","id":"67ac5d1a-f20a-40f3-bf4e-7af085e7ca0d","slotNumber":42,"dateSampled":1412121600000},{"name":"SynthRim","sourceFileId":"/factory-samples/43 SynthRim.wav","id":"317b7ecb-04d9-4ef4-87a7-ea7f6278d5db","slotNumber":43,"dateSampled":1412121600000},{"name":"SynthTom 1","sourceFileId":"/factory-samples/44 SynthTom 1.wav","id":"0aea0c0f-71df-4b89-82bd-0e024ec506b7","slotNumber":44,"dateSampled":1412121600000},{"name":"SynthTom 2","sourceFileId":"/factory-samples/45 SynthTom 2.wav","id":"d2aa2100-1db9-42bc-a18f-9532b793c405","slotNumber":45,"dateSampled":1412121600000},{"name":"SynthTom 3","sourceFileId":"/factory-samples/46 SynthTom 3.wav","id":"a0849e56-821d-4ae8-99cd-d10a825a92ae","slotNumber":46,"dateSampled":1412121600000},{"name":"SynthTom 4","sourceFileId":"/factory-samples/47 SynthTom 4.wav","id":"bac3b685-6103-4ef2-9cc6-99905bdd53fd","slotNumber":47,"dateSampled":1412121600000},{"name":"Tom 1","sourceFileId":"/factory-samples/48 Tom 1.wav","id":"3e6924a7-66a6-43e6-8da3-b2f0a7554392","slotNumber":48,"dateSampled":1412121600000},{"name":"Tom 2","sourceFileId":"/factory-samples/49 Tom 2.wav","id":"b9593267-316a-4438-98ca-f78d6baf0351","slotNumber":49,"dateSampled":1412121600000},{"name":"SynthCow","sourceFileId":"/factory-samples/50 SynthCow.wav","id":"da499a56-db1f-4a1e-9a41-7fadf7d6deee","slotNumber":50,"dateSampled":1412121600000},{"name":"Bongo","sourceFileId":"/factory-samples/51 Bongo.wav","id":"708116b3-98e6-469a-a295-855a0d613054","slotNumber":51,"dateSampled":1412121600000},{"name":"DoncaClaves","sourceFileId":"/factory-samples/52 DoncaClaves.wav","id":"eac54d71-e48e-4441-8574-1ed6ff57599a","slotNumber":52,"dateSampled":1412121600000},{"name":"SynthShaker","sourceFileId":"/factory-samples/53 SynthShaker.wav","id":"7e7231b3-322a-4575-ae1c-1cb8a67199fb","slotNumber":53,"dateSampled":1412121600000},{"name":"Tambourine","sourceFileId":"/factory-samples/54 Tambourine.wav","id":"2b3e9103-9b95-4c8a-a3da-0ce70f20cf78","slotNumber":54,"dateSampled":1412121600000},{"name":"Cowbell","sourceFileId":"/factory-samples/55 Cowbell.wav","id":"76fd5384-2b63-4836-aedb-c77a18a3b0f8","slotNumber":55,"dateSampled":1412121600000},{"name":"DoncaSConga","sourceFileId":"/factory-samples/56 DoncaSConga.wav","id":"38e97caa-2163-43ef-89c5-28d3ffe1eeb0","slotNumber":56,"dateSampled":1412121600000},{"name":"DoncaLBongo","sourceFileId":"/factory-samples/57 DoncaLBongo.wav","id":"8111a722-cf78-4f54-a98e-3389557aa1ad","slotNumber":57,"dateSampled":1412121600000},{"name":"SynthPerc","sourceFileId":"/factory-samples/58 SynthPerc.wav","id":"18ff9218-b492-4328-9483-238e403e2518","slotNumber":58,"dateSampled":1412121600000},{"name":"WhiteNoise","sourceFileId":"/factory-samples/59 WhiteNoise.wav","id":"f8cc1a02-bf08-4de7-9965-4764f588ba15","slotNumber":59,"dateSampled":1412121600000},{"name":"SynthHit 1","sourceFileId":"/factory-samples/60 SynthHit 1.wav","id":"8847a6dc-e130-43a2-99ca-293ab21091de","slotNumber":60,"dateSampled":1412121600000},{"name":"SynthHit 2","sourceFileId":"/factory-samples/61 SynthHit 2.wav","id":"2db90e0d-5d54-4d71-a108-626f5f261284","slotNumber":61,"dateSampled":1412121600000},{"name":"SynthHit 3","sourceFileId":"/factory-samples/62 SynthHit 3.wav","id":"9b3456a1-5deb-4666-9ae7-433c58cbad67","slotNumber":62,"dateSampled":1412121600000},{"name":"SynthHit 4","sourceFileId":"/factory-samples/63 SynthHit 4.wav","id":"7e0145fb-739d-41dc-8bd2-8125ba2cc117","slotNumber":63,"dateSampled":1412121600000},{"name":"SynthHit 5","sourceFileId":"/factory-samples/64 SynthHit 5.wav","id":"8939287a-d293-4c79-a34c-80c802820725","slotNumber":64,"dateSampled":1412121600000},{"name":"SynthHit 6","sourceFileId":"/factory-samples/65 SynthHit 6.wav","id":"5a77fac3-42ae-487e-9ddf-95241a358038","slotNumber":65,"dateSampled":1412121600000},{"name":"SynthHit 7","sourceFileId":"/factory-samples/66 SynthHit 7.wav","id":"82fe3f48-ba0b-49b9-9d20-15580012604e","slotNumber":66,"dateSampled":1412121600000},{"name":"SynthHit 8","sourceFileId":"/factory-samples/67 SynthHit 8.wav","id":"deb58609-77d3-44f9-881a-0ed7c71854d6","slotNumber":67,"dateSampled":1412121600000},{"name":"SynthHit 9","sourceFileId":"/factory-samples/68 SynthHit 9.wav","id":"9d631677-b86a-4ae9-841d-322a5fee9d70","slotNumber":68,"dateSampled":1412121600000},{"name":"SynthHit 10","sourceFileId":"/factory-samples/69 SynthHit 10.wav","id":"f840985f-da45-4469-9f43-aa35f6a027c9","slotNumber":69,"dateSampled":1412121600000},{"name":"PianoChord 1","sourceFileId":"/factory-samples/70 PianoChord 1.wav","id":"3b30f792-1059-43ea-a8d0-980a978bd190","slotNumber":70,"dateSampled":1412121600000},{"name":"PianoChord 2","sourceFileId":"/factory-samples/71 PianoChord 2.wav","id":"9f37afcb-f097-4e31-9f02-91001aa1859e","slotNumber":71,"dateSampled":1412121600000},{"name":"PianoChord 3","sourceFileId":"/factory-samples/72 PianoChord 3.wav","id":"eff746b8-a3ba-443c-87d6-ec6bb4d3296a","slotNumber":72,"dateSampled":1412121600000},{"name":"EPChord 1","sourceFileId":"/factory-samples/73 EPChord 1.wav","id":"34030794-3fc2-4981-96cb-f911faf58b30","slotNumber":73,"dateSampled":1412121600000},{"name":"EPChord 2","sourceFileId":"/factory-samples/74 EPChord 2.wav","id":"76613ede-8372-4bcb-9304-673bc4c834ca","slotNumber":74,"dateSampled":1412121600000},{"name":"EPChord 3","sourceFileId":"/factory-samples/75 EPChord 3.wav","id":"7a5aaaa0-b47e-45f3-807b-87e82bb8d875","slotNumber":75,"dateSampled":1412121600000},{"name":"EPChord 4","sourceFileId":"/factory-samples/76 EPChord 4.wav","id":"8a173a95-0f14-4100-b825-3dddcd419fac","slotNumber":76,"dateSampled":1412121600000},{"name":"OrganChord","sourceFileId":"/factory-samples/77 OrganChord.wav","id":"7c0cc3bd-bfd4-4574-820e-f90877e1a9d1","slotNumber":77,"dateSampled":1412121600000},{"name":"BandHit 1","sourceFileId":"/factory-samples/78 BandHit 1.wav","id":"d579e32b-a8e2-4b14-ae4e-ac9c19501b19","slotNumber":78,"dateSampled":1412121600000},{"name":"BandHit 2","sourceFileId":"/factory-samples/79 BandHit 2.wav","id":"605eba35-7224-4f80-95bb-df5c27f506e2","slotNumber":79,"dateSampled":1412121600000},{"name":"BandHit 3","sourceFileId":"/factory-samples/80 BandHit 3.wav","id":"db5157b9-b609-4f49-bb38-11098cd3f2f9","slotNumber":80,"dateSampled":1412121600000},{"name":"StringsHit 1","sourceFileId":"/factory-samples/81 StringsHit 1.wav","id":"cda1a739-7cdf-4fdf-a5e2-44f23156608f","slotNumber":81,"dateSampled":1412121600000},{"name":"Choir","sourceFileId":"/factory-samples/82 Choir.wav","id":"5e5338f5-d436-461b-919c-5853c190d564","slotNumber":82,"dateSampled":1412121600000},{"name":"GuitarHit 1","sourceFileId":"/factory-samples/83 GuitarHit 1.wav","id":"0ee5dff1-8c9e-4df6-9413-a28838bcc343","slotNumber":83,"dateSampled":1412121600000},{"name":"GuitarHit 2","sourceFileId":"/factory-samples/84 GuitarHit 2.wav","id":"9acafb2d-0caf-4dce-844b-7a38c002cc86","slotNumber":84,"dateSampled":1412121600000},{"name":"KalimbaChord","sourceFileId":"/factory-samples/85 KalimbaChord.wav","id":"de181bcd-e34a-4a77-be8c-e20515c43a8d","slotNumber":85,"dateSampled":1412121600000},{"name":"SynChord","sourceFileId":"/factory-samples/86 SynChord.wav","id":"8020c3d0-ce4e-42d6-8ad9-1848aa2df928","slotNumber":86,"dateSampled":1412121600000},{"name":"BellChord","sourceFileId":"/factory-samples/87 BellChord.wav","id":"446f295e-4e63-4f4c-abbc-b7ce7a1524d6","slotNumber":87,"dateSampled":1412121600000},{"name":"WindChime","sourceFileId":"/factory-samples/88 WindChime.wav","id":"f4605033-ed01-4458-b0d9-e6ea86be5a25","slotNumber":88,"dateSampled":1412121600000},{"name":"Airhorn","sourceFileId":"/factory-samples/89 Airhorn.wav","id":"e33eed04-acf6-4682-aa49-f972eaa63183","slotNumber":89,"dateSampled":1412121600000},{"name":"VocalHit 1","sourceFileId":"/factory-samples/90 VocalHit 1.wav","id":"459ee381-b2ac-4658-94d4-9dbd28ee9c34","slotNumber":90,"dateSampled":1412121600000},{"name":"VocalHit 2","sourceFileId":"/factory-samples/91 VocalHit 2.wav","id":"05a3ff32-d5cd-485c-89cf-156c58c0520f","slotNumber":91,"dateSampled":1412121600000},{"name":"VocalHit 3","sourceFileId":"/factory-samples/92 VocalHit 3.wav","id":"2c62b324-f478-4464-8fbc-ff39e29d7697","slotNumber":92,"dateSampled":1412121600000},{"name":"VocalHit 4","sourceFileId":"/factory-samples/93 VocalHit 4.wav","id":"bdcfc7a7-3ecf-4283-ab2f-2655b8400fd4","slotNumber":93,"dateSampled":1412121600000},{"name":"VocalHit 5","sourceFileId":"/factory-samples/94 VocalHit 5.wav","id":"788899c8-79e8-4cfe-8aef-7477e186071d","slotNumber":94,"dateSampled":1412121600000},{"name":"VocalHit 6","sourceFileId":"/factory-samples/95 VocalHit 6.wav","id":"bfa876a9-947e-4dff-a476-1eb2663e2afd","slotNumber":95,"dateSampled":1412121600000},{"name":"VocalHit 7","sourceFileId":"/factory-samples/96 VocalHit 7.wav","id":"c34ccb5f-52a8-49e7-8244-85a2ce3e0594","slotNumber":96,"dateSampled":1412121600000},{"name":"VocalHit 8","sourceFileId":"/factory-samples/97 VocalHit 8.wav","id":"1c27e6bb-d3eb-4d39-b4db-3db875fdb6ee","slotNumber":97,"dateSampled":1412121600000},{"name":"VocalHit 9","sourceFileId":"/factory-samples/98 VocalHit 9.wav","id":"3438eba8-f428-4f07-afa3-05c3a58716f6","slotNumber":98,"dateSampled":1412121600000},{"name":"Doncamatic","sourceFileId":"/factory-samples/99 Doncamatic.wav","id":"34a2b787-b807-4ba9-969e-d997a872556a","slotNumber":99,"dateSampled":1412121600000}]')},29:function(e,a,t){},39:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),c=t(21),i=t.n(c),o=(t(29),t(1)),d=t.n(o),s=t(3),l=t(10),u=t(6),m=t(12),f=t(7),p=t(0),b=document.createElement("style");b.innerHTML="\n.sampleList {\n  height: 100%;\n  overflow: auto;\n}\n\n.sampleListItem {\n  padding: 0.5rem;\n  border: 1px solid grey;\n  cursor: pointer;\n}\n\n.sampleListItem:not:nth-child(1) {\n  margin-top: 1rem;\n}\n  ",document.body.appendChild(b);var h=["sampleList","sampleListItem"].reduce((function(e,a){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},a,a))}),{});var v=function(e){var a=e.samples,t=e.selectedSampleId,r=e.readonly,n=e.onNewSample,c=e.onSampleSelect;return Object(p.jsxs)("div",{className:h.sampleList,children:[Object(p.jsx)("div",{"data-disabled":r,className:h.sampleListItem,onClick:function(){return!r&&n()},children:"New Sample"}),Object(l.a)(a).map((function(e){var a=Object(u.a)(e,2),n=a[0],i=a[1];return Object(p.jsxs)("div",{className:h.sampleListItem,style:{backgroundColor:n===t?"#f3f3f3":void 0},"data-disabled":r,onClick:function(){return!r&&c(n)},children:[Object(p.jsx)("div",{children:i.metadata.name}),Object(p.jsxs)("div",{children:["Updated ",new Date(i.metadata.dateModified).toLocaleString()]})]},n)}))]})},S=t(11),y=t(22),w=t.n(y),j=t(9),g=t(8),O=t(4),x=t(5),F=t(16),I=t.n(F),N=t(41),C=t(19),k=I.a.createInstance({name:"wav_data",driver:I.a.INDEXEDDB}),D=I.a.createInstance({name:"sample_metadata",driver:I.a.INDEXEDDB});function H(e){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(N.a)(),e.next=3,k.setItem(t,a);case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M="0.1.0",R=function(){function e(a){var t=a.name,r=a.sourceFileId,n=a.id,c=void 0===n?Object(N.a)():n,i=a.slotNumber,o=void 0===i?0:i,d=a.dateSampled,s=void 0===d?Date.now():d,l=a.dateModified,u=void 0===l?s:l,m=a.useCompression,f=void 0!==m&&m,p=a.qualityBitDepth,b=void 0===p?16:p,h=a.normalize,v=void 0!==h&&h,S=a.clip,y=void 0===S?[0,0]:S;Object(O.a)(this,e),this.id=c,this.metadata={name:t,sourceFileId:r,slotNumber:o,dateSampled:s,dateModified:u,useCompression:f,qualityBitDepth:b,normalize:v,clip:y,metadataVersion:M}}return Object(x.a)(e,[{key:"duplicate",value:function(){var a=new e.Mutable(Object(f.a)(Object(f.a)({},this.metadata),{},{name:"".concat(this.metadata.name," (copy)"),dateModified:Date.now()}));return a.persist(),a}}],[{key:"cacheSourceFileData",value:function(e,a){this.sourceFileData.set(e,a),this.recentlyCachedSourceFileIds=[e].concat(Object(l.a)(this.recentlyCachedSourceFileIds.filter((function(a){return a!==e}))));var t,r=this.recentlyCachedSourceFileIds.slice(this.MAX_CACHED),n=Object(S.a)(r);try{for(n.s();!(t=n.n()).done;){var c=t.value;this.sourceFileData.delete(c)}}catch(i){n.e(i)}finally{n.f()}this.recentlyCachedSourceFileIds=this.recentlyCachedSourceFileIds.slice(0,this.MAX_CACHED)}},{key:"getSourceFileData",value:function(){var e=Object(s.a)(d.a.mark((function e(a){var t,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.sourceFileData.get(a))){e.next=3;break}return e.abrupt("return",t);case 3:if(!a.includes(".")){e.next=12;break}return e.next=6,fetch(a);case 6:return e.next=8,e.sent.arrayBuffer();case 8:return r=e.sent,n=new Uint8Array(r),this.cacheSourceFileData(a,n),e.abrupt("return",n);case 12:return e.next=14,k.getItem(a);case 14:if(!(c=e.sent)){e.next=20;break}if(!(c instanceof Uint8Array)){e.next=19;break}return this.cacheSourceFileData(a,c),e.abrupt("return",c);case 19:return e.abrupt("return",Promise.reject("Source data is of unexpected type"));case 20:return e.abrupt("return",Promise.reject("Missing source data"));case 21:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getAllFromStorage",value:function(){var a=Object(s.a)(d.a.mark((function a(){var t,r,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=new Map,a.next=3,D.iterate((function(e,a){e&&e.metadataVersion===M?t.set(a,e):console.warn('Found metadata "'.concat(e.name||a," with unhandled version ").concat(e.metadataVersion,'"; ignoring.'))}));case 3:return a.next=5,k.keys();case 5:return r=a.sent.concat(C.map((function(e){return e.sourceFileId}))),n=Object(l.a)(t).map((function(a){var t=Object(u.a)(a,2),n=t[0],c=t[1],i=c.sourceFileId;return r.includes(i)?new e.Mutable(Object(f.a)({id:n},c)):(console.warn('Found metadata "'.concat(c.name||n,'" with missing data "').concat(i,"; ignoring.")),null)})).filter(Boolean).sort((function(e,a){return a.metadata.dateModified-e.metadata.dateModified})),a.abrupt("return",n);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}]),e}();R.Mutable=function(e){Object(j.a)(t,e);var a=Object(g.a)(t);function t(e){var r;return Object(O.a)(this,t),r=a.call(this,e),setTimeout(Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.keys();case 2:e.sent.includes(r.id)||console.warn("Expected sample metadata container ".concat(r.id," to be persisted"));case 4:case"end":return e.stop()}}),e)})))),r}return Object(x.a)(t,[{key:"persist",value:function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.setItem(this.id,this.metadata);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(e){var a=this.id,t=this.metadata,r=Object(f.a)(Object(f.a)(Object(f.a)({},t),e),{},{dateModified:Date.now()}),n=new R.Mutable(Object(f.a)({id:a},r));return n.persist(),n}},{key:"remove",value:function(){var e=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.removeItem(this.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(R),R.sourceFileData=new Map,R.recentlyCachedSourceFileIds=[],R.MAX_CACHED=10;var A,E=new Map(C.map((function(e){return[e.id,new R(e)]}))),P=31250;function L(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(d.a.mark((function e(a){var t,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.sampleRate!==P){e.next=2;break}return e.abrupt("return",a);case 2:return t=P/a.sampleRate,r=new OfflineAudioContext(a.numberOfChannels,a.length*t,P),(n=r.createBufferSource()).buffer=a,n.connect(r.destination),n.start(),e.next=10,r.startRendering();case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,a){var t=4*a[0],r=e.length-a[0]-a[1];return new Float32Array(e.buffer,t,r)}function K(e,a){for(var t=e.length-a[0]-a[1],r=new Float32Array(t),n=Array(e.numberOfChannels).fill().map((function(t,r){return V(e.getChannelData(r),a)})),c=0;c<t;c++){for(var i=0,o=0;o<n.length;o++)i+=n[o][c];i/=n.length,r[c]=i}return r}function U(e){var a,t=0,r=Object(S.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value,c=Math.abs(n);c>t&&(t=c)}}catch(i){r.e(i)}finally{r.f()}return t}function z(e,a){if(1!==a)for(var t=0;t<e.length;t++)e[t]*=a}function _(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=a/U(e);z(e,t)}function W(e,a){for(var t=Math.pow(2,a-1),r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}function q(e){for(var a=new Int16Array(e.length),t=Math.pow(2,15),r=0;r<e.length;r++)a[r]=1===e[r]?t-1:t*e[r];return a}function G(){return A=A||new AudioContext({sampleRate:P})}function J(e){return X.apply(this,arguments)}function X(){return(X=Object(s.a)(d.a.mark((function e(a){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Uint8Array(a),e.next=3,new Promise((function(e,a){G().decodeAudioData(t.buffer,e,a)}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(s.a)(d.a.mark((function e(a){var t,r,n,c,i,o,s,l,u,m,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.metadata,r=t.qualityBitDepth,n=t.normalize,c=t.clip,!(r<8||r>16)&&Number.isInteger(r)){e.next=3;break}throw new Error("Expected bit depth between 8 and 16. Received: ".concat(r));case 3:return e.t0=L,e.t1=J,e.next=7,R.getSourceFileData(a.metadata.sourceFileId);case 7:return e.t2=e.sent,e.next=10,(0,e.t1)(e.t2);case 10:return e.t3=e.sent,e.next=13,(0,e.t0)(e.t3);case 13:return i=e.sent,o=c.map((function(e){return Math.round(e*i.sampleRate)})),s=1===i.numberOfChannels?V(i.getChannelData(0),o):K(i,o),n&&_(s,n),r<16&&W(s,r),l=q(s),u=2*l.length,m=w()({channels:1,sampleRate:i.sampleRate,bitDepth:16,dataLength:u}),(f=new Uint8Array(m.length+u)).set(m),f.set(new Uint8Array(l.buffer),m.length),e.abrupt("return",{data:f,sampleRate:16});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z,$=function(e){var a=e.sample,t=(e.onSetClip,e.onSetNormalize),n=Object(r.useState)(new Float32Array),c=Object(u.a)(n,2),i=c[0],o=c[1];Object(r.useEffect)((function(){var e=!1;return Object(s.a)(d.a.mark((function t(){var r,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,R.getSourceFileData(a.metadata.sourceFileId);case 4:if(r=t.sent,!e){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,J(r);case 9:if(n=t.sent,!e){t.next=12;break}return t.abrupt("return");case 12:c=K(n,[0,0]),o(c);case 14:case"end":return t.stop()}}),t)})))(),function(){e=!0}}),[a.metadata.sourceFileId]);var l=Object(r.useRef)(null),m=Object(r.useMemo)((function(){var e=l.current&&l.current.offsetWidth;if(!e||!i.length)return{positive:new Float32Array,negative:new Float32Array};var a=Math.floor(6*i.length/e);return function(e,a){for(var t=new Float32Array(Math.floor(e.length/a)),r=new Float32Array(Math.floor(e.length/a)),n=0;n<t.length;n++){var c,i=new Float32Array(e.buffer,n*a*4,a),o=0,d=0,s=Object(S.a)(i);try{for(s.s();!(c=s.n()).done;){var l=c.value;l>o&&(o=l),l<d&&(d=l)}}catch(u){s.e(u)}finally{s.f()}t[n]=o,r[n]=d}return{positive:t,negative:r}}(i,a)}),[i]),f=Object(r.useMemo)((function(){return Math.max(U(m.negative),U(m.positive))}),[m]),b=(a.metadata.normalize||f)/f;return Object(p.jsxs)("div",{className:"waveform",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},ref:l,children:[Object(p.jsx)("div",{className:"positive",style:{width:"100%",height:"67%",display:"flex",alignItems:"flex-end"},children:Object(p.jsx)("div",{className:"scaled",style:{width:"100%",height:"".concat(100*b,"%"),willChange:"height",display:"flex",alignItems:"flex-end"},children:[].map.call(m.positive,(function(e,a){return Object(p.jsx)("div",{className:"bar",style:{width:6,height:"".concat(100*e,"%"),paddingRight:1},children:Object(p.jsx)("div",{className:"bar_inner",style:{backgroundColor:"red",height:"100%"}})},a)}))})}),Object(p.jsx)("div",{className:"negative",style:{width:"100%",height:"33%",display:"flex",alignItems:"flex-start"},children:Object(p.jsx)("div",{className:"scaled",style:{width:"100%",height:"".concat(100*b,"%"),willChange:"height",display:"flex",alignItems:"flex-start"},children:[].map.call(m.negative,(function(e,a){return Object(p.jsx)("div",{className:"bar",style:{width:6,height:"".concat(100*-e,"%"),paddingRight:1},children:Object(p.jsx)("div",{className:"bar_inner",style:{backgroundColor:"darkred",height:"100%"}})},a)}))})}),Object(p.jsx)("input",{style:{position:"absolute",top:0,left:0},type:"range",value:a.metadata.normalize||void 0,min:.1,max:1,step:.01,onChange:function(e){return t(Number(e.target.value))}})]})};function ee(){return ae.apply(this,arguments)}function ae(){return(ae=Object(s.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"===typeof window.CREATE_SYRO_BINDINGS){e.next=2;break}return e.abrupt("return",Promise.reject("Expected CREATE_SYRO_BINDINGS global function to exist"));case 2:return e.next=4,window.CREATE_SYRO_BINDINGS();case 4:return a=e.sent,e.abrupt("return",Z=Z||new Promise((function(e,t){var r;try{r={prepareSampleBufferFromWavData:a.cwrap("prepareSampleBufferFromWavData","number",["array","number","number","number"]),prepareSampleBufferFrom16BitPcmData:a.cwrap("prepareSampleBufferFrom16BitPcmData","number",["array","number","number","number","number"]),startSampleBufferFrom16BitPcmData:a.cwrap("startSampleBufferFrom16BitPcmData","number",["array","number","number","number","number"]),iterateSampleBuffer:a.cwrap("iterateSampleBuffer",null,["number"]),getSampleBufferPointer:a.cwrap("getSampleBufferPointer","number",[]),getSampleBufferSize:a.cwrap("getSampleBufferSize","number",[]),getSampleBufferProgress:a.cwrap("getSampleBufferProgress","number",[]),freeSampleBuffer:a.cwrap("freeSampleBuffer",null,[]),heap8Buffer:function(){return a.HEAP8.buffer}}}catch(n){return void t(n)}e(r)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,a){return re.apply(this,arguments)}function re(){return(re=Object(s.a)(d.a.mark((function e(a,t){var r,n,c,i,o,s,l,u,m,f,p,b,h,v,S,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return r=e.sent,n=r.startSampleBufferFrom16BitPcmData,c=r.iterateSampleBuffer,i=r.getSampleBufferPointer,o=r.getSampleBufferSize,s=r.getSampleBufferProgress,l=r.freeSampleBuffer,u=r.heap8Buffer,e.next=12,Y(a);case 12:if(m=e.sent,f=m.data,p=m.sampleRate,b=f.slice(44),!n(b,b.length,p,a.metadata.slotNumber,a.metadata.qualityBitDepth,a.metadata.useCompression?1:0)){e.next=19;break}return e.abrupt("return",Promise.reject("Failed to prepare sample buffer"));case 19:return h=i(),v=o(),S=new Uint8Array(u(),h,v),t(s()/v),e.next=25,new Promise((function(e,a){var r=20,n=1e5;requestAnimationFrame((function i(){if(s()>=v)return void e();var o=10/r,d=Math.max(Math.round(n*o),1),l=performance.now();try{c(d)}catch(u){return void a(u)}0===(r=performance.now()-l)&&(r=.5);n=d,t(s()/v),requestAnimationFrame(i)}))}));case 25:return y=new Uint8Array(S),l(),e.abrupt("return",y);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=document.createElement("style");ne.innerHTML="\n.sampleDetail {\n  padding-left: 2rem;\n}\n  ",document.body.appendChild(ne);var ce=["sampleDetail"].reduce((function(e,a){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},a,a))}),{});function ie(e){var a=new Blob([e],{type:"audio/x-wav"}),t=document.createElement("audio");t.src=URL.createObjectURL(a),t.play(),t.onended=function(){URL.revokeObjectURL(t.src)}}var oe,de,se=function(e){var a=e.sample,t=e.onSampleUpdate,r=e.onSampleDuplicate,n=e.onSampleDelete;return a?Object(p.jsxs)("div",{className:ce.sampleDetail,children:[Object(p.jsx)("h3",{children:a.metadata.name}),Object(p.jsx)("button",{type:"button",onClick:function(){return r(a.id)},children:"Duplicate"}),Object(p.jsx)("button",{type:"button",onClick:function(){window.confirm("Are you sure you want to delete ".concat(a.metadata.name,"?"))&&n(a.id)},children:"Remove"}),Object(p.jsxs)("h4",{children:["Last edited: ",new Date(a.metadata.dateModified).toLocaleString()]}),Object(p.jsxs)("h4",{children:["Sampled: ",new Date(a.metadata.dateSampled).toLocaleString()]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("h4",{children:"Clip start"}),Object(p.jsx)("input",{type:"number",value:a.metadata.clip[0],step:.1,min:0,onChange:function(e){var r=Number(e.target.value);t(a.id,{clip:[r,a.metadata.clip[1]]})}})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("h4",{children:"Clip end"}),Object(p.jsx)("input",{type:"number",value:a.metadata.clip[1],step:.1,min:0,onChange:function(e){var r=Number(e.target.value);t(a.id,{clip:[a.metadata.clip[0],r]})}})]}),Object(p.jsxs)("div",{style:{height:200,backgroundColor:"#f3f3f3",maxWidth:400},children:[Object(p.jsx)($,{onSetClip:function(){return null},onSetNormalize:function(e){return t(a.id,{normalize:e})},sample:a}),Object(p.jsx)("button",{type:"button",disabled:1===a.metadata.normalize,onClick:function(){return t(a.id,{normalize:1})},children:"Normalize"}),Object(p.jsx)("button",{type:"button",disabled:!a.metadata.normalize,onClick:function(){return t(a.id,{normalize:!1})},children:"Original level"}),Object(p.jsx)("button",{type:"button",onClick:Object(s.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(a);case 2:t=e.sent,ie(t.data);case 5:case"end":return e.stop()}}),e)}))),children:"regular play"}),Object(p.jsx)("button",{type:"button",onClick:Object(s.a)(d.a.mark((function e(){var t,r,n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(a);case 2:t=e.sent,r=t.data,n=new Blob([r],{type:"audio/x-wav"}),c=URL.createObjectURL(n),(i=document.createElement("a")).href=c,i.download="".concat(a.metadata.name,".wav"),i.style.display="none",document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(c);case 14:case"end":return e.stop()}}),e)}))),children:"download"})]}),Object(p.jsxs)("h4",{children:["Quality bit depth: ",a.metadata.qualityBitDepth]}),Object(p.jsx)("input",{type:"range",value:a.metadata.qualityBitDepth,step:1,min:8,max:16,onChange:function(e){var r=Number(e.target.value);t(a.id,{qualityBitDepth:r})}}),Object(p.jsxs)("label",{children:[Object(p.jsx)("h4",{children:"Slot number"}),Object(p.jsx)("input",{type:"number",value:a.metadata.slotNumber,step:1,min:0,max:99,onChange:function(e){var r=Number(e.target.value);t(a.id,{slotNumber:r})}})]}),Object(p.jsx)("button",{type:"button",onClick:Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(a,console.log);case 3:ie(e.sent),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),children:"transfer to volca sample"})]}):null},le=t(24),ue=t(23);function me(){return oe=oe||new AudioContext(navigator.mediaDevices.getSupportedConstraints().sampleRate?{sampleRate:P}:{})}function fe(){return(fe=Object(s.a)(d.a.mark((function e(){var a,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:return a=e.sent,t=a.filter((function(e){return"audioinput"===e.kind})),e.abrupt("return",Promise.all(t.map(function(){var e=Object(s.a)(d.a.mark((function e(a){var t,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:{deviceId:a.deviceId,channelCount:2},video:!1});case 2:t=e.sent,r=t.getAudioTracks().length,n=Object(S.a)(t.getTracks());try{for(n.s();!(c=n.n()).done;)c.value.stop()}catch(i){n.e(i)}finally{n.f()}return e.abrupt("return",{device:a,channelsAvailable:r});case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(s.a)(d.a.mark((function e(a){var t,r,n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.onData,r=a.onFinish,n=me(),de=de||n.audioWorklet.addModule("/recorderWorkletProcessor.js"),e.next=5,de;case 5:return(c=new AudioWorkletNode(n,"recorder-worklet",{parameterData:{bufferSize:1024}})).port.onmessage=function(e){if("data"===e.data.eventType){var a=e.data.audioChannels;t(a)}"stop"===e.data.eventType&&r()},(i=c.parameters.get("isRecording")).setValueAtTime(1,n.currentTime),e.abrupt("return",{recorderNode:c,stop:function(){i.setValueAtTime(0,n.currentTime)}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e){var a=e.channelCount,t=e.onData,r=e.onFinish,n=me().createScriptProcessor(1024,a,a),c=!1;return n.onaudioprocess=function(e){var n=Array(a).fill().map((function(a,t){return e.inputBuffer.getChannelData(t)}));t(n),c&&r()},{recorderNode:n,stop:function(){c=!0}}}function ve(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(s.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof AudioWorkletNode){e.next=2;break}return e.abrupt("return",he(a));case 2:return e.next=4,pe(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(s.a)(d.a.mark((function e(a){var t,r,n,c,i,o,s,l,u,m,f,p,b,h,v,y,w,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=function(){if(!w){try{var e=p.map((function(e){var a,t=new Float32Array(e.reduce((function(e,a){return e+a.length}),0)),r=0,n=Object(S.a)(e);try{for(n.s();!(a=n.n()).done;){var c=a.value;t.set(c,r),r+=c.length}}catch(i){n.e(i)}finally{n.f()}return t})),a=new ue.a;a.fromScratch(e.length,i.sampleRate,"32f",e),h(a.toBuffer())}catch(d){v(d)}var t,r=c.getTracks(),n=Object(S.a)(r);try{for(n.s();!(t=n.n()).done;){t.value.stop()}}catch(d){n.e(d)}finally{n.f()}l.disconnect(i.destination),o.disconnect(l),w=!0}},b=function(e){for(var a=0,t=0;t<r;t++){for(var n=e[t],c=n.length,i=n.slice(0,Math.min(c,m-f)),o=0;o<i.length;o++)i[o]>1?i[o]=1:i[o]<-1&&(i[o]=-1);a||(a=i.length),p[t].push(i)}(f+=a)>=m&&(j(),u())},t=a.deviceId,r=a.channelCount,n=a.onStart,e.next=5,navigator.mediaDevices.getUserMedia({audio:{deviceId:t,channelCount:r,sampleRate:P,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},video:!1});case 5:return c=e.sent,i=me(),o=i.createMediaStreamSource(c),e.next=10,ve({channelCount:r,onData:b,onFinish:j});case 10:return s=e.sent,l=s.recorderNode,u=s.stop,o.connect(l),l.connect(i.destination),n(),10,m=10*i.sampleRate,f=0,p=Array(r).fill([]),y=new Promise((function(e,a){h=e,v=a})),w=!1,e.abrupt("return",{stop:u,mediaRecording:y});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=["captureState"];function ge(e){var a=e.onRecordStart,t=e.onRecordFinish,n=e.onRecordError,c=Object(r.useState)(null),i=Object(u.a)(c,2),o=i[0],l=i[1],m=Object(r.useState)(""),f=Object(u.a)(m,2),p=f[0],b=f[1];Object(r.useEffect)((function(){(function(){return fe.apply(this,arguments)})().then((function(e){return e.filter((function(e){return"audioinput"===e.device.kind}))})).then((function(e){e.length&&(l(new Map(e.map((function(e){return[e.device.deviceId,e]})))),b((function(a){return a||e[0].device.deviceId})))}))}),[]);var h=Object(r.useState)(1),v=Object(u.a)(h,2),S=v[0],y=v[1];Object(r.useEffect)((function(){var e=o&&o.get(p);e&&y(e.channelsAvailable)}),[o,p]);var w=Object(r.useState)(null),j=Object(u.a)(w,2),g=j[0],O=j[1];Object(r.useEffect)((function(){g&&n(g)}),[g,n]);var x=Object(r.useState)({fn:function(){}}),F=Object(u.a)(x,2),I=F[0],N=F[1],C=Object(r.useCallback)(Object(s.a)(d.a.mark((function e(){var r,n,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye({deviceId:p,channelCount:S,onStart:a});case 2:return r=e.sent,n=r.mediaRecording,c=r.stop,N({fn:c}),e.prev=6,e.next=9,n;case 9:i=e.sent,e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(6),O(e.t0),e.abrupt("return");case 16:t(i);case 17:case"end":return e.stop()}}),e,null,[[6,12]])}))),[p,S,a,t]);return{captureDevices:o,selectedCaptureDeviceId:p,selectedChannelCount:S,recordingError:g,setSelectedCaptureDeviceId:b,setSelectedChannelCount:y,beginRecording:C,stopRecording:I.fn}}var Oe=function(e){var a=e.captureState,t=ge(Object(le.a)(e,je)),r=t.captureDevices,n=t.selectedCaptureDeviceId,c=t.selectedChannelCount,i=(t.recordingError,t.setSelectedCaptureDeviceId),o=t.setSelectedChannelCount,d=t.beginRecording,s=t.stopRecording;return"idle"===a?null:Object(p.jsxs)("div",{style:{paddingLeft:"2rem"},children:[r?Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{children:["Capture Device",Object(p.jsx)("select",{value:n,onChange:function(e){return i(e.target.value)},children:Object(l.a)(r).map((function(e){var a=Object(u.a)(e,2),t=a[0],r=a[1].device;return Object(p.jsx)("option",{value:t,children:r.label||t},t)}))})]}),Object(p.jsxs)("label",{children:["Channel count",Object(p.jsx)("select",{value:c,onChange:function(e){return o(Number(e.target.value))},children:[1,2].map((function(e){return Object(p.jsx)("option",{value:e,disabled:!r.has(n)||r.get(n).channelsAvailable<e,children:e},e)}))})]})]}):"Loading capture devices...",Object(p.jsx)("button",{type:"button",onClick:"capturing"===a?s:d,disabled:"preparing"===a,children:["capturing","preparing"].includes(a)?"Stop":"Record"})]})},xe=document.createElement("style");xe.innerHTML="\n.volcaSampler {\n  padding: 2rem;\n  display: flex;\n  height: 100%;\n}\n\n.sampleListContainer {\n  width: 200px;\n  flex-shrink: 0;\n  padding-right: 0.5rem;\n  height: 100%;\n}\n\n.focusedSampleContainer {\n  flex-grow: 1;\n}\n\n.focusedSample {\n  padding-left: 2rem;\n}\n  ",document.body.appendChild(xe);var Fe=["volcaSampler","sampleListContainer","sampleList","sampleListItem","focusedSampleContainer","focusedSample"].reduce((function(e,a){return Object(f.a)(Object(f.a)({},e),{},Object(m.a)({},a,a))}),{});var Ie=function(){var e=Object(r.useState)(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],c=Object(r.useState)(new Map),i=Object(u.a)(c,2),o=i[0],m=i[1],f=Object(r.useState)(null),b=Object(u.a)(f,2),h=b[0],S=b[1],y=Object(r.useState)(!0),w=Object(u.a)(y,2),j=(w[0],w[1]),g=Object(r.useState)("idle"),O=Object(u.a)(g,2),x=O[0],F=O[1],I=t?E:o;Object(r.useEffect)((function(){R.getAllFromStorage().then((function(e){m((function(a){return new Map([].concat(Object(l.a)(a),Object(l.a)(e.map((function(e){return[e.id,e]})))))}))})).finally((function(){j(!1)}))}),[]),Object(r.useEffect)((function(){!I.size||h&&I.has(h)||S(Object(l.a)(I.values())[0].id)}),[I,h]);var N=Object(r.useCallback)((function(){return F("capturing")}),[]),C=Object(r.useCallback)(function(){var e=Object(s.a)(d.a.mark((function e(a){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F("preparing"),e.next=3,H(a);case 3:return t=e.sent,r=new R.Mutable({name:"New one",sourceFileId:t}),e.next=7,r.persist();case 7:m((function(e){return new Map([[r.id,r]].concat(Object(l.a)(e)))})),n(!1),S(r.id),F("idle");case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]),k=Object(r.useCallback)((function(e){console.error(e),F("error")}),[]);return Object(p.jsxs)("div",{className:Fe.volcaSampler,children:[Object(p.jsxs)("select",{value:JSON.stringify(t),onChange:function(e){return n(JSON.parse(e.target.value))},children:[Object(p.jsx)("option",{value:"false",children:"Your Samples"}),Object(p.jsx)("option",{value:"true",children:"Factory Samples"})]}),Object(p.jsx)("div",{className:Fe.sampleListContainer,children:Object(p.jsx)(v,{samples:I,selectedSampleId:"idle"===x?h:null,readonly:["capturing","preparing"].includes(x),onNewSample:function(){return F("ready")},onSampleSelect:function(e){S(e),F("idle")}})}),Object(p.jsxs)("div",{className:Fe.focusedSampleContainer,children:["idle"===x&&Object(p.jsx)(se,{sample:h&&I.get(h)||null,onSampleUpdate:function(e,a){var t=I.get(e);t&&t instanceof R.Mutable&&m((function(e){return new Map(e).set(t.id,t.update(a))}))},onSampleDuplicate:function(e){var a=I.get(e);if(a){var t=a.duplicate();m((function(e){return new Map([[t.id,t]].concat(Object(l.a)(e)))})),n(!1)}},onSampleDelete:function(e){var a=I.get(e);a&&a instanceof R.Mutable&&(a.remove(),m((function(e){var t=new Map(e);return t.delete(a.id),t})))}}),Object(p.jsx)(Oe,{captureState:x,onRecordStart:N,onRecordFinish:C,onRecordError:k})]})]})},Ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,c=a.getLCP,i=a.getTTFB;t(e),r(e),n(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Ie,{})}),document.getElementById("root")),Ne()}},[[39,1,2]]]);
//# sourceMappingURL=main.21b6d5b3.chunk.js.map