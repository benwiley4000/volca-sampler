(this["webpackJsonpvolca-sampler"]=this["webpackJsonpvolca-sampler"]||[]).push([[0],{12:function(Ce,q,I){},20:function(Ce,q,I){"use strict";I.r(q);var v=I(0),i=I.n(v),Pe=I(5),Oe=I.n(Pe),Xa=I(12),Ee=Object.defineProperty,De=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,ae=(e,a,t)=>a in e?Ee(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,je=(e,a)=>{for(var t in a||(a={}))He.call(a,t)&&ae(e,t,a[t]);if(ee)for(var t of ee(a))Be.call(a,t)&&ae(e,t,a[t]);return e},ke=(e,a)=>De(e,Ae(a));{const e=`
.sampleList {
  height: 100%;
  overflow: auto;
}

.sampleListItem {
  padding: 0.5rem;
  border: 1px solid grey;
  cursor: pointer;
}

.sampleListItem:not:nth-child(1) {
  margin-top: 1rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const W=["sampleList","sampleListItem"].reduce((e,a)=>ke(je({},e),{[a]:a}),{});function Re({samples:e,selectedSampleId:a,readonly:t,onNewSample:r,onSampleSelect:l}){return i.a.createElement("div",{className:W.sampleList},i.a.createElement("div",{"data-disabled":t,className:W.sampleListItem,onClick:()=>!t&&r()},"New Sample"),[...e].map(([o,d])=>i.a.createElement("div",{key:o,className:W.sampleListItem,style:{backgroundColor:o===a?"#f3f3f3":void 0},"data-disabled":t,onClick:()=>!t&&l(o)},i.a.createElement("div",null,d.metadata.name),i.a.createElement("div",null,"Updated ",new Date(d.metadata.dateModified).toLocaleString()))))}var Me=Re,xe=I(6),_e=I.n(xe),Te=I(1),H=I.n(Te),te=I(22),re=[{name:"Kick 1",sourceFileId:"/factory-samples/00 Kick 1.wav",id:"1ac87d6e-e4cd-48bb-b018-fff9d6d30206",slotNumber:0,dateSampled:14121216e5},{name:"Kick 2",sourceFileId:"/factory-samples/01 Kick 2.wav",id:"fe6ce966-758b-42a6-8463-70d64ecc33f7",slotNumber:1,dateSampled:14121216e5},{name:"Kick 3",sourceFileId:"/factory-samples/02 Kick 3.wav",id:"f2760f00-5a48-4b19-b378-9698f04d17ac",slotNumber:2,dateSampled:14121216e5},{name:"Kick 4",sourceFileId:"/factory-samples/03 Kick 4.wav",id:"6c5df01d-82f5-4764-b750-0b29221dccd5",slotNumber:3,dateSampled:14121216e5},{name:"Kick 5",sourceFileId:"/factory-samples/04 Kick 5.wav",id:"815217e3-abc8-411a-a845-e9e3936f19ec",slotNumber:4,dateSampled:14121216e5},{name:"Kick 6",sourceFileId:"/factory-samples/05 Kick 6.wav",id:"1b7bee06-003a-4d04-bcf3-2f3119e206a1",slotNumber:5,dateSampled:14121216e5},{name:"Kick 7",sourceFileId:"/factory-samples/06 Kick 7.wav",id:"416daa7e-9f6d-4ae6-a92c-9f4b3bc62cc1",slotNumber:6,dateSampled:14121216e5},{name:"Kick 8",sourceFileId:"/factory-samples/07 Kick 8.wav",id:"2b1563bc-5717-4ea7-86c9-344f14d77962",slotNumber:7,dateSampled:14121216e5},{name:"Kick 9",sourceFileId:"/factory-samples/08 Kick 9.wav",id:"4d7750b6-78d9-436d-a3a3-e776af281d22",slotNumber:8,dateSampled:14121216e5},{name:"Kick 10",sourceFileId:"/factory-samples/09 Kick 10.wav",id:"f2ca61de-fc57-4311-9eff-167cf4baf20b",slotNumber:9,dateSampled:14121216e5},{name:"Snare 1",sourceFileId:"/factory-samples/10 Snare 1.wav",id:"2d771170-6c87-43df-98ba-dc78c8eaee62",slotNumber:10,dateSampled:14121216e5},{name:"Snare 2",sourceFileId:"/factory-samples/11 Snare 2.wav",id:"e4440817-fafa-42cc-a601-edb242de8e66",slotNumber:11,dateSampled:14121216e5},{name:"Snare 3",sourceFileId:"/factory-samples/12 Snare 3.wav",id:"849c745c-4b0b-40e9-bede-794b3ac9acc1",slotNumber:12,dateSampled:14121216e5},{name:"Snare 4",sourceFileId:"/factory-samples/13 Snare 4.wav",id:"5fd37792-ecf1-4fd0-8bdd-248405b58340",slotNumber:13,dateSampled:14121216e5},{name:"Snare 5",sourceFileId:"/factory-samples/14 Snare 5.wav",id:"f8972f80-d1e1-429f-947b-6644ab6e60b9",slotNumber:14,dateSampled:14121216e5},{name:"Snare 6",sourceFileId:"/factory-samples/15 Snare 6.wav",id:"310162e5-859a-49dc-9100-180370055f33",slotNumber:15,dateSampled:14121216e5},{name:"Snare 7",sourceFileId:"/factory-samples/16 Snare 7.wav",id:"8feaa600-00c6-4482-84c5-fdcbda36fe4f",slotNumber:16,dateSampled:14121216e5},{name:"Snare 8",sourceFileId:"/factory-samples/17 Snare 8.wav",id:"2cb87357-5a6f-4c2e-95da-7d81f76c8a79",slotNumber:17,dateSampled:14121216e5},{name:"Snare 9",sourceFileId:"/factory-samples/18 Snare 9.wav",id:"6c85e8b1-c970-445d-8f71-f311e47e6f59",slotNumber:18,dateSampled:14121216e5},{name:"Snare 10",sourceFileId:"/factory-samples/19 Snare 10.wav",id:"746244e4-d1ae-45a2-806f-65fcdd4d727c",slotNumber:19,dateSampled:14121216e5},{name:"Snare 11",sourceFileId:"/factory-samples/20 Snare 11.wav",id:"aa7195e9-5609-4c42-9801-8ff9b0982ef5",slotNumber:20,dateSampled:14121216e5},{name:"Snare 12",sourceFileId:"/factory-samples/21 Snare 12.wav",id:"919c4a0b-04ce-434f-9cd5-2cc7a9bd5181",slotNumber:21,dateSampled:14121216e5},{name:"Clap 1",sourceFileId:"/factory-samples/22 Clap 1.wav",id:"0f4eecaf-34ce-4de8-a816-039abf808df5",slotNumber:22,dateSampled:14121216e5},{name:"Clap 2",sourceFileId:"/factory-samples/23 Clap 2.wav",id:"adf47b7e-c8fb-4942-aaab-423ed14fa037",slotNumber:23,dateSampled:14121216e5},{name:"Clap 3",sourceFileId:"/factory-samples/24 Clap 3.wav",id:"f6254bdf-bf66-4280-abbd-0811abcbb9bc",slotNumber:24,dateSampled:14121216e5},{name:"Clap 4",sourceFileId:"/factory-samples/25 Clap 4.wav",id:"bcbc5588-7a54-40f5-a5e1-384e3cf9434a",slotNumber:25,dateSampled:14121216e5},{name:"Clap 5",sourceFileId:"/factory-samples/26 Clap 5.wav",id:"85078980-111c-4a20-bacf-674afd21624d",slotNumber:26,dateSampled:14121216e5},{name:"Clap 6",sourceFileId:"/factory-samples/27 Clap 6.wav",id:"bad71ada-4211-456f-bdf3-2e16d346d894",slotNumber:27,dateSampled:14121216e5},{name:"Clap 7",sourceFileId:"/factory-samples/28 Clap 7.wav",id:"10555e46-7dd2-4985-bf44-5104069e311a",slotNumber:28,dateSampled:14121216e5},{name:"Clap 8",sourceFileId:"/factory-samples/29 Clap 8.wav",id:"b73bc945-e13a-471b-aeb9-f23900f62360",slotNumber:29,dateSampled:14121216e5},{name:"Hihat 1",sourceFileId:"/factory-samples/30 Hihat 1.wav",id:"06bac082-677a-4db9-a81c-3a09ffd3434b",slotNumber:30,dateSampled:14121216e5},{name:"Hihat 2",sourceFileId:"/factory-samples/31 Hihat 2.wav",id:"ebdc94b0-b349-46c1-bd7b-f383cb3660df",slotNumber:31,dateSampled:14121216e5},{name:"Hihat 3",sourceFileId:"/factory-samples/32 Hihat 3.wav",id:"55d17758-4903-4aec-90c1-32a3315bf969",slotNumber:32,dateSampled:14121216e5},{name:"Hihat 4",sourceFileId:"/factory-samples/33 Hihat 4.wav",id:"2cd2f8b8-998d-4c63-97f0-1d262c34e8ea",slotNumber:33,dateSampled:14121216e5},{name:"Hihat 5",sourceFileId:"/factory-samples/34 Hihat 5.wav",id:"448366ea-1b4a-4032-bde8-30c810dd2019",slotNumber:34,dateSampled:14121216e5},{name:"Hihat 6",sourceFileId:"/factory-samples/35 Hihat 6.wav",id:"dd53fcdc-4285-4415-885b-ccfb68520d3f",slotNumber:35,dateSampled:14121216e5},{name:"Hihat 7",sourceFileId:"/factory-samples/36 Hihat 7.wav",id:"ec378cde-5ada-4ec7-940a-f639b317d88e",slotNumber:36,dateSampled:14121216e5},{name:"Hihat 8",sourceFileId:"/factory-samples/37 Hihat 8.wav",id:"5cf668d4-2cce-41c0-be31-905f35a7b6c6",slotNumber:37,dateSampled:14121216e5},{name:"Hihat 9",sourceFileId:"/factory-samples/38 Hihat 9.wav",id:"a343caa0-ef52-49d9-a2a0-617a8e8acfaf",slotNumber:38,dateSampled:14121216e5},{name:"Hihat 10",sourceFileId:"/factory-samples/39 Hihat 10.wav",id:"03528a9d-e855-495b-8d92-00706b3361c0",slotNumber:39,dateSampled:14121216e5},{name:"Crash",sourceFileId:"/factory-samples/40 Crash.wav",id:"d8eb3bc5-efd2-4049-bd24-307cdd882a2d",slotNumber:40,dateSampled:14121216e5},{name:"Ride",sourceFileId:"/factory-samples/41 Ride.wav",id:"1aae00b5-00d4-439c-86fc-660b3ee6af5e",slotNumber:41,dateSampled:14121216e5},{name:"Swoosh",sourceFileId:"/factory-samples/42 Swoosh.wav",id:"af6434f3-d23a-4513-bb5f-fdf3db7fa74d",slotNumber:42,dateSampled:14121216e5},{name:"SynthRim",sourceFileId:"/factory-samples/43 SynthRim.wav",id:"e7908459-c112-497a-8426-3ad0560333fd",slotNumber:43,dateSampled:14121216e5},{name:"SynthTom 1",sourceFileId:"/factory-samples/44 SynthTom 1.wav",id:"acddebc1-bb18-4aa7-ae87-95936536341f",slotNumber:44,dateSampled:14121216e5},{name:"SynthTom 2",sourceFileId:"/factory-samples/45 SynthTom 2.wav",id:"30a832e3-b75c-4ca6-94bb-fbff4b8a0c5a",slotNumber:45,dateSampled:14121216e5},{name:"SynthTom 3",sourceFileId:"/factory-samples/46 SynthTom 3.wav",id:"02e38792-b1ec-455a-b9e0-8bc5e443468d",slotNumber:46,dateSampled:14121216e5},{name:"SynthTom 4",sourceFileId:"/factory-samples/47 SynthTom 4.wav",id:"00ccccea-331a-4c51-b52b-dd534c97aa10",slotNumber:47,dateSampled:14121216e5},{name:"Tom 1",sourceFileId:"/factory-samples/48 Tom 1.wav",id:"e0c8a313-9adf-4e69-a94e-765e8c610973",slotNumber:48,dateSampled:14121216e5},{name:"Tom 2",sourceFileId:"/factory-samples/49 Tom 2.wav",id:"91ac44b7-5b4b-40f9-b23e-1b1511d81325",slotNumber:49,dateSampled:14121216e5},{name:"SynthCow",sourceFileId:"/factory-samples/50 SynthCow.wav",id:"123b3aac-ca83-46e8-ae18-8e0b7bfb71d1",slotNumber:50,dateSampled:14121216e5},{name:"Bongo",sourceFileId:"/factory-samples/51 Bongo.wav",id:"fe70af98-82c8-4e71-a02f-8652326f2be0",slotNumber:51,dateSampled:14121216e5},{name:"DoncaClaves",sourceFileId:"/factory-samples/52 DoncaClaves.wav",id:"56922114-e12a-45ec-88c3-1677dda9f3da",slotNumber:52,dateSampled:14121216e5},{name:"SynthShaker",sourceFileId:"/factory-samples/53 SynthShaker.wav",id:"518bc9be-7d5e-4274-a20b-1a162bf60773",slotNumber:53,dateSampled:14121216e5},{name:"Tambourine",sourceFileId:"/factory-samples/54 Tambourine.wav",id:"b85606f4-f5c9-4ee2-82a8-6612ca4f706a",slotNumber:54,dateSampled:14121216e5},{name:"Cowbell",sourceFileId:"/factory-samples/55 Cowbell.wav",id:"a1f41633-2d1a-4187-b041-85a294ee73e6",slotNumber:55,dateSampled:14121216e5},{name:"DoncaSConga",sourceFileId:"/factory-samples/56 DoncaSConga.wav",id:"aaba233c-5a2c-415b-8823-5d08b78e9847",slotNumber:56,dateSampled:14121216e5},{name:"DoncaLBongo",sourceFileId:"/factory-samples/57 DoncaLBongo.wav",id:"59b09cfe-b9ca-4eb9-8d81-843b2860fee2",slotNumber:57,dateSampled:14121216e5},{name:"SynthPerc",sourceFileId:"/factory-samples/58 SynthPerc.wav",id:"fc71bf18-765c-4665-82f0-292e6d9b3f0b",slotNumber:58,dateSampled:14121216e5},{name:"WhiteNoise",sourceFileId:"/factory-samples/59 WhiteNoise.wav",id:"a65d2ee1-89cc-40ee-8679-f860bd07623a",slotNumber:59,dateSampled:14121216e5},{name:"SynthHit 1",sourceFileId:"/factory-samples/60 SynthHit 1.wav",id:"cd05b002-f73a-435a-bdaf-8fa52d469ab9",slotNumber:60,dateSampled:14121216e5},{name:"SynthHit 2",sourceFileId:"/factory-samples/61 SynthHit 2.wav",id:"b800e42f-8ea5-41f4-90dc-8e42a0edb38f",slotNumber:61,dateSampled:14121216e5},{name:"SynthHit 3",sourceFileId:"/factory-samples/62 SynthHit 3.wav",id:"bc8ce7b9-6a46-4884-aaa6-e81b66deca21",slotNumber:62,dateSampled:14121216e5},{name:"SynthHit 4",sourceFileId:"/factory-samples/63 SynthHit 4.wav",id:"634641cc-3d75-455e-93b1-3798a497b9b7",slotNumber:63,dateSampled:14121216e5},{name:"SynthHit 5",sourceFileId:"/factory-samples/64 SynthHit 5.wav",id:"d44f6605-324c-4296-b1be-c86c5513ae87",slotNumber:64,dateSampled:14121216e5},{name:"SynthHit 6",sourceFileId:"/factory-samples/65 SynthHit 6.wav",id:"a73f0f04-3602-4fc8-84fb-b2b8b1d13b82",slotNumber:65,dateSampled:14121216e5},{name:"SynthHit 7",sourceFileId:"/factory-samples/66 SynthHit 7.wav",id:"c95bdea7-9117-4845-bf8e-90005def34f8",slotNumber:66,dateSampled:14121216e5},{name:"SynthHit 8",sourceFileId:"/factory-samples/67 SynthHit 8.wav",id:"a2c3498e-72a5-44bc-aec4-376cd90f8ae2",slotNumber:67,dateSampled:14121216e5},{name:"SynthHit 9",sourceFileId:"/factory-samples/68 SynthHit 9.wav",id:"ddc51589-e015-47e9-b9a4-d6bc92ca2fc5",slotNumber:68,dateSampled:14121216e5},{name:"SynthHit 10",sourceFileId:"/factory-samples/69 SynthHit 10.wav",id:"7d007c7b-05b6-47cd-b770-7c880ace05c8",slotNumber:69,dateSampled:14121216e5},{name:"PianoChord 1",sourceFileId:"/factory-samples/70 PianoChord 1.wav",id:"0c155a91-675e-4cdf-b6cf-fea82268f8a3",slotNumber:70,dateSampled:14121216e5},{name:"PianoChord 2",sourceFileId:"/factory-samples/71 PianoChord 2.wav",id:"818b9342-fc2e-445b-9760-ff43d6b0d963",slotNumber:71,dateSampled:14121216e5},{name:"PianoChord 3",sourceFileId:"/factory-samples/72 PianoChord 3.wav",id:"eac0e7a6-8f19-407d-becc-2aba3ba51e54",slotNumber:72,dateSampled:14121216e5},{name:"EPChord 1",sourceFileId:"/factory-samples/73 EPChord 1.wav",id:"f7158110-1f0d-4731-8ee6-8cffc18b740d",slotNumber:73,dateSampled:14121216e5},{name:"EPChord 2",sourceFileId:"/factory-samples/74 EPChord 2.wav",id:"dfed939e-1b9f-4e82-99f2-af22a3600e3a",slotNumber:74,dateSampled:14121216e5},{name:"EPChord 3",sourceFileId:"/factory-samples/75 EPChord 3.wav",id:"013260ec-c5c9-4165-86c7-877dc753e4ef",slotNumber:75,dateSampled:14121216e5},{name:"EPChord 4",sourceFileId:"/factory-samples/76 EPChord 4.wav",id:"68dd1889-05bd-4593-ba63-722984a1b61e",slotNumber:76,dateSampled:14121216e5},{name:"OrganChord",sourceFileId:"/factory-samples/77 OrganChord.wav",id:"b8964174-d91b-436c-afd1-984586d2acaa",slotNumber:77,dateSampled:14121216e5},{name:"BandHit 1",sourceFileId:"/factory-samples/78 BandHit 1.wav",id:"0e43e5c7-cab6-43db-b78d-3c1239c2815e",slotNumber:78,dateSampled:14121216e5},{name:"BandHit 2",sourceFileId:"/factory-samples/79 BandHit 2.wav",id:"6cf8518b-d69c-4b43-9fca-6f2a7600f660",slotNumber:79,dateSampled:14121216e5},{name:"BandHit 3",sourceFileId:"/factory-samples/80 BandHit 3.wav",id:"3ccbc579-c318-4c37-a1d2-2a78ea58a19c",slotNumber:80,dateSampled:14121216e5},{name:"StringsHit 1",sourceFileId:"/factory-samples/81 StringsHit 1.wav",id:"10d1adbc-d259-4d85-8901-e8d598e1c3bc",slotNumber:81,dateSampled:14121216e5},{name:"Choir",sourceFileId:"/factory-samples/82 Choir.wav",id:"09f53de6-eb15-4981-859a-39c80b735d1d",slotNumber:82,dateSampled:14121216e5},{name:"GuitarHit 1",sourceFileId:"/factory-samples/83 GuitarHit 1.wav",id:"771dcad6-b4c9-4b12-ad41-61c479f0bf24",slotNumber:83,dateSampled:14121216e5},{name:"GuitarHit 2",sourceFileId:"/factory-samples/84 GuitarHit 2.wav",id:"823a380f-8e9b-4e49-8094-9fb406c2c777",slotNumber:84,dateSampled:14121216e5},{name:"KalimbaChord",sourceFileId:"/factory-samples/85 KalimbaChord.wav",id:"3a15ed4e-9e29-448d-9f97-17399e23392d",slotNumber:85,dateSampled:14121216e5},{name:"SynChord",sourceFileId:"/factory-samples/86 SynChord.wav",id:"d5d16beb-9e1b-483e-8a4c-4343137fbf6c",slotNumber:86,dateSampled:14121216e5},{name:"BellChord",sourceFileId:"/factory-samples/87 BellChord.wav",id:"17041edd-6e6a-4b45-aa25-b9600963f533",slotNumber:87,dateSampled:14121216e5},{name:"WindChime",sourceFileId:"/factory-samples/88 WindChime.wav",id:"919829b6-d083-47fe-ab1e-1df8b043cd4d",slotNumber:88,dateSampled:14121216e5},{name:"Airhorn",sourceFileId:"/factory-samples/89 Airhorn.wav",id:"66a6e369-0c12-4f3e-b325-5ca4a96a9c67",slotNumber:89,dateSampled:14121216e5},{name:"VocalHit 1",sourceFileId:"/factory-samples/90 VocalHit 1.wav",id:"9f646216-3730-400c-bea3-a14bf10860a6",slotNumber:90,dateSampled:14121216e5},{name:"VocalHit 2",sourceFileId:"/factory-samples/91 VocalHit 2.wav",id:"f104d8b6-cd46-49ea-bbfe-a1a1ff9048de",slotNumber:91,dateSampled:14121216e5},{name:"VocalHit 3",sourceFileId:"/factory-samples/92 VocalHit 3.wav",id:"459f28e9-9e1b-41d8-a667-8a16fcf940e6",slotNumber:92,dateSampled:14121216e5},{name:"VocalHit 4",sourceFileId:"/factory-samples/93 VocalHit 4.wav",id:"7cdc32f0-304c-4a35-be81-6f4ad472bd2a",slotNumber:93,dateSampled:14121216e5},{name:"VocalHit 5",sourceFileId:"/factory-samples/94 VocalHit 5.wav",id:"a0a03aad-2951-46c8-a01e-a8c56ca72cff",slotNumber:94,dateSampled:14121216e5},{name:"VocalHit 6",sourceFileId:"/factory-samples/95 VocalHit 6.wav",id:"39778e73-ed4f-4b61-a570-60a702f70d91",slotNumber:95,dateSampled:14121216e5},{name:"VocalHit 7",sourceFileId:"/factory-samples/96 VocalHit 7.wav",id:"67bf1eab-0737-4eb0-8c27-b5a30cc1f582",slotNumber:96,dateSampled:14121216e5},{name:"VocalHit 8",sourceFileId:"/factory-samples/97 VocalHit 8.wav",id:"e5c853ce-0321-45ea-b835-67fd1275159b",slotNumber:97,dateSampled:14121216e5},{name:"VocalHit 9",sourceFileId:"/factory-samples/98 VocalHit 9.wav",id:"3d862236-6305-41ff-ac00-ad42b0db27de",slotNumber:98,dateSampled:14121216e5},{name:"Doncamatic",sourceFileId:"/factory-samples/99 Doncamatic.wav",id:"45df28c0-1fc5-4f87-9d3b-f2360890b3a4",slotNumber:99,dateSampled:14121216e5}];const B=31250;var Le=Object.defineProperty,Ve=Object.defineProperties,We=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,U=(e,a,t)=>a in e?Le(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,O=(e,a)=>{for(var t in a||(a={}))le.call(a,t)&&U(e,t,a[t]);if(j)for(var t of j(a))ne.call(a,t)&&U(e,t,a[t]);return e},K=(e,a)=>Ve(e,We(a)),Ue=(e,a)=>{var t={};for(var r in e)le.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&j)for(var r of j(e))a.indexOf(r)<0&&ne.call(e,r)&&(t[r]=e[r]);return t},k=(e,a,t)=>(U(e,typeof a!="symbol"?a+"":a,t),t),P=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});const A=H.a.createInstance({name:"audio_file_data",driver:H.a.INDEXEDDB}),R=H.a.createInstance({name:"sample_metadata",driver:H.a.INDEXEDDB});function Ke(e){return P(this,null,function*(){const a=Object(te.a)();return yield A.setItem(a,e),a})}const $="0.2.0",$e={"0.1.0":e=>{const a=e,{clip:t}=a,r=Ue(a,["clip"]);return K(O({},r),{trimFrames:t.map(o=>Math.round(o*B)),metadataVersion:"0.2.0"})}};function Ge(e){let a=e;for(;a.metadataVersion!==$;){const t=$e[e.metadataVersion];if(!t){console.warn(`Failed to properly upgrade metadata for sample "${a.name}"`),a={name:a.name,sourceFileId:a.sourceFileId,id:a.id,metadataVersion:$};break}a=t(a)}return a}const E=class{constructor({name:e,sourceFileId:a,id:t=Object(te.a)(),userFileInfo:r=null,slotNumber:l=0,dateSampled:o=Date.now(),dateModified:d=o,useCompression:c=!1,qualityBitDepth:n=16,scaleCoefficient:s=1,trimFrames:f=[0,0]}){this.id=t,this.metadata={name:e,sourceFileId:a,userFileInfo:r,slotNumber:l,dateSampled:o,dateModified:d,useCompression:c,qualityBitDepth:n,scaleCoefficient:s,trimFrames:f,metadataVersion:$}}duplicate(){const e=new E.Mutable(K(O({},this.metadata),{name:`${this.metadata.name} (copy)`,dateModified:Date.now()}));return e.persist(),e}static cacheSourceFileData(e,a){this.sourceFileData.set(e,a),this.recentlyCachedSourceFileIds=[e,...this.recentlyCachedSourceFileIds.filter(r=>r!==e)];const t=this.recentlyCachedSourceFileIds.slice(this.MAX_CACHED);for(const r of t)this.sourceFileData.delete(r);this.recentlyCachedSourceFileIds=this.recentlyCachedSourceFileIds.slice(0,this.MAX_CACHED)}static getSourceFileData(e){return P(this,null,function*(){{const t=this.sourceFileData.get(e);if(t)return t}if(e.includes(".")){const t=yield fetch(e);if(t.status>=400)return Promise.reject(new Error(`Failed to fetch source file "${e}"`));const r=yield t.arrayBuffer(),l=new Uint8Array(r);return this.cacheSourceFileData(e,l),l}const a=yield A.getItem(e);return a?a instanceof Uint8Array?(this.cacheSourceFileData(e,a),a):Promise.reject("Source data is of unexpected type"):Promise.reject("Missing source data")})}static getAllFromStorage(){return P(this,null,function*(){const e=new Map;yield R.iterate((r,l)=>{if(r){const o=Ge(r);e.set(l,o)}});const a=(yield A.keys()).concat(re.map(({sourceFileId:r})=>r));return[...e].map(([r,l])=>{const{sourceFileId:o}=l;return a.includes(o)?new E.Mutable(O({id:r},l)):(console.warn(`Found metadata "${l.name||r}" with missing data "${o}; ignoring.`),null)}).filter(Boolean).sort((r,l)=>l.metadata.dateModified-r.metadata.dateModified)})}};let C=E;k(C,"Mutable",class extends E{constructor(e){super(e);setTimeout(()=>P(this,null,function*(){(yield R.keys()).includes(this.id)||console.warn(`Expected sample metadata container ${this.id} to be persisted`)}))}persist(){return P(this,null,function*(){yield R.setItem(this.id,this.metadata)})}update(e){const{id:a,metadata:t}=this;if(Object.keys(e).every(o=>e[o]===t[o]))return this;const r=K(O(O({},t),e),{dateModified:Date.now()}),l=new E.Mutable(O({id:a},r));return l.persist(),l}remove(){return P(this,null,function*(){yield R.removeItem(this.id),(()=>P(this,null,function*(){const e=performance.now();console.log(e);const a=yield E.getAllFromStorage();console.log("after load",performance.now()-e);const t=a.map(({metadata:l})=>l.sourceFileId);console.log("after map",performance.now()-e);const r=yield A.keys();console.log("after get keys",performance.now()-e);for(const l of r)t.includes(l)||A.removeItem(l);console.log("after iteration",performance.now()-e)}))(),yield new Promise(e=>{setTimeout(e,7e3)})})}}),k(C,"sourceFileData",new Map),k(C,"recentlyCachedSourceFileIds",[]),k(C,"MAX_CACHED",10);const ze=new Map(re.map(e=>[e.id,new C(e)]));var oe=Math.pow,G=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});function z(e,a){const t=4,r=a[0]*t,l=e.length-a[0]-a[1];return new Float32Array(e.buffer,r,l)}function ce(e,a){const t=e.length-a[0]-a[1],r=new Float32Array(t),l=Array(e.numberOfChannels).fill().map((o,d)=>z(e.getChannelData(d),a));for(let o=0;o<t;o++){let d=0;for(let c=0;c<l.length;c++)d+=l[c][o];d/=l.length,r[o]=d}return r}function Xe(e){let a=0;for(const t of e){const r=Math.abs(t);r>a&&(a=r)}return a}function Je(e,a){if(a!==1)for(let t=0;t<e.length;t++)e[t]*=a}function Ye(e,a){const t=oe(2,a-1);for(let r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}function se(e){for(let a=0;a<e.length;a++)e[a]>1?e[a]=1:e[a]<-1&&(e[a]=-1)}function Qe(e){const a=new Int16Array(e.length),t=oe(2,15);for(let r=0;r<e.length;r++)a[r]=e[r]===1?t-1:t*e[r];return a}let de;function Ze(){return de=de||new AudioContext({sampleRate:B})}function ie(e){return G(this,null,function*(){const a=new Uint8Array(e);return yield new Promise((r,l)=>{Ze().decodeAudioData(a.buffer,r,l)})})}function X(e,a){return G(this,null,function*(){const t=yield C.getSourceFileData(e),r=yield ie(t);if(a)for(let l=0;l<r.numberOfChannels;l++)se(r.getChannelData(l));return r})}function J(e){return G(this,null,function*(){const{qualityBitDepth:a,sourceFileId:t,userFileInfo:r,scaleCoefficient:l,trimFrames:o}=e.metadata;if(a<8||a>16||!Number.isInteger(a))throw new Error(`Expected bit depth between 8 and 16. Received: ${a}`);const d=yield X(t,Boolean(r)),c=d.numberOfChannels===1?z(d.getChannelData(0),o):ce(d,o);l!==1&&Je(c,l),a<16&&Ye(c,a);const n=Qe(c),s=n.length*2,f=_e()({channels:1,sampleRate:d.sampleRate,bitDepth:16,dataLength:s}),u=new Uint8Array(f.length+s);return u.set(f),u.set(new Uint8Array(n.buffer),f.length),{data:u,sampleRate:16}})}var qe=Object.defineProperty,ea=Object.defineProperties,aa=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,fe=(e,a,t)=>a in e?qe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ta=(e,a)=>{for(var t in a||(a={}))me.call(a,t)&&fe(e,t,a[t]);if(M)for(var t of M(a))ue.call(a,t)&&fe(e,t,a[t]);return e},ra=(e,a)=>ea(e,aa(a)),la=(e,a)=>{var t={};for(var r in e)me.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&M)for(var r of M(e))a.indexOf(r)<0&&ue.call(e,r)&&(t[r]=e[r]);return t},na=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});function oa(e,a){const t=new Float32Array(Math.floor(e.length/a)),r=new Float32Array(Math.floor(e.length/a));for(let l=0;l<t.length;l++){const o=new Float32Array(e.buffer,l*a*4,a);let d=0,c=0;for(const n of o)n>d&&(d=n),n<c&&(c=n);t[l]=d,r[l]=c}return{positive:t,negative:r}}function ca({sourceAudioBuffer:e,sample:{metadata:{trimFrames:a,scaleCoefficient:t}},onSetTrimFrames:r,onSetScaleCoefficient:l}){const o=Object(v.useMemo)(()=>e?ce(e,[0,0]):new Float32Array,[e]),d=Object(v.useRef)(null),c=6,n=Object(v.useMemo)(()=>{const m=d.current&&d.current.offsetWidth;if(!m||!o.length)return{positive:new Float32Array,negative:new Float32Array};const y=Math.floor(c*o.length/m);return oa(o,y)},[o]),s=Object(v.useMemo)(()=>{if(!e)return 1;const m=z(o,a);return Xe(m)},[e,o,a]),f=1/s;Object(v.useLayoutEffect)(()=>{t>f&&l(f)},[t,f,l]);const u=t*s;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"waveform",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},ref:d},i.a.createElement("div",{className:"positive",style:{width:"100%",height:"67%",display:"flex",alignItems:"flex-end"}},i.a.createElement("div",{className:"scaled",style:{width:"100%",height:`${100*t}%`,willChange:"height",display:"flex",alignItems:"flex-end"}},[].map.call(n.positive,(m,y)=>i.a.createElement("div",{key:y,className:"bar",style:{width:c,height:`${100*m}%`,paddingRight:1}},i.a.createElement("div",{className:"bar_inner",style:{backgroundColor:"red",height:"100%"}}))))),i.a.createElement("div",{className:"negative",style:{width:"100%",height:"33%",display:"flex",alignItems:"flex-start"}},i.a.createElement("div",{className:"scaled",style:{width:"100%",height:`${100*t}%`,willChange:"height",display:"flex",alignItems:"flex-start"}},[].map.call(n.negative,(m,y)=>i.a.createElement("div",{key:y,className:"bar",style:{width:c,height:`${100*-m}%`,paddingRight:1}},i.a.createElement("div",{className:"bar_inner",style:{backgroundColor:"darkred",height:"100%"}}))))),i.a.createElement("input",{style:{position:"absolute",top:0,left:0},type:"range",disabled:s===0,value:u,min:.1,max:1,step:.01,onChange:m=>{s!==0&&l(Number(m.target.value)/s)}})),i.a.createElement("button",{type:"button",disabled:t===f,onClick:()=>l(f)},"Normalize"),i.a.createElement("button",{type:"button",disabled:t===1,onClick:()=>l(1)},"Original level"))}function sa(e){var a=e,{sample:t}=a,r=la(a,["sample"]);const[l,o]=Object(v.useState)(null);Object(v.useEffect)(()=>{let c=!1;return(()=>na(this,null,function*(){if(c)return;const n=yield X(t.metadata.sourceFileId,Boolean(t.metadata.userFileInfo));c||o([t.metadata.sourceFileId,n])}))(),()=>{c=!0}},[t.metadata.sourceFileId,t.metadata.userFileInfo]);const d=Object(v.useRef)(t);return l&&t.metadata.sourceFileId===l[0]&&(d.current=t),i.a.createElement(ca,ra(ta({},r),{sample:d.current,sourceAudioBuffer:l&&l[1]}))}var da=sa,ia=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});let pe;function ma(){return ia(this,null,function*(){if(typeof window.CREATE_SYRO_BINDINGS!="function")return Promise.reject("Expected CREATE_SYRO_BINDINGS global function to exist");const e=yield window.CREATE_SYRO_BINDINGS();return pe=pe||new Promise((a,t)=>{let r;try{r={prepareSampleBufferFromWavData:e.cwrap("prepareSampleBufferFromWavData",null,["array","number","number","number","number"]),prepareSampleBufferFrom16BitPcmData(){throw new Error("This function does not work. Use prepareSampleBufferFromWavData.")},getSampleBufferPointer:e.cwrap("getSampleBufferPointer","number",["number"]),getSampleBufferSize:e.cwrap("getSampleBufferSize","number",["number"]),getSampleBufferProgress:e.cwrap("getSampleBufferProgress","number",["number"]),registerUpdateCallback(l){return e.addFunction(l,"vi")},unregisterUpdateCallback(l){e.removeFunction(l)},heap8Buffer(){return e.HEAP8.buffer}}}catch(l){t(l);return}a(r)})})}var ua=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});function fa(e,a){return ua(this,null,function*(){const{prepareSampleBufferFromWavData:t,getSampleBufferPointer:r,getSampleBufferSize:l,getSampleBufferProgress:o,registerUpdateCallback:d,unregisterUpdateCallback:c,heap8Buffer:n}=yield ma(),{data:s}=yield J(e);let f,u=0,m,y;const S=d(p=>{try{const b=r(p),h=l(p),w=new Uint8Array(n(),b,h);f||(f=new Uint8Array(h)),f.set(w);const F=o(p);a(w.slice(u,F),h),u=F,u>=h&&m()}catch(b){y(b)}});t(s,s.length,e.metadata.slotNumber,e.metadata.qualityBitDepth,e.metadata.useCompression?1:0,S);try{yield new Promise((p,b)=>{m=p,y=b})}catch(p){return c(S),Promise.reject(p)}return c(S),f||Promise.reject(new Error("Unexpected condition: sampleBuffer should be defined"))})}var pa=Object.defineProperty,ba=Object.defineProperties,va=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,ha=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable,ve=(e,a,t)=>a in e?pa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Sa=(e,a)=>{for(var t in a||(a={}))ha.call(a,t)&&ve(e,t,a[t]);if(be)for(var t of be(a))ya.call(a,t)&&ve(e,t,a[t]);return e},wa=(e,a)=>ba(e,va(a)),x=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});{const e=`
.sampleDetail {
  padding-left: 2rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const ga=["sampleDetail"].reduce((e,a)=>wa(Sa({},e),{[a]:a}),{});function he(e){const a=new Blob([e],{type:"audio/x-wav"}),t=document.createElement("audio");t.src=URL.createObjectURL(a),t.play(),t.onended=()=>{URL.revokeObjectURL(t.src)}}function ye(e,a){const t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=a,r.style.display="none",document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(t)}function Ia({sample:e,onSampleUpdate:a,onSampleDuplicate:t,onSampleDelete:r}){const[l,o]=Object(v.useState)(0),d=e&&e.metadata.sourceFileId;Object(v.useEffect)(()=>{o(0),d&&X(d,!1).then(u=>o(u.length))},[d]);const c=e&&e.id,n=Object(v.useCallback)(u=>c&&a(c,{scaleCoefficient:u}),[c,a]);if(!e)return null;const s=Math.max(0,l-e.metadata.trimFrames[1]),f=Math.max(0,l-e.metadata.trimFrames[0]);return i.a.createElement("div",{className:ga.sampleDetail},i.a.createElement("h3",null,e.metadata.name),i.a.createElement("button",{type:"button",onClick:()=>t(e.id)},"Duplicate"),i.a.createElement("button",{type:"button",onClick:()=>{window.confirm(`Are you sure you want to delete ${e.metadata.name}?`)&&r(e.id)}},"Remove"),i.a.createElement("h4",null,"Last edited: ",new Date(e.metadata.dateModified).toLocaleString()),i.a.createElement("h4",null,"Sampled: ",new Date(e.metadata.dateSampled).toLocaleString()),i.a.createElement("label",null,i.a.createElement("h4",null,"Trim start"),i.a.createElement("input",{type:"number",value:e.metadata.trimFrames[0],step:1,min:0,max:s,onChange:u=>{if(l){const m=Number(u.target.value);a(e.id,{trimFrames:[Math.min(m,s),e.metadata.trimFrames[1]]})}else a(e.id,{trimFrames:[...e.metadata.trimFrames]})}})),i.a.createElement("label",null,i.a.createElement("h4",null,"Trim end"),i.a.createElement("input",{type:"number",value:e.metadata.trimFrames[1],step:1,min:0,max:f,onChange:u=>{if(l){const m=Number(u.target.value);a(e.id,{trimFrames:[e.metadata.trimFrames[0],Math.min(m,f)]})}else a(e.id,{trimFrames:[...e.metadata.trimFrames]})}})),i.a.createElement("div",{style:{height:200,backgroundColor:"#f3f3f3",maxWidth:400}},i.a.createElement(da,{onSetTrimFrames:()=>null,onSetScaleCoefficient:n,sample:e}),i.a.createElement("button",{type:"button",onClick:()=>x(this,null,function*(){const{data:u}=yield J(e);he(u)})},"play"),i.a.createElement("button",{type:"button",onClick:()=>x(this,null,function*(){const{data:u}=yield J(e),m=new Blob([u],{type:"audio/x-wav"});ye(m,`${e.metadata.name}.wav`)})},"download"),i.a.createElement("button",{type:"button",onClick:()=>x(this,null,function*(){const{sourceFileId:u,userFileInfo:m}=e.metadata,y=yield C.getSourceFileData(u),S=new Blob([y],{type:m?m.type:"audio/x-wav"});ye(S,`${e.metadata.name}${m?m.ext:".wav"}`)})},"download (orig)")),i.a.createElement("h4",null,"Quality bit depth: ",e.metadata.qualityBitDepth),i.a.createElement("input",{type:"range",value:e.metadata.qualityBitDepth,step:1,min:8,max:16,onChange:u=>{const m=Number(u.target.value);a(e.id,{qualityBitDepth:m})}}),i.a.createElement("label",null,i.a.createElement("h4",null,"Slot number"),i.a.createElement("input",{type:"number",value:e.metadata.slotNumber,step:1,min:0,max:99,onChange:u=>{const m=Number(u.target.value);a(e.id,{slotNumber:m})}})),i.a.createElement("button",{type:"button",onClick:()=>x(this,null,function*(){try{const u=yield fa(e,console.log);he(u)}catch(u){console.error(u)}})},"transfer to volca sample"))}var Fa=Ia,Na=I(7),_=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});let Se;function Y(){return Se=Se||new AudioContext(navigator.mediaDevices.getSupportedConstraints().sampleRate?{sampleRate:B}:{})}function Ca(){return _(this,null,function*(){const a=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput"),t=[];for(const r of a){const l=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:r.deviceId,channelCount:2},video:!1}),o=(yield navigator.mediaDevices.enumerateDevices()).find(({deviceId:c})=>r.deviceId===c).label,d=l.getAudioTracks().length;for(const c of l.getTracks())c.stop();t.push({device:{deviceId:r.deviceId,label:o},channelsAvailable:d})}return t})}let Q;function Pa(e){return _(this,arguments,function*({onData:a,onFinish:t}){const r=Y();Q=Q||r.audioWorklet.addModule("recorderWorkletProcessor.js"),yield Q;const l=new AudioWorkletNode(r,"recorder-worklet",{parameterData:{bufferSize:1024}});l.port.onmessage=d=>{if(d.data.eventType==="data"){const c=d.data.audioChannels;a(c)}d.data.eventType==="stop"&&t()};const o=l.parameters.get("isRecording");return o.setValueAtTime(1,r.currentTime),{recorderNode:l,stop(){o.setValueAtTime(0,r.currentTime)}}})}function Oa({channelCount:e,onData:a,onFinish:t}){const l=Y().createScriptProcessor(1024,e,e);let o=!1;return l.onaudioprocess=d=>{const c=Array(e).fill().map((n,s)=>d.inputBuffer.getChannelData(s));a(c),o&&t()},{recorderNode:l,stop(){o=!0}}}function Ea(e){return _(this,null,function*(){return typeof AudioWorkletNode=="undefined"?Oa(e):yield Pa(e)})}function Da(e){return _(this,arguments,function*({deviceId:a,channelCount:t,onStart:r}){const l=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:a,channelCount:t,sampleRate:B,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},video:!1}),o=Y(),d=o.createMediaStreamSource(l),{recorderNode:c,stop:n}=yield Ea({channelCount:t,onData:y,onFinish:w});d.connect(c),c.connect(o.destination),r();const f=10*o.sampleRate;let u=0;const m=Array(t).fill([]);function y(F){let g=0;for(let N=0;N<t;N++){const T=F[N],L=T.length,D=T.slice(0,Math.min(L,f-u));se(D),g||(g=D.length),m[N].push(D)}u+=g,u>=f&&(w(),n())}let S,p;const b=new Promise((F,g)=>{S=F,p=g});let h=!1;function w(){if(h)return;try{const g=m.map(L=>{const D=new Float32Array(L.reduce((V,za)=>V+za.length,0));let Ne=0;for(const V of L)D.set(V,Ne),Ne+=V.length;return D}),N=new Na.a;N.fromScratch(g.length,o.sampleRate,"32f",g);const T=N.toBuffer();S(T)}catch(g){p(g)}const F=l.getTracks();for(const g of F)g.stop();c.disconnect(o.destination),d.disconnect(c),h=!0}return{stop:n,mediaRecording:b}})}var we=Object.getOwnPropertySymbols,Aa=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Ba=(e,a)=>{var t={};for(var r in e)Aa.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&we)for(var r of we(e))a.indexOf(r)<0&&Ha.call(e,r)&&(t[r]=e[r]);return t},ge=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});function ja({onRecordStart:e,onRecordFinish:a,onRecordError:t}){const[r,l]=Object(v.useState)(null),[o,d]=Object(v.useState)("");Object(v.useEffect)(()=>{Ca().then(S=>{S.length&&(l(new Map(S.map(p=>[p.device.deviceId,p]))),d(p=>p||S[0].device.deviceId))})},[]);const[c,n]=Object(v.useState)(1);Object(v.useEffect)(()=>{const S=r&&r.get(o);S&&n(S.channelsAvailable)},[r,o]);const[s,f]=Object(v.useState)(null);Object(v.useEffect)(()=>{s&&t(s)},[s,t]);const[u,m]=Object(v.useState)({fn:()=>{}}),y=Object(v.useCallback)(()=>ge(this,null,function*(){const{mediaRecording:S,stop:p}=yield Da({deviceId:o,channelCount:c,onStart:e});m({fn:p});let b;try{b=yield S}catch(h){f(h);return}a(b)}),[o,c,e,a]);return{captureDevices:r,selectedCaptureDeviceId:o,selectedChannelCount:c,recordingError:s,setSelectedCaptureDeviceId:d,setSelectedChannelCount:n,beginRecording:y,stopRecording:u.fn}}function ka(e){var a=e,{captureState:t}=a,r=Ba(a,["captureState"]);const{captureDevices:l,selectedCaptureDeviceId:o,selectedChannelCount:d,recordingError:c,setSelectedCaptureDeviceId:n,setSelectedChannelCount:s,beginRecording:f,stopRecording:u}=ja(r);return t==="idle"?null:i.a.createElement("div",{style:{paddingLeft:"2rem"}},l?i.a.createElement("div",null,i.a.createElement("label",null,"Capture Device",i.a.createElement("select",{value:o,onChange:m=>n(m.target.value)},[...l].map(([m,{device:y}])=>i.a.createElement("option",{key:m,value:m},y.label||m)))),i.a.createElement("label",null,"Channel count",i.a.createElement("select",{value:d,onChange:m=>s(Number(m.target.value))},[1,2].map(m=>i.a.createElement("option",{key:m,value:m,disabled:!l.has(o)||l.get(o).channelsAvailable<m},m))))):"Loading capture devices...",i.a.createElement("button",{type:"button",onClick:t==="capturing"?u:f,disabled:t==="preparing"},["capturing","preparing"].includes(t)?"Stop":"Record"),i.a.createElement("input",{type:"file",accept:"audio/*,.wav,.mp3,.ogg",onChange:m=>{if(m.target.files&&m.target.files.length){const y=m.target.files[0];y.arrayBuffer().then(S=>ge(this,null,function*(){const p=new Uint8Array(S);let b;try{b=yield ie(p)}catch(h){alert("Unsupported audio format detected");return}if(b.length>10*b.sampleRate){alert("Please select an audio file no more than 10 seconds long");return}r.onRecordFinish(p,y)}))}}}))}var Ra=ka,Ma=Object.defineProperty,xa=Object.defineProperties,_a=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Fe=(e,a,t)=>a in e?Ma(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Va=(e,a)=>{for(var t in a||(a={}))Ta.call(a,t)&&Fe(e,t,a[t]);if(Ie)for(var t of Ie(a))La.call(a,t)&&Fe(e,t,a[t]);return e},Wa=(e,a)=>xa(e,_a(a)),Ua=(e,a,t)=>new Promise((r,l)=>{var o=n=>{try{c(t.next(n))}catch(s){l(s)}},d=n=>{try{c(t.throw(n))}catch(s){l(s)}},c=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,d);c((t=t.apply(e,a)).next())});{const e=`
.volcaSampler {
  padding: 2rem;
  display: flex;
  height: 100%;
}

.sampleListContainer {
  width: 200px;
  flex-shrink: 0;
  padding-right: 0.5rem;
  height: 100%;
}

.focusedSampleContainer {
  flex-grow: 1;
}

.focusedSample {
  padding-left: 2rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const Z=["volcaSampler","sampleListContainer","sampleList","sampleListItem","focusedSampleContainer","focusedSample"].reduce((e,a)=>Wa(Va({},e),{[a]:a}),{});function Ka(){const[e,a]=Object(v.useState)(!1),[t,r]=Object(v.useState)(new Map),[l,o]=Object(v.useState)(null),[d,c]=Object(v.useState)(!0),[n,s]=Object(v.useState)("idle"),f=e?ze:t;Object(v.useEffect)(()=>{C.getAllFromStorage().then(p=>{r(b=>new Map([...b,...p.map(h=>[h.id,h])]))}).finally(()=>{c(!1)})},[]),Object(v.useEffect)(()=>{f.size&&!(l&&f.has(l))&&o([...f.values()][0].id)},[f,l]);const u=Object(v.useCallback)(()=>s("capturing"),[]),m=Object(v.useCallback)((p,b)=>Ua(this,null,function*(){s("preparing");const h=yield Ke(p);let w="",F="";if(b){const N=b.name.lastIndexOf(".");N>0?(w=b.name.slice(0,N),F=b.name.slice(N)):w=b.name}else w="New one";const g=new C.Mutable({name:w,sourceFileId:h,userFileInfo:b&&{type:b.type,ext:F}});yield g.persist(),r(N=>new Map([[g.id,g],...N])),a(!1),o(g.id),s("idle")}),[]),y=Object(v.useCallback)(p=>{console.error(p),s("error")},[]),S=Object(v.useCallback)((p,b)=>{r(h=>{const w=h.get(p);if(w&&w instanceof C.Mutable){const F=w.update(b);if(F!==w)return new Map(h).set(w.id,F)}return h})},[]);return i.a.createElement("div",{className:Z.volcaSampler},i.a.createElement("select",{value:JSON.stringify(e),onChange:p=>a(JSON.parse(p.target.value))},i.a.createElement("option",{value:"false"},"Your Samples"),i.a.createElement("option",{value:"true"},"Factory Samples")),i.a.createElement("div",{className:Z.sampleListContainer},i.a.createElement(Me,{samples:f,selectedSampleId:n==="idle"?l:null,readonly:["capturing","preparing"].includes(n),onNewSample:()=>s("ready"),onSampleSelect:p=>{o(p),s("idle")}})),i.a.createElement("div",{className:Z.focusedSampleContainer},n==="idle"&&i.a.createElement(Fa,{sample:l&&f.get(l)||null,onSampleUpdate:S,onSampleDuplicate:p=>{const b=f.get(p);if(b){const h=b.duplicate();r(w=>new Map([[h.id,h],...w])),a(!1)}},onSampleDelete:p=>{const b=f.get(p);b&&b instanceof C.Mutable&&b.remove().then(()=>{r(h=>{const w=new Map(h);return w.delete(b.id),w})})}}),i.a.createElement(Ra,{captureState:n,onRecordStart:u,onRecordFinish:m,onRecordError:y})))}var $a=Ka,Ga=e=>{e&&e instanceof Function&&I.e(3).then(I.bind(null,23)).then(({getCLS:a,getFID:t,getFCP:r,getLCP:l,getTTFB:o})=>{a(e),t(e),r(e),l(e),o(e)})};Oe.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement($a,null)),document.getElementById("root")),Ga()}},[[20,1,2]]]);

//# sourceMappingURL=main.e4b4db71.chunk.js.map