(this["webpackJsonpvolca-sampler"]=this["webpackJsonpvolca-sampler"]||[]).push([[0],{13:function(Oe,ee,F){},21:function(Oe,ee,F){"use strict";F.r(ee);var p=F(0),c=F.n(p),Pe=F(5),De=F.n(Pe),qa=F(13),Ae=Object.defineProperty,Be=Object.defineProperties,He=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,te=(e,a,t)=>a in e?Ae(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Me=(e,a)=>{for(var t in a||(a={}))ke.call(a,t)&&te(e,t,a[t]);if(ae)for(var t of ae(a))je.call(a,t)&&te(e,t,a[t]);return e},Re=(e,a)=>Be(e,He(a));{const e=`
.sampleList {
  height: 100%;
  overflow: auto;
}

.sampleListItem {
  padding: 0.5rem;
  border: 1px solid grey;
  cursor: pointer;
}

.sampleListItem:not:nth-child(1) {
  margin-top: 1rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const W=["sampleList","sampleListItem"].reduce((e,a)=>Re(Me({},e),{[a]:a}),{});function xe({samples:e,selectedSampleId:a,readonly:t,onNewSample:r,onSampleSelect:n}){return c.a.createElement("div",{className:W.sampleList},c.a.createElement("div",{"data-disabled":t,className:W.sampleListItem,onClick:()=>!t&&r()},"New Sample"),[...e].map(([s,d])=>c.a.createElement("div",{key:s,className:W.sampleListItem,style:{backgroundColor:s===a?"#f3f3f3":void 0},"data-disabled":t,onClick:()=>!t&&n(s)},c.a.createElement("div",null,d.metadata.name),c.a.createElement("div",null,"Updated ",new Date(d.metadata.dateModified).toLocaleString()))))}var Te=xe,_e=F(6),Le=F.n(_e),Ve=F(1),A=F.n(Ve),re=F(23),ne=[{name:"Kick 1",sourceFileId:"/factory-samples/00 Kick 1.wav",id:"a7a570cd-e933-44eb-b4a3-4c173b333211",slotNumber:0,dateSampled:14121216e5},{name:"Kick 2",sourceFileId:"/factory-samples/01 Kick 2.wav",id:"bd2f1d78-2cb6-4b81-80a4-7273e47cf918",slotNumber:1,dateSampled:14121216e5},{name:"Kick 3",sourceFileId:"/factory-samples/02 Kick 3.wav",id:"096afec6-2a6a-4f13-9326-6fc5cc7f7efd",slotNumber:2,dateSampled:14121216e5},{name:"Kick 4",sourceFileId:"/factory-samples/03 Kick 4.wav",id:"ede53c26-4ce1-40df-8414-a416456f320c",slotNumber:3,dateSampled:14121216e5},{name:"Kick 5",sourceFileId:"/factory-samples/04 Kick 5.wav",id:"14d75772-17d1-4549-a8f5-d287cc10cbb6",slotNumber:4,dateSampled:14121216e5},{name:"Kick 6",sourceFileId:"/factory-samples/05 Kick 6.wav",id:"efd7f5ad-ba66-4d89-b42b-b9d9cd90c688",slotNumber:5,dateSampled:14121216e5},{name:"Kick 7",sourceFileId:"/factory-samples/06 Kick 7.wav",id:"a955e963-0520-4a09-ba73-b5b6ca8be222",slotNumber:6,dateSampled:14121216e5},{name:"Kick 8",sourceFileId:"/factory-samples/07 Kick 8.wav",id:"7c7432a0-7f4e-426e-94fa-115017abaa56",slotNumber:7,dateSampled:14121216e5},{name:"Kick 9",sourceFileId:"/factory-samples/08 Kick 9.wav",id:"21de5e19-95e3-4a84-ad0a-7e702762a5a2",slotNumber:8,dateSampled:14121216e5},{name:"Kick 10",sourceFileId:"/factory-samples/09 Kick 10.wav",id:"10b7f596-85f9-429b-84b5-a1c686c61116",slotNumber:9,dateSampled:14121216e5},{name:"Snare 1",sourceFileId:"/factory-samples/10 Snare 1.wav",id:"d69e29c2-19fa-48f2-a097-7590ce818223",slotNumber:10,dateSampled:14121216e5},{name:"Snare 2",sourceFileId:"/factory-samples/11 Snare 2.wav",id:"ed41b304-069f-4083-9ef6-2a1dffc0e4cc",slotNumber:11,dateSampled:14121216e5},{name:"Snare 3",sourceFileId:"/factory-samples/12 Snare 3.wav",id:"15b33c7e-2e35-4d29-b003-f6010bd6a227",slotNumber:12,dateSampled:14121216e5},{name:"Snare 4",sourceFileId:"/factory-samples/13 Snare 4.wav",id:"15a7a9e2-9876-4cf5-a755-545984ed070f",slotNumber:13,dateSampled:14121216e5},{name:"Snare 5",sourceFileId:"/factory-samples/14 Snare 5.wav",id:"66b8f1d5-4a8d-41ad-8bf3-305d1bebbef2",slotNumber:14,dateSampled:14121216e5},{name:"Snare 6",sourceFileId:"/factory-samples/15 Snare 6.wav",id:"66398cf0-802b-435d-a92e-843af2ebdfdf",slotNumber:15,dateSampled:14121216e5},{name:"Snare 7",sourceFileId:"/factory-samples/16 Snare 7.wav",id:"ef088f65-a90a-41c4-814c-bd552f28ead0",slotNumber:16,dateSampled:14121216e5},{name:"Snare 8",sourceFileId:"/factory-samples/17 Snare 8.wav",id:"b2ab82a9-3aec-48e1-bb3b-cacb5721dcc8",slotNumber:17,dateSampled:14121216e5},{name:"Snare 9",sourceFileId:"/factory-samples/18 Snare 9.wav",id:"25b0ff33-dd70-413d-82e7-b091eeca9217",slotNumber:18,dateSampled:14121216e5},{name:"Snare 10",sourceFileId:"/factory-samples/19 Snare 10.wav",id:"5e5e209e-5f07-4cea-80e2-e3a28e3b11e7",slotNumber:19,dateSampled:14121216e5},{name:"Snare 11",sourceFileId:"/factory-samples/20 Snare 11.wav",id:"b53ebf22-6a06-4244-be4e-514b0d910de0",slotNumber:20,dateSampled:14121216e5},{name:"Snare 12",sourceFileId:"/factory-samples/21 Snare 12.wav",id:"6b1308fd-0dd1-4f34-81e7-1c479839d709",slotNumber:21,dateSampled:14121216e5},{name:"Clap 1",sourceFileId:"/factory-samples/22 Clap 1.wav",id:"b72cc038-b359-4a25-bc80-522ef7e4ea57",slotNumber:22,dateSampled:14121216e5},{name:"Clap 2",sourceFileId:"/factory-samples/23 Clap 2.wav",id:"3d674085-e40f-44d2-ae64-897173fb88f6",slotNumber:23,dateSampled:14121216e5},{name:"Clap 3",sourceFileId:"/factory-samples/24 Clap 3.wav",id:"eef105fd-ae06-4935-8f6b-33659d122bed",slotNumber:24,dateSampled:14121216e5},{name:"Clap 4",sourceFileId:"/factory-samples/25 Clap 4.wav",id:"9052dfc5-1d86-4b4f-ae78-79e775426779",slotNumber:25,dateSampled:14121216e5},{name:"Clap 5",sourceFileId:"/factory-samples/26 Clap 5.wav",id:"a59473a6-f214-43dd-8de6-e1ec70b9255a",slotNumber:26,dateSampled:14121216e5},{name:"Clap 6",sourceFileId:"/factory-samples/27 Clap 6.wav",id:"2d725624-a57c-407c-bf27-075cee9fd18a",slotNumber:27,dateSampled:14121216e5},{name:"Clap 7",sourceFileId:"/factory-samples/28 Clap 7.wav",id:"277169e2-251d-4df0-bb60-15ab814fb28d",slotNumber:28,dateSampled:14121216e5},{name:"Clap 8",sourceFileId:"/factory-samples/29 Clap 8.wav",id:"ad51ad6e-f79c-48c2-884e-c05a377faf4d",slotNumber:29,dateSampled:14121216e5},{name:"Hihat 1",sourceFileId:"/factory-samples/30 Hihat 1.wav",id:"12b0cc35-befd-48d1-8ca1-a20aca143e78",slotNumber:30,dateSampled:14121216e5},{name:"Hihat 2",sourceFileId:"/factory-samples/31 Hihat 2.wav",id:"781befee-1ef9-4cfa-a9b6-13a6ba2fc3c3",slotNumber:31,dateSampled:14121216e5},{name:"Hihat 3",sourceFileId:"/factory-samples/32 Hihat 3.wav",id:"55f56834-d2fa-446a-903d-5d6f810f0cac",slotNumber:32,dateSampled:14121216e5},{name:"Hihat 4",sourceFileId:"/factory-samples/33 Hihat 4.wav",id:"36730bb1-3ba9-4b3c-834b-385311520253",slotNumber:33,dateSampled:14121216e5},{name:"Hihat 5",sourceFileId:"/factory-samples/34 Hihat 5.wav",id:"f076dd8c-3816-4b94-96c8-1a66b82f95ea",slotNumber:34,dateSampled:14121216e5},{name:"Hihat 6",sourceFileId:"/factory-samples/35 Hihat 6.wav",id:"2dbde4b2-6e7b-43bf-a0b4-29e062920c26",slotNumber:35,dateSampled:14121216e5},{name:"Hihat 7",sourceFileId:"/factory-samples/36 Hihat 7.wav",id:"b03301a6-5634-430f-b538-728a539bc061",slotNumber:36,dateSampled:14121216e5},{name:"Hihat 8",sourceFileId:"/factory-samples/37 Hihat 8.wav",id:"54487385-ea43-4890-b584-d9cbd7fb957c",slotNumber:37,dateSampled:14121216e5},{name:"Hihat 9",sourceFileId:"/factory-samples/38 Hihat 9.wav",id:"94a98b3a-229b-4844-9544-13f5bf7a3fb7",slotNumber:38,dateSampled:14121216e5},{name:"Hihat 10",sourceFileId:"/factory-samples/39 Hihat 10.wav",id:"2b22ab74-a895-443e-8008-93f542e260e0",slotNumber:39,dateSampled:14121216e5},{name:"Crash",sourceFileId:"/factory-samples/40 Crash.wav",id:"b24b8c77-df33-40eb-b50e-a99be68e449d",slotNumber:40,dateSampled:14121216e5},{name:"Ride",sourceFileId:"/factory-samples/41 Ride.wav",id:"4d662d5f-a2d2-442c-bd76-b318e51ca196",slotNumber:41,dateSampled:14121216e5},{name:"Swoosh",sourceFileId:"/factory-samples/42 Swoosh.wav",id:"260ee208-3121-4b94-9a39-a1fe2663827d",slotNumber:42,dateSampled:14121216e5},{name:"SynthRim",sourceFileId:"/factory-samples/43 SynthRim.wav",id:"c25bb40f-0a88-4fc7-91c6-a84e0246a699",slotNumber:43,dateSampled:14121216e5},{name:"SynthTom 1",sourceFileId:"/factory-samples/44 SynthTom 1.wav",id:"8ebe4aeb-3d14-4093-9b4f-736272df862f",slotNumber:44,dateSampled:14121216e5},{name:"SynthTom 2",sourceFileId:"/factory-samples/45 SynthTom 2.wav",id:"8102779a-90f0-4c74-8f39-36b9f3dafd85",slotNumber:45,dateSampled:14121216e5},{name:"SynthTom 3",sourceFileId:"/factory-samples/46 SynthTom 3.wav",id:"db465a18-fbe6-4f6f-b01e-2d881eccf854",slotNumber:46,dateSampled:14121216e5},{name:"SynthTom 4",sourceFileId:"/factory-samples/47 SynthTom 4.wav",id:"cd4e14ac-54c8-4c2d-97e6-ed57046c53be",slotNumber:47,dateSampled:14121216e5},{name:"Tom 1",sourceFileId:"/factory-samples/48 Tom 1.wav",id:"fd82de58-9b25-4b49-af4c-1bbd40e2e63c",slotNumber:48,dateSampled:14121216e5},{name:"Tom 2",sourceFileId:"/factory-samples/49 Tom 2.wav",id:"fe6821bf-d660-4f1e-9d50-737c882aa81d",slotNumber:49,dateSampled:14121216e5},{name:"SynthCow",sourceFileId:"/factory-samples/50 SynthCow.wav",id:"8d767b7b-5bb0-4f99-bdfd-085b5d494f52",slotNumber:50,dateSampled:14121216e5},{name:"Bongo",sourceFileId:"/factory-samples/51 Bongo.wav",id:"002d2993-4e7c-4cf9-9a5e-e35f3b4166f3",slotNumber:51,dateSampled:14121216e5},{name:"DoncaClaves",sourceFileId:"/factory-samples/52 DoncaClaves.wav",id:"9ce1b97e-bd45-4628-98b5-4fcd5cf198af",slotNumber:52,dateSampled:14121216e5},{name:"SynthShaker",sourceFileId:"/factory-samples/53 SynthShaker.wav",id:"36d26e66-8899-4a12-9d16-31e3ce2c3e71",slotNumber:53,dateSampled:14121216e5},{name:"Tambourine",sourceFileId:"/factory-samples/54 Tambourine.wav",id:"1514661f-65ce-4e68-a88c-0c3f92188e47",slotNumber:54,dateSampled:14121216e5},{name:"Cowbell",sourceFileId:"/factory-samples/55 Cowbell.wav",id:"7a7f4284-9c3f-4ace-997c-4956b466a79f",slotNumber:55,dateSampled:14121216e5},{name:"DoncaSConga",sourceFileId:"/factory-samples/56 DoncaSConga.wav",id:"b9076c23-28a0-4fb6-8213-f4f4a2c50f9b",slotNumber:56,dateSampled:14121216e5},{name:"DoncaLBongo",sourceFileId:"/factory-samples/57 DoncaLBongo.wav",id:"7ac9973e-8f06-4bea-88fe-508023cf8eb0",slotNumber:57,dateSampled:14121216e5},{name:"SynthPerc",sourceFileId:"/factory-samples/58 SynthPerc.wav",id:"89d19228-e103-433c-924a-706ca79c3074",slotNumber:58,dateSampled:14121216e5},{name:"WhiteNoise",sourceFileId:"/factory-samples/59 WhiteNoise.wav",id:"38e3f1f6-cb70-4c8c-97d4-331723ca62af",slotNumber:59,dateSampled:14121216e5},{name:"SynthHit 1",sourceFileId:"/factory-samples/60 SynthHit 1.wav",id:"32849278-212f-4bd3-a41a-233873143682",slotNumber:60,dateSampled:14121216e5},{name:"SynthHit 2",sourceFileId:"/factory-samples/61 SynthHit 2.wav",id:"a1fdbebe-9fb1-42e4-8f01-34650fbef54e",slotNumber:61,dateSampled:14121216e5},{name:"SynthHit 3",sourceFileId:"/factory-samples/62 SynthHit 3.wav",id:"be19b494-515e-449e-b4c5-2758282b6d2b",slotNumber:62,dateSampled:14121216e5},{name:"SynthHit 4",sourceFileId:"/factory-samples/63 SynthHit 4.wav",id:"7a995225-5a68-46ba-af6f-832afd051d4e",slotNumber:63,dateSampled:14121216e5},{name:"SynthHit 5",sourceFileId:"/factory-samples/64 SynthHit 5.wav",id:"8fc94c7a-7cbe-44aa-96e6-4ff780cfb2dc",slotNumber:64,dateSampled:14121216e5},{name:"SynthHit 6",sourceFileId:"/factory-samples/65 SynthHit 6.wav",id:"68d9722b-e6d9-48aa-afc7-3224bf78893c",slotNumber:65,dateSampled:14121216e5},{name:"SynthHit 7",sourceFileId:"/factory-samples/66 SynthHit 7.wav",id:"f4bdc2d4-4724-4dd3-ae1e-a549d1fa0da6",slotNumber:66,dateSampled:14121216e5},{name:"SynthHit 8",sourceFileId:"/factory-samples/67 SynthHit 8.wav",id:"15681efe-4c25-4e8e-9748-3b43910aa530",slotNumber:67,dateSampled:14121216e5},{name:"SynthHit 9",sourceFileId:"/factory-samples/68 SynthHit 9.wav",id:"b657e08c-ae02-4b00-9fa0-c745798f4201",slotNumber:68,dateSampled:14121216e5},{name:"SynthHit 10",sourceFileId:"/factory-samples/69 SynthHit 10.wav",id:"cd41ea3b-76d1-4e8f-882d-427a21b6532b",slotNumber:69,dateSampled:14121216e5},{name:"PianoChord 1",sourceFileId:"/factory-samples/70 PianoChord 1.wav",id:"629ac702-25f0-4946-a055-d92f8d72f848",slotNumber:70,dateSampled:14121216e5},{name:"PianoChord 2",sourceFileId:"/factory-samples/71 PianoChord 2.wav",id:"55a609e9-983f-4095-982d-296a8e8d9068",slotNumber:71,dateSampled:14121216e5},{name:"PianoChord 3",sourceFileId:"/factory-samples/72 PianoChord 3.wav",id:"164db9ec-3800-4474-9155-66869455aad6",slotNumber:72,dateSampled:14121216e5},{name:"EPChord 1",sourceFileId:"/factory-samples/73 EPChord 1.wav",id:"08fbf542-1a77-4487-a68f-833734717d57",slotNumber:73,dateSampled:14121216e5},{name:"EPChord 2",sourceFileId:"/factory-samples/74 EPChord 2.wav",id:"663d451d-5ed1-42de-b1d6-d93ebb025ea9",slotNumber:74,dateSampled:14121216e5},{name:"EPChord 3",sourceFileId:"/factory-samples/75 EPChord 3.wav",id:"d2f29e51-0482-4613-9761-ee84b6fa1e03",slotNumber:75,dateSampled:14121216e5},{name:"EPChord 4",sourceFileId:"/factory-samples/76 EPChord 4.wav",id:"1f5513e3-b107-4879-ad07-5f2afabbd68b",slotNumber:76,dateSampled:14121216e5},{name:"OrganChord",sourceFileId:"/factory-samples/77 OrganChord.wav",id:"c1d98cee-42a4-4acd-880c-da58701f7456",slotNumber:77,dateSampled:14121216e5},{name:"BandHit 1",sourceFileId:"/factory-samples/78 BandHit 1.wav",id:"4de4a547-2bb2-413e-a6fd-f0a21370df13",slotNumber:78,dateSampled:14121216e5},{name:"BandHit 2",sourceFileId:"/factory-samples/79 BandHit 2.wav",id:"f416ec80-cf66-4abd-b6c1-8d4fa9445b24",slotNumber:79,dateSampled:14121216e5},{name:"BandHit 3",sourceFileId:"/factory-samples/80 BandHit 3.wav",id:"2d851b54-7d98-4c6a-b9e8-a4fdf14ce926",slotNumber:80,dateSampled:14121216e5},{name:"StringsHit 1",sourceFileId:"/factory-samples/81 StringsHit 1.wav",id:"05c9656e-0916-4d9d-b0fe-1c48ffb649bc",slotNumber:81,dateSampled:14121216e5},{name:"Choir",sourceFileId:"/factory-samples/82 Choir.wav",id:"e16c7ebf-81cf-42bd-a63d-c665481b46ce",slotNumber:82,dateSampled:14121216e5},{name:"GuitarHit 1",sourceFileId:"/factory-samples/83 GuitarHit 1.wav",id:"19e96bbc-9eb7-437b-9869-7d36e95e3690",slotNumber:83,dateSampled:14121216e5},{name:"GuitarHit 2",sourceFileId:"/factory-samples/84 GuitarHit 2.wav",id:"9b532143-ae48-4311-af93-501a5c77b8d6",slotNumber:84,dateSampled:14121216e5},{name:"KalimbaChord",sourceFileId:"/factory-samples/85 KalimbaChord.wav",id:"b368a20b-0481-40f2-a4d7-3e286c101bfc",slotNumber:85,dateSampled:14121216e5},{name:"SynChord",sourceFileId:"/factory-samples/86 SynChord.wav",id:"18bfcac4-a087-4dfb-a871-81b54f0cf15a",slotNumber:86,dateSampled:14121216e5},{name:"BellChord",sourceFileId:"/factory-samples/87 BellChord.wav",id:"2527a2e1-328d-4ae0-9c54-5f79cb976277",slotNumber:87,dateSampled:14121216e5},{name:"WindChime",sourceFileId:"/factory-samples/88 WindChime.wav",id:"c82e36de-0a4d-4db9-b80a-2c51dad3ecc1",slotNumber:88,dateSampled:14121216e5},{name:"Airhorn",sourceFileId:"/factory-samples/89 Airhorn.wav",id:"79c020ce-043b-413f-94f6-a391890a720c",slotNumber:89,dateSampled:14121216e5},{name:"VocalHit 1",sourceFileId:"/factory-samples/90 VocalHit 1.wav",id:"2f98f9d6-d9ef-4430-9f77-c8a8e84ace4b",slotNumber:90,dateSampled:14121216e5},{name:"VocalHit 2",sourceFileId:"/factory-samples/91 VocalHit 2.wav",id:"d32b307f-c89a-4c9b-8a0c-cf5fc4acc08e",slotNumber:91,dateSampled:14121216e5},{name:"VocalHit 3",sourceFileId:"/factory-samples/92 VocalHit 3.wav",id:"6273234c-8f8b-4317-bb0f-962643d71980",slotNumber:92,dateSampled:14121216e5},{name:"VocalHit 4",sourceFileId:"/factory-samples/93 VocalHit 4.wav",id:"0f26b77a-db3b-43fb-a4f3-dda4318de428",slotNumber:93,dateSampled:14121216e5},{name:"VocalHit 5",sourceFileId:"/factory-samples/94 VocalHit 5.wav",id:"299a658f-b737-4b33-89f0-a19dd56927f7",slotNumber:94,dateSampled:14121216e5},{name:"VocalHit 6",sourceFileId:"/factory-samples/95 VocalHit 6.wav",id:"09c12e3b-55ee-47b8-865e-f2cdbedf5b8c",slotNumber:95,dateSampled:14121216e5},{name:"VocalHit 7",sourceFileId:"/factory-samples/96 VocalHit 7.wav",id:"9888608b-0cde-4105-8bbc-8f856fb3bbb5",slotNumber:96,dateSampled:14121216e5},{name:"VocalHit 8",sourceFileId:"/factory-samples/97 VocalHit 8.wav",id:"fb9c3025-4da8-45dd-bb68-90a52885797d",slotNumber:97,dateSampled:14121216e5},{name:"VocalHit 9",sourceFileId:"/factory-samples/98 VocalHit 9.wav",id:"ff3d177e-5dee-4c13-bd24-7d9cd97d0ca7",slotNumber:98,dateSampled:14121216e5},{name:"Doncamatic",sourceFileId:"/factory-samples/99 Doncamatic.wav",id:"4a5aecb1-b1cb-4dbd-ac55-dadec60fb471",slotNumber:99,dateSampled:14121216e5}];const B=31250;var We=Object.defineProperty,Ke=Object.defineProperties,Ue=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,K=(e,a,t)=>a in e?We(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,O=(e,a)=>{for(var t in a||(a={}))le.call(a,t)&&K(e,t,a[t]);if(H)for(var t of H(a))oe.call(a,t)&&K(e,t,a[t]);return e},U=(e,a)=>Ke(e,Ue(a)),$e=(e,a)=>{var t={};for(var r in e)le.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&H)for(var r of H(e))a.indexOf(r)<0&&oe.call(e,r)&&(t[r]=e[r]);return t},k=(e,a,t)=>(K(e,typeof a!="symbol"?a+"":a,t),t),E=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});const j=A.a.createInstance({name:"audio_file_data",driver:A.a.INDEXEDDB}),M=A.a.createInstance({name:"sample_metadata",driver:A.a.INDEXEDDB});function Ge(e){return E(this,null,function*(){const a=Object(re.a)();return yield j.setItem(a,e),a})}const $="0.2.0",ze={"0.1.0":e=>{const a=e,{clip:t}=a,r=$e(a,["clip"]);return U(O({},r),{trimFrames:t.map(s=>Math.round(s*B)),metadataVersion:"0.2.0"})}};function Xe(e){let a=e;for(;a.metadataVersion!==$;){const t=ze[e.metadataVersion];if(!t){console.warn(`Failed to properly upgrade metadata for sample "${a.name}"`),a={name:a.name,sourceFileId:a.sourceFileId,id:a.id,metadataVersion:$};break}a=t(a)}return a}const P=class{constructor({name:e,sourceFileId:a,id:t=Object(re.a)(),userFileInfo:r=null,slotNumber:n=0,dateSampled:s=Date.now(),dateModified:d=s,useCompression:o=!0,qualityBitDepth:l=16,scaleCoefficient:i=1,trimFrames:u=[0,0]}){this.id=t,this.metadata={name:e,sourceFileId:a,userFileInfo:r,slotNumber:n,dateSampled:s,dateModified:d,useCompression:o,qualityBitDepth:l,scaleCoefficient:i,trimFrames:u,metadataVersion:$}}duplicate(){const e=new P.Mutable(U(O({},this.metadata),{name:`${this.metadata.name} (copy)`,dateModified:Date.now()}));return e.persist(),e}static cacheSourceFileData(e,a){this.sourceFileData.set(e,a),this.recentlyCachedSourceFileIds=[e,...this.recentlyCachedSourceFileIds.filter(r=>r!==e)];const t=this.recentlyCachedSourceFileIds.slice(this.MAX_CACHED);for(const r of t)this.sourceFileData.delete(r);this.recentlyCachedSourceFileIds=this.recentlyCachedSourceFileIds.slice(0,this.MAX_CACHED)}static getSourceFileData(e){return E(this,null,function*(){{const t=this.sourceFileData.get(e);if(t)return t}if(e.includes(".")){const t=yield fetch(e);if(t.status>=400)return Promise.reject(new Error(`Failed to fetch source file "${e}"`));const r=yield t.arrayBuffer(),n=new Uint8Array(r);return this.cacheSourceFileData(e,n),n}const a=yield j.getItem(e);return a?a instanceof Uint8Array?(this.cacheSourceFileData(e,a),a):Promise.reject("Source data is of unexpected type"):Promise.reject("Missing source data")})}static getAllMetadataFromStore(){return E(this,null,function*(){const e=new Map;return yield M.iterate((a,t)=>{if(a){const r=Xe(a);e.set(t,r)}}),e})}static getAllFromStorage(){return E(this,null,function*(){const e=yield this.getAllMetadataFromStore(),a=(yield j.keys()).concat(ne.map(({sourceFileId:r})=>r));return[...e].map(([r,n])=>{const{sourceFileId:s}=n;return a.includes(s)?new P.Mutable(O({id:r},n)):(console.warn(`Found metadata "${n.name||r}" with missing data "${s}; ignoring.`),null)}).filter(Boolean).sort((r,n)=>n.metadata.dateModified-r.metadata.dateModified)})}};let N=P;k(N,"Mutable",class extends P{constructor(e){super(e);setTimeout(()=>E(this,null,function*(){(yield M.keys()).includes(this.id)||console.warn(`Expected sample metadata container ${this.id} to be persisted`)}))}persist(){return E(this,null,function*(){yield M.setItem(this.id,this.metadata)})}update(e){const{id:a,metadata:t}=this;if(Object.keys(e).every(s=>e[s]===t[s]))return this;const r=U(O(O({},t),e),{dateModified:Date.now()}),n=new P.Mutable(O({id:a},r));return n.persist(),n}remove(){return E(this,null,function*(){if(yield M.removeItem(this.id),this.metadata.sourceFileId.includes("."))return;const e=yield P.getAllMetadataFromStore();for(const[,{sourceFileId:a}]of e)if(a===this.metadata.sourceFileId)return;yield j.removeItem(this.metadata.sourceFileId)})}}),k(N,"sourceFileData",new Map),k(N,"recentlyCachedSourceFileIds",[]),k(N,"MAX_CACHED",10);const Je=new Map(ne.map(e=>[e.id,new N(e)]));var se=Math.pow,G=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});function z(e,a){const t=4,r=a[0]*t,n=e.length-a[0]-a[1];return new Float32Array(e.buffer,r,n)}function ce(e,a){const t=e.length-a[0]-a[1],r=new Float32Array(t),n=Array(e.numberOfChannels).fill().map((s,d)=>z(e.getChannelData(d),a));for(let s=0;s<t;s++){let d=0;for(let o=0;o<n.length;o++)d+=n[o][s];d/=n.length,r[s]=d}return r}function Ye(e){let a=0;for(const t of e){const r=Math.abs(t);r>a&&(a=r)}return a}function Qe(e,a){if(a!==1)for(let t=0;t<e.length;t++)e[t]*=a}function Ze(e,a){const t=se(2,a-1);for(let r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}function de(e){for(let a=0;a<e.length;a++)e[a]>1?e[a]=1:e[a]<-1&&(e[a]=-1)}function qe(e){const a=new Int16Array(e.length),t=se(2,15);for(let r=0;r<e.length;r++)a[r]=e[r]===1?t-1:t*e[r];return a}let ie;function me(){return ie=ie||new AudioContext({sampleRate:B})}function R(e){return G(this,null,function*(){const a=new Uint8Array(e);return yield new Promise((r,n)=>{me().decodeAudioData(a.buffer,r,n)})})}function X(e,a){return G(this,null,function*(){const t=yield N.getSourceFileData(e),r=yield R(t);if(a)for(let n=0;n<r.numberOfChannels;n++)de(r.getChannelData(n));return r})}function ue(e,{onTimeUpdate:a=()=>null,onEnded:t=()=>null}={}){const r=me(),n=r.createBufferSource();n.buffer=e,n.connect(r.destination),n.start();const s=r.currentTime;a(0);let d=requestAnimationFrame(o);function o(){a(r.currentTime-s),d=requestAnimationFrame(o)}let l=!1;return n.addEventListener("ended",()=>{l||(a(e.duration),t()),cancelAnimationFrame(d)}),function(){n.stop(),l=!0}}function J(e){return G(this,null,function*(){const{qualityBitDepth:a,sourceFileId:t,userFileInfo:r,scaleCoefficient:n,trimFrames:s}=e.metadata;if(a<8||a>16||!Number.isInteger(a))throw new Error(`Expected bit depth between 8 and 16. Received: ${a}`);const d=yield X(t,Boolean(r)),o=d.numberOfChannels===1?z(d.getChannelData(0),s):ce(d,s);n!==1&&Qe(o,n),a<16&&Ze(o,a);const l=qe(o),i=l.length*2,u=Le()({channels:1,sampleRate:d.sampleRate,bitDepth:16,dataLength:i}),f=new Uint8Array(u.length+i);return f.set(u),f.set(new Uint8Array(l.buffer),u.length),{data:f,sampleRate:16}})}var ea=Object.defineProperty,aa=Object.defineProperties,ta=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,be=(e,a,t)=>a in e?ea(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ra=(e,a)=>{for(var t in a||(a={}))fe.call(a,t)&&be(e,t,a[t]);if(x)for(var t of x(a))pe.call(a,t)&&be(e,t,a[t]);return e},na=(e,a)=>aa(e,ta(a)),la=(e,a)=>{var t={};for(var r in e)fe.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&x)for(var r of x(e))a.indexOf(r)<0&&pe.call(e,r)&&(t[r]=e[r]);return t},oa=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});function sa(e,a){const t=new Float32Array(Math.floor(e.length/a)),r=new Float32Array(Math.floor(e.length/a));for(let n=0;n<t.length;n++){const s=new Float32Array(e.buffer,n*a*4,a);let d=0,o=0;for(const l of s)l>d&&(d=l),l<o&&(o=l);t[n]=d,r[n]=o}return{positive:t,negative:r}}function ca({sourceAudioBuffer:e,sample:{metadata:{trimFrames:a,scaleCoefficient:t}},onSetTrimFrames:r,onSetScaleCoefficient:n}){const s=Object(p.useMemo)(()=>e?ce(e,[0,0]):new Float32Array,[e]),d=Object(p.useRef)(null),o=6,l=Object(p.useMemo)(()=>{const m=d.current&&d.current.offsetWidth;if(!m||!s.length)return{positive:new Float32Array,negative:new Float32Array};const w=Math.floor(o*s.length/m);return sa(s,w)},[s]),i=Object(p.useMemo)(()=>{if(!e)return 1;const m=z(s,a);return Ye(m)},[e,s,a]),u=1/i;Object(p.useLayoutEffect)(()=>{t>u&&n(u)},[t,u,n]);const f=t*i;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"waveform",style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},ref:d},c.a.createElement("div",{className:"positive",style:{width:"100%",height:"67%",display:"flex",alignItems:"flex-end"}},c.a.createElement("div",{className:"scaled",style:{width:"100%",height:`${100*t}%`,willChange:"height",display:"flex",alignItems:"flex-end"}},[].map.call(l.positive,(m,w)=>c.a.createElement("div",{key:w,className:"bar",style:{width:o,height:`${100*m}%`,paddingRight:1}},c.a.createElement("div",{className:"bar_inner",style:{backgroundColor:"red",height:"100%"}}))))),c.a.createElement("div",{className:"negative",style:{width:"100%",height:"33%",display:"flex",alignItems:"flex-start"}},c.a.createElement("div",{className:"scaled",style:{width:"100%",height:`${100*t}%`,willChange:"height",display:"flex",alignItems:"flex-start"}},[].map.call(l.negative,(m,w)=>c.a.createElement("div",{key:w,className:"bar",style:{width:o,height:`${100*-m}%`,paddingRight:1}},c.a.createElement("div",{className:"bar_inner",style:{backgroundColor:"darkred",height:"100%"}}))))),c.a.createElement("input",{style:{position:"absolute",top:0,left:0},type:"range",disabled:i===0,value:f,min:.1,max:1,step:.01,onChange:m=>{i!==0&&n(Number(m.target.value)/i)}})),c.a.createElement("button",{type:"button",disabled:t===u,onClick:()=>n(u)},"Normalize"),c.a.createElement("button",{type:"button",disabled:t===1,onClick:()=>n(1)},"Original level"))}function da(e){var a=e,{sample:t}=a,r=la(a,["sample"]);const[n,s]=Object(p.useState)(null);Object(p.useEffect)(()=>{let o=!1;return(()=>oa(this,null,function*(){if(o)return;const l=yield X(t.metadata.sourceFileId,Boolean(t.metadata.userFileInfo));o||s([t.metadata.sourceFileId,l])}))(),()=>{o=!0}},[t.metadata.sourceFileId,t.metadata.userFileInfo]);const d=Object(p.useRef)(t);return n&&t.metadata.sourceFileId===n[0]&&(d.current=t),c.a.createElement(ca,na(ra({},r),{sample:d.current,sourceAudioBuffer:n&&n[1]}))}var ia=da,ma=F(7),ua=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});let ve;function fa(){return ua(this,null,function*(){if(typeof window.CREATE_SYRO_BINDINGS!="function")return Promise.reject("Expected CREATE_SYRO_BINDINGS global function to exist");const e=yield window.CREATE_SYRO_BINDINGS();return ve=ve||new Promise((a,t)=>{let r;try{r={prepareSampleBufferFromWavData:e.cwrap("prepareSampleBufferFromWavData",null,["array","number","number","number","number"]),prepareSampleBufferFrom16BitPcmData(){throw new Error("This function does not work. Use prepareSampleBufferFromWavData.")},getSampleBufferPointer:e.cwrap("getSampleBufferPointer","number",["number"]),getSampleBufferSize:e.cwrap("getSampleBufferSize","number",["number"]),getSampleBufferProgress:e.cwrap("getSampleBufferProgress","number",["number"]),registerUpdateCallback(n){return e.addFunction(n,"vi")},unregisterUpdateCallback(n){e.removeFunction(n)},heap8Buffer(){return e.HEAP8.buffer}}}catch(n){t(n);return}a(r)})})}var pa=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});function ba(e,a){return pa(this,null,function*(){const{prepareSampleBufferFromWavData:t,getSampleBufferPointer:r,getSampleBufferSize:n,getSampleBufferProgress:s,registerUpdateCallback:d,unregisterUpdateCallback:o,heap8Buffer:l}=yield fa(),{data:i}=yield J(e);let u,f=0;const m=d(w=>{const v=r(w),h=n(w);u||(u=new Uint8Array(h)),u.set(new Uint8Array(l(),v,h)),f=s(w)/h});t(i,i.length,e.metadata.slotNumber,e.metadata.qualityBitDepth,e.metadata.useCompression?1:0,m),a(f);try{yield new Promise(w=>{v();function v(){if(f&&(a(f),f>=1)){w();return}requestAnimationFrame(v)}})}finally{o(m)}if(!u)throw new Error("Unexpected condition: sampleBuffer should be defined");return u})}var va=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});function ha({sample:e}){const[a,t]=Object(p.useState)(0),[r,n]=Object(p.useState)("idle"),s=Object(p.useRef)(()=>{});return Object(ma.useEffect)(()=>()=>s.current(),[e]),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{type:"button",onClick:()=>va(this,null,function*(){try{let d=!1;s.current=()=>{n("idle"),d=!0},t(0),n("loading");const o=yield ba(e,t);if(d)return;n("transferring");const l=yield R(o);if(d)return;const i=ue(l,{onTimeUpdate:u=>t(u/l.duration),onEnded:()=>n("idle")});s.current=()=>{i(),n("idle")}}catch(d){console.error(d),n("error")}})},"transfer to volca sample"),c.a.createElement("br",null),r==="idle"?null:r==="error"?"Error transferring":c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,r==="loading"?"Preparing sample transfer...":"Transferring to Volca Sample..."),c.a.createElement("progress",{value:a}),c.a.createElement("br",null),c.a.createElement("button",{onClick:()=>s.current()},"Cancel")),c.a.createElement("br",null))}var ya=ha,Sa=Object.defineProperty,wa=Object.defineProperties,ga=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,Fa=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,ye=(e,a,t)=>a in e?Sa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Ca=(e,a)=>{for(var t in a||(a={}))Fa.call(a,t)&&ye(e,t,a[t]);if(he)for(var t of he(a))Ia.call(a,t)&&ye(e,t,a[t]);return e},Na=(e,a)=>wa(e,ga(a)),Y=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});{const e=`
.sampleDetail {
  padding-left: 2rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const Ea=["sampleDetail"].reduce((e,a)=>Na(Ca({},e),{[a]:a}),{});function Se(e,a){const t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=a,r.style.display="none",document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(t)}function Oa({sample:e,onSampleUpdate:a,onSampleDuplicate:t,onSampleDelete:r}){const[n,s]=Object(p.useState)(0),d=e&&e.metadata.sourceFileId;Object(p.useEffect)(()=>{s(0),d&&X(d,!1).then(f=>s(f.length))},[d]);const o=e&&e.id,l=Object(p.useCallback)(f=>o&&a(o,{scaleCoefficient:f}),[o,a]);if(!e)return null;const i=Math.max(0,n-e.metadata.trimFrames[1]),u=Math.max(0,n-e.metadata.trimFrames[0]);return c.a.createElement("div",{className:Ea.sampleDetail},c.a.createElement("h3",null,e.metadata.name),c.a.createElement("button",{type:"button",onClick:()=>t(e.id)},"Duplicate"),c.a.createElement("button",{type:"button",onClick:()=>{window.confirm(`Are you sure you want to delete ${e.metadata.name}?`)&&r(e.id)}},"Remove"),c.a.createElement("h4",null,"Last edited: ",new Date(e.metadata.dateModified).toLocaleString()),c.a.createElement("h4",null,"Sampled: ",new Date(e.metadata.dateSampled).toLocaleString()),c.a.createElement("label",null,c.a.createElement("h4",null,"Trim start"),c.a.createElement("input",{type:"number",value:e.metadata.trimFrames[0],step:1,min:0,max:i,onChange:f=>{if(n){const m=Number(f.target.value);a(e.id,{trimFrames:[Math.min(m,i),e.metadata.trimFrames[1]]})}else a(e.id,{trimFrames:[...e.metadata.trimFrames]})}})),c.a.createElement("label",null,c.a.createElement("h4",null,"Trim end"),c.a.createElement("input",{type:"number",value:e.metadata.trimFrames[1],step:1,min:0,max:u,onChange:f=>{if(n){const m=Number(f.target.value);a(e.id,{trimFrames:[e.metadata.trimFrames[0],Math.min(m,u)]})}else a(e.id,{trimFrames:[...e.metadata.trimFrames]})}})),c.a.createElement("div",{style:{height:200,backgroundColor:"#f3f3f3",maxWidth:400}},c.a.createElement(ia,{onSetTrimFrames:()=>null,onSetScaleCoefficient:l,sample:e}),c.a.createElement("button",{type:"button",onClick:()=>Y(this,null,function*(){const{data:f}=yield J(e),m=yield R(f);ue(m)})},"play"),c.a.createElement("button",{type:"button",onClick:()=>Y(this,null,function*(){const{data:f}=yield J(e),m=new Blob([f],{type:"audio/x-wav"});Se(m,`${e.metadata.name}.wav`)})},"download"),c.a.createElement("button",{type:"button",onClick:()=>Y(this,null,function*(){const{sourceFileId:f,userFileInfo:m}=e.metadata,w=yield N.getSourceFileData(f),v=new Blob([w],{type:m?m.type:"audio/x-wav"});Se(v,`${e.metadata.name}${m?m.ext:".wav"}`)})},"download (orig)")),c.a.createElement("h4",null,"Quality bit depth: ",e.metadata.qualityBitDepth),c.a.createElement("input",{type:"range",value:e.metadata.qualityBitDepth,step:1,min:8,max:16,onChange:f=>{const m=Number(f.target.value);a(e.id,{qualityBitDepth:m})}}),c.a.createElement("label",null,c.a.createElement("h4",null,"Slot number"),c.a.createElement("input",{type:"number",value:e.metadata.slotNumber,step:1,min:0,max:99,onChange:f=>{const m=Number(f.target.value);a(e.id,{slotNumber:m})}})),c.a.createElement(ya,{sample:e}))}var Pa=Oa,Da=F(8),T=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});let we;function Q(){return we=we||new AudioContext(navigator.mediaDevices.getSupportedConstraints().sampleRate?{sampleRate:B}:{})}function Aa(){return T(this,null,function*(){const a=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput"),t=[];for(const r of a){const n=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:r.deviceId,channelCount:2},video:!1}),s=(yield navigator.mediaDevices.enumerateDevices()).find(({deviceId:o})=>r.deviceId===o).label,d=n.getAudioTracks().length;for(const o of n.getTracks())o.stop();t.push({device:{deviceId:r.deviceId,label:s},channelsAvailable:d})}return t})}let Z;function Ba(e){return T(this,arguments,function*({onData:a,onFinish:t}){const r=Q();Z=Z||r.audioWorklet.addModule("recorderWorkletProcessor.js"),yield Z;const n=new AudioWorkletNode(r,"recorder-worklet",{parameterData:{bufferSize:1024}});n.port.onmessage=d=>{if(d.data.eventType==="data"){const o=d.data.audioChannels;a(o)}d.data.eventType==="stop"&&t()};const s=n.parameters.get("isRecording");return s.setValueAtTime(1,r.currentTime),{recorderNode:n,stop(){s.setValueAtTime(0,r.currentTime)}}})}function Ha({channelCount:e,onData:a,onFinish:t}){const n=Q().createScriptProcessor(1024,e,e);let s=!1;return n.onaudioprocess=d=>{const o=Array(e).fill().map((l,i)=>d.inputBuffer.getChannelData(i));a(o),s&&t()},{recorderNode:n,stop(){s=!0}}}function ka(e){return T(this,null,function*(){return typeof AudioWorkletNode=="undefined"?Ha(e):yield Ba(e)})}function ja(e){return T(this,arguments,function*({deviceId:a,channelCount:t,onStart:r}){const n=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:a,channelCount:t,sampleRate:B,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},video:!1}),s=Q(),d=s.createMediaStreamSource(n),{recorderNode:o,stop:l}=yield ka({channelCount:t,onData:w,onFinish:y});d.connect(o),o.connect(s.destination),r();const u=10*s.sampleRate;let f=0;const m=Array(t).fill([]);function w(I){let g=0;for(let C=0;C<t;C++){const _=I[C],L=_.length,D=_.slice(0,Math.min(L,u-f));de(D),g||(g=D.length),m[C].push(D)}f+=g,f>=u&&(y(),l())}let v,h;const S=new Promise((I,g)=>{v=I,h=g});let b=!1;function y(){if(b)return;try{const g=m.map(L=>{const D=new Float32Array(L.reduce((V,Za)=>V+Za.length,0));let Ee=0;for(const V of L)D.set(V,Ee),Ee+=V.length;return D}),C=new Da.a;C.fromScratch(g.length,s.sampleRate,"32f",g);const _=C.toBuffer();v(_)}catch(g){h(g)}const I=n.getTracks();for(const g of I)g.stop();o.disconnect(s.destination),d.disconnect(o),b=!0}return{stop:l,mediaRecording:S}})}var ge=Object.getOwnPropertySymbols,Ma=Object.prototype.hasOwnProperty,Ra=Object.prototype.propertyIsEnumerable,xa=(e,a)=>{var t={};for(var r in e)Ma.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&ge)for(var r of ge(e))a.indexOf(r)<0&&Ra.call(e,r)&&(t[r]=e[r]);return t},Fe=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});let Ie=null;function Ta({onRecordStart:e,onRecordFinish:a,onRecordError:t}){const[r,n]=Object(p.useState)(Ie),[s,d]=Object(p.useState)(r?"ok":"pending"),[o,l]=Object(p.useState)("");Object(p.useEffect)(()=>{Ie=r,d("ok")},[r]);const i=Object(p.useCallback)(()=>{Aa().then(b=>{b.length&&(n(new Map(b.map(y=>[y.device.deviceId,y]))),l(y=>y||b[0].device.deviceId))}).catch(b=>{if(b instanceof DOMException){if(b.name==="NotAllowedError"){d("denied");return}if(b.name==="NotFoundError"){d("unavailable");return}}throw b})},[]);Object(p.useEffect)(i,[i]);const[u,f]=Object(p.useState)(1);Object(p.useEffect)(()=>{const b=r&&r.get(o);b&&f(b.channelsAvailable)},[r,o]);const[m,w]=Object(p.useState)(null);Object(p.useEffect)(()=>{m&&t(m)},[m,t]);const[v,h]=Object(p.useState)({fn:()=>{}}),S=Object(p.useCallback)(()=>Fe(this,null,function*(){const{mediaRecording:b,stop:y}=yield ja({deviceId:o,channelCount:u,onStart:e});h({fn:y});let I;try{I=yield b}catch(g){w(g);return}a(I)}),[o,u,e,a]);return{captureDevices:r,accessState:s,selectedCaptureDeviceId:o,selectedChannelCount:u,recordingError:m,refreshCaptureDevices:i,setSelectedCaptureDeviceId:l,setSelectedChannelCount:f,beginRecording:S,stopRecording:v.fn}}function _a(e){var a=e,{captureState:t}=a,r=xa(a,["captureState"]);const{captureDevices:n,accessState:s,selectedCaptureDeviceId:d,selectedChannelCount:o,recordingError:l,refreshCaptureDevices:i,setSelectedCaptureDeviceId:u,setSelectedChannelCount:f,beginRecording:m,stopRecording:w}=Ta(r);return c.a.createElement("div",{style:{paddingLeft:"2rem"}},s==="denied"?c.a.createElement("p",null,"Looks like you didn't grant access to your audio input device. Please give Volca Sampler access, then"," ",c.a.createElement("button",{type:"button",onClick:i},"try again")):s==="unavailable"?c.a.createElement("p",null,"Volca Sampler couldn't find any audio input devices. Please connect one, then"," ",c.a.createElement("button",{type:"button",onClick:i},"try again")):c.a.createElement("div",null,c.a.createElement("label",null,"Capture Device",c.a.createElement("select",{value:d,onChange:v=>u(v.target.value)},n&&s==="ok"?[...n].map(([v,{device:h}])=>c.a.createElement("option",{key:v,value:v},h.label||v)):c.a.createElement("option",{value:"",disabled:!0},"Loading devices..."))),c.a.createElement("label",null,"Channel count",c.a.createElement("select",{value:o,onChange:v=>f(Number(v.target.value))},[1,2].map(v=>c.a.createElement("option",{key:v,value:v,disabled:!n||!n.has(d)||n.get(d).channelsAvailable<v},v))))),c.a.createElement("button",{type:"button",onClick:t==="capturing"?w:m,disabled:t==="preparing"},["capturing","preparing"].includes(t)?"Stop":"Record"),c.a.createElement("input",{type:"file",accept:"audio/*,.wav,.mp3,.ogg",onChange:v=>{if(v.target.files&&v.target.files.length){const h=v.target.files[0];h.arrayBuffer().then(S=>Fe(this,null,function*(){const b=new Uint8Array(S);let y;try{y=yield R(b)}catch(I){alert("Unsupported audio format detected");return}if(y.length>10*y.sampleRate){alert("Please select an audio file no more than 10 seconds long");return}r.onRecordFinish(b,h)}))}}}),t==="error"&&l||null)}var La=_a,Va=Object.defineProperty,Wa=Object.defineProperties,Ka=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Ua=Object.prototype.hasOwnProperty,$a=Object.prototype.propertyIsEnumerable,Ne=(e,a,t)=>a in e?Va(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,Ga=(e,a)=>{for(var t in a||(a={}))Ua.call(a,t)&&Ne(e,t,a[t]);if(Ce)for(var t of Ce(a))$a.call(a,t)&&Ne(e,t,a[t]);return e},za=(e,a)=>Wa(e,Ka(a)),Xa=(e,a,t)=>new Promise((r,n)=>{var s=l=>{try{o(t.next(l))}catch(i){n(i)}},d=l=>{try{o(t.throw(l))}catch(i){n(i)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,d);o((t=t.apply(e,a)).next())});{const e=`
.volcaSampler {
  padding: 2rem;
  display: flex;
  height: 100%;
}

.sampleListContainer {
  width: 200px;
  flex-shrink: 0;
  padding-right: 0.5rem;
  height: 100%;
}

.focusedSampleContainer {
  flex-grow: 1;
}

.focusedSample {
  padding-left: 2rem;
}
  `,a=document.createElement("style");a.innerHTML=e,document.body.appendChild(a)}const q=["volcaSampler","sampleListContainer","sampleList","sampleListItem","focusedSampleContainer","focusedSample"].reduce((e,a)=>za(Ga({},e),{[a]:a}),{});function Ja(){const[e,a]=Object(p.useState)(!1),[t,r]=Object(p.useState)(new Map),[n,s]=Object(p.useState)(null),[d,o]=Object(p.useState)(!0),[l,i]=Object(p.useState)("idle"),u=e?Je:t;Object(p.useEffect)(()=>{N.getAllFromStorage().then(h=>{r(S=>new Map([...S,...h.map(b=>[b.id,b])]))}).finally(()=>{o(!1)})},[]),Object(p.useEffect)(()=>{u.size&&!(n&&u.has(n))&&s([...u.values()][0].id)},[u,n]);const f=Object(p.useCallback)(()=>i("capturing"),[]),m=Object(p.useCallback)((h,S)=>Xa(this,null,function*(){i("preparing");const b=yield Ge(h);let y="",I="";if(S){const C=S.name.lastIndexOf(".");C>0?(y=S.name.slice(0,C),I=S.name.slice(C)):y=S.name}else y="New one";const g=new N.Mutable({name:y,sourceFileId:b,userFileInfo:S&&{type:S.type,ext:I}});yield g.persist(),r(C=>new Map([[g.id,g],...C])),a(!1),s(g.id),i("idle")}),[]),w=Object(p.useCallback)(h=>{console.error(h),i("error")},[]),v=Object(p.useCallback)((h,S)=>{r(b=>{const y=b.get(h);if(y&&y instanceof N.Mutable){const I=y.update(S);if(I!==y)return new Map(b).set(y.id,I)}return b})},[]);return c.a.createElement("div",null,c.a.createElement("h1",{style:{display:"flex",alignItems:"center",padding:"2rem",paddingBottom:0,marginBottom:0}},c.a.createElement("span",{style:{color:"red"}},"Volca Sample",c.a.createElement("span",{style:{textDecoration:"underline",textTransform:"uppercase"}},"r")),c.a.createElement("img",{style:{height:"1.6em",paddingLeft:"1rem"},src:"volca_sample.png"})),c.a.createElement("div",{className:q.volcaSampler},c.a.createElement("select",{value:JSON.stringify(e),onChange:h=>a(JSON.parse(h.target.value))},c.a.createElement("option",{value:"false"},"Your Samples"),c.a.createElement("option",{value:"true"},"Factory Samples")),c.a.createElement("div",{className:q.sampleListContainer},d?"Loading...":null,c.a.createElement(Te,{samples:u,selectedSampleId:l==="idle"?n:null,readonly:["capturing","preparing"].includes(l),onNewSample:()=>i("ready"),onSampleSelect:h=>{s(h),i("idle")}})),c.a.createElement("div",{className:q.focusedSampleContainer},l==="idle"&&c.a.createElement(Pa,{sample:n&&u.get(n)||null,onSampleUpdate:v,onSampleDuplicate:h=>{const S=u.get(h);if(S){const b=S.duplicate();r(y=>new Map([[b.id,b],...y])),a(!1),s(b.id)}},onSampleDelete:h=>{const S=u.get(h);S&&S instanceof N.Mutable&&(S.remove(),r(b=>{const y=new Map(b);return y.delete(S.id),y}))}}),l!=="idle"&&c.a.createElement(La,{captureState:l,onRecordStart:f,onRecordFinish:m,onRecordError:w}))))}var Ya=Ja,Qa=e=>{e&&e instanceof Function&&F.e(3).then(F.bind(null,24)).then(({getCLS:a,getFID:t,getFCP:r,getLCP:n,getTTFB:s})=>{a(e),t(e),r(e),n(e),s(e)})};De.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ya,null)),document.getElementById("root")),Qa()}},[[21,1,2]]]);

//# sourceMappingURL=main.e4051b54.chunk.js.map