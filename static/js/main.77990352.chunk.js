(this["webpackJsonpvolca-sampler"]=this["webpackJsonpvolca-sampler"]||[]).push([[0],{105:function(I,Q,d){I.exports={"form-switch":"VolcaTransferControl_form-switch__1ZS81","form-check-input":"VolcaTransferControl_form-check-input__REQsM",transferButton:"VolcaTransferControl_transferButton__11MBQ"}},107:function(I,Q,d){I.exports={"form-switch":"NormalizeSwitch_form-switch__pmDx5","form-check-input":"NormalizeSwitch_form-check-input__trt4D",normalizeControlWrapper:"NormalizeSwitch_normalizeControlWrapper__3yf2V"}},110:function(I,Q,d){I.exports={waveformContainer:"WaveformReadonly_waveformContainer__RARS4"}},117:function(I,Q,d){},118:function(I,Q,d){},149:function(I,Q,d){"use strict";d.r(Q);var u=d(0),n=d.n(u),ct=d(11),sa=d.n(ct),Yn=d(117),Zn=d(118),ze=d(164),it=d(165),ce=d(163),we=d(156),ua=d(23),oe=d.n(ua),ma=n.a.memo(function({onMenuOpen:e,onHeaderClick:a}){return n.a.createElement("div",{className:oe.a.titleBar},n.a.createElement("span",{className:oe.a.menuIcon,onClick:e},"\u2630"),n.a.createElement(we.a,{fluid:"sm",className:oe.a.titleContainer},n.a.createElement("h1",{className:oe.a.title,onClick:a},n.a.createElement("span",{className:oe.a.titleText,"data-text":"Volca Sample"},"Volca Sample",n.a.createElement("span",{className:oe.a.titleR},"r"),n.a.createElement("svg",{viewBox:"0 0 150 150",preserveAspectRatio:"none",className:oe.a.titleStarburst},Array(24).fill().map((r,l,{length:c})=>n.a.createElement("polygon",{key:l,points:"75,70 75,80 150,75","transform-origin":"75 75",style:{"--rotation":`${l*360/c}deg`}})))),n.a.createElement("img",{className:oe.a.titleGraphic,src:"volca_sample.png",alt:""}))),n.a.createElement("svg",{width:0,height:0},n.a.createElement("filter",{id:"outline"},n.a.createElement("feMorphology",{in:"SourceAlpha",result:"DILATED",operator:"dilate",radius:"1"}),n.a.createElement("feFlood",{floodColor:"var(--stroke-color)",floodOpacity:"1",result:"PINK"}),n.a.createElement("feComposite",{in:"PINK",in2:"DILATED",operator:"in",result:"OUTLINE"}),n.a.createElement("feMerge",null,n.a.createElement("feMergeNode",{in:"OUTLINE"}),n.a.createElement("feMergeNode",{in:"SourceGraphic"})))))}),st=d(62),da=d(63),ut=d.n(da),fa=d(54),Se=d.n(fa),mt=d(166),dt=d(90);const Ce=31250;var pa=Object.defineProperty,va=Object.defineProperties,ha=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,He=(t,e,a)=>e in t?pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,J=(t,e)=>{for(var a in e||(e={}))ft.call(e,a)&&He(t,a,e[a]);if(Oe)for(var a of Oe(e))pt.call(e,a)&&He(t,a,e[a]);return t},ne=(t,e)=>va(t,ha(e)),ke=(t,e)=>{var a={};for(var r in t)ft.call(t,r)&&e.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&Oe)for(var r of Oe(t))e.indexOf(r)<0&&pt.call(t,r)&&(a[r]=t[r]);return a},De=(t,e,a)=>(He(t,typeof e!="symbol"?e+"":e,a),a),te=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});const Pe=Se.a.createInstance({name:"audio_file_data",driver:Se.a.INDEXEDDB}),je=Se.a.createInstance({name:"sample_metadata",driver:Se.a.INDEXEDDB});function ya(t){return te(this,null,function*(){const e=Object(mt.a)();return yield Pe.setItem(e,t),e})}const Ve="0.5.0",ba={"0.1.0":t=>{const e=t,{clip:a}=e,r=ke(e,["clip"]);return ne(J({},r),{trimFrames:a.map(c=>Math.round(c*Ce)),metadataVersion:"0.2.0"})},"0.2.0":t=>te(void 0,null,function*(){const e=t,{trimFrames:a}=e,r=ke(e,["trimFrames"]),l=yield Be(r.sourceFileId,!1),c=yield Rt(l,a),s={frames:a,waveformPeaks:c};return ne(J({},r),{trim:s,metadataVersion:"0.3.0"})}),"0.3.0":t=>{const e=t,{dateSampled:a,dateModified:r}=e,l=ke(e,["dateSampled","dateModified"]);return ne(J({},l),{dateSampled:new Date(a).toISOString(),dateModified:new Date(r).toISOString(),metadataVersion:"0.4.0"})},"0.4.0":t=>te(void 0,null,function*(){const e=t,{scaleCoefficient:a,trim:{frames:r,waveformPeaks:l}}=e,c=ke(e,["scaleCoefficient","trim"]),s=yield Be(c.sourceFileId,!1),i=Ae(s,r),o=me(i);return ne(J({},c),{normalize:a!==1,trim:{frames:r,waveformPeaks:ne(J({},l),{normalizationCoefficient:1/o})},metadataVersion:"0.5.0"})})};function ga(t){return te(this,null,function*(){let e=t;for(;e.metadataVersion!==Ve;){const a=ba[e.metadataVersion];if(!a){console.warn(`Failed to properly upgrade metadata for sample "${e.name}"`),e={name:e.name,sourceFileId:e.sourceFileId,id:e.id,metadataVersion:Ve};break}e=yield a(e)}return e})}const ue=class{constructor({name:t,sourceFileId:e,trim:a,id:r=Object(mt.a)(),userFileInfo:l=null,slotNumber:c=0,dateSampled:s=new Date().toISOString(),dateModified:i=s,useCompression:o=!0,qualityBitDepth:m=16,normalize:v=!0}){this.id=r,this.metadata={name:t,sourceFileId:e,trim:a,userFileInfo:l,slotNumber:c,dateSampled:s,dateModified:i,useCompression:o,qualityBitDepth:m,normalize:v,metadataVersion:Ve}}duplicate(){const t=new ue.Mutable(ne(J({},this.metadata),{name:`${this.metadata.name} (copy)`,dateModified:new Date().toISOString()}));return t.persist(),t}static cacheSourceFileData(t,e){this.sourceFileData.set(t,e),this.recentlyCachedSourceFileIds=[t,...this.recentlyCachedSourceFileIds.filter(r=>r!==t)];const a=this.recentlyCachedSourceFileIds.slice(this.MAX_CACHED);for(const r of a)this.sourceFileData.delete(r);this.recentlyCachedSourceFileIds=this.recentlyCachedSourceFileIds.slice(0,this.MAX_CACHED)}static getSourceFileData(t){return te(this,null,function*(){{const a=this.sourceFileData.get(t);if(a)return a}if(t.includes(".")){const a=yield fetch(t);if(a.status>=400)return Promise.reject(new Error(`Failed to fetch source file "${t}"`));const r=yield a.arrayBuffer(),l=new Uint8Array(r);return this.cacheSourceFileData(t,l),l}const e=yield Pe.getItem(t);return e?e instanceof Uint8Array?(this.cacheSourceFileData(t,e),e):Promise.reject("Source data is of unexpected type"):Promise.reject("Missing source data")})}static getAllMetadataFromStore(){return te(this,null,function*(){const t=new Map,e=[];return yield je.iterate((a,r)=>{a&&e.push(ga(a).then(l=>{t.set(r,l)}).catch(l=>{console.error(l),console.warn(`Failed to upgrade metadata "${r}" (${a.name}); ignoring.`)}))}),yield Promise.all(e),t})}static getAllFromStorage(){return te(this,null,function*(){const t=yield this.getAllMetadataFromStore(),e=yield vt(),a=(yield Pe.keys()).concat(e.map(({sourceFileId:l})=>l));return[...t].map(([l,c])=>{const{sourceFileId:s}=c;return a.includes(s)?new ue.Mutable(J({id:l},c)):(console.warn(`Found metadata "${c.name||l}" with missing data "${s}; ignoring.`),null)}).filter(Boolean).sort(({metadata:{dateModified:l}},{metadata:{dateModified:c}})=>l>c?-1:c>l?1:0)})}};let K=ue;De(K,"Mutable",class extends ue{constructor(t){super(t);setTimeout(()=>te(this,null,function*(){(yield je.keys()).includes(this.id)||console.warn(`Expected sample metadata container ${this.id} to be persisted`)}))}persist(){return te(this,null,function*(){yield je.setItem(this.id,this.metadata)})}update(t){const{id:e,metadata:a}=this,r=typeof t=="function"?t(a):t;if(Object.keys(r).every(s=>r[s]===a[s]))return this;const l=ne(J(J({},a),r),{dateModified:new Date().toISOString()}),c=new ue.Mutable(J({id:e},l));return c.persist(),c}remove(){return te(this,null,function*(){if(yield je.removeItem(this.id),this.metadata.sourceFileId.includes("."))return;const t=yield ue.getAllMetadataFromStore();for(const[,{sourceFileId:e}]of t)if(e===this.metadata.sourceFileId)return;yield Pe.removeItem(this.metadata.sourceFileId)})}}),De(K,"sourceFileData",new Map),De(K,"recentlyCachedSourceFileIds",[]),De(K,"MAX_CACHED",10);let Ue;function vt(){return Ue||(Ue=fetch("factory-samples.json").then(t=>t.json())),Ue}function Ea(){return te(this,null,function*(){const t=yield vt();return new Map(t.map(e=>[e.id,new K(ne(J({},e),{normalize:!1,trim:{frames:[e.trim.frames[0],e.trim.frames[1]],waveformPeaks:ne(J({},e.trim.waveformPeaks),{positive:new Float32Array(Object(dt.a)(e.trim.waveformPeaks.positive)),negative:new Float32Array(Object(dt.a)(e.trim.waveformPeaks.negative))})}}))]))})}var ht=Math.pow,Qe=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});function Re(t,e){const a=4,r=e[0]*a,l=t.length-e[0]-e[1];return new Float32Array(t.buffer,r,l)}function Ae(t,e){const a=t.length-e[0]-e[1],r=new Float32Array(a),l=Array(t.numberOfChannels).fill().map((c,s)=>Re(t.getChannelData(s),e));for(let c=0;c<a;c++){let s=0;for(let i=0;i<l.length;i++)s+=l[i][c];s/=l.length,r[c]=s}return r}function me(t){let e=0;for(const a of t){const r=Math.abs(a);r>e&&(e=r)}return e}function wa(t,e){if(e!==1)for(let a=0;a<t.length;a++)t[a]*=e}function Sa(t){const e=me(t);wa(t,1/e)}function Ca(t,e){const a=ht(2,e-1);for(let r=0;r<t.length;r++)t[r]=Math.round(t[r]*a)/a}function yt(t){for(let e=0;e<t.length;e++)t[e]>1?t[e]=1:t[e]<-1&&(t[e]=-1)}function Oa(t){const e=t.length,a=t[0].length,r=new Float32Array(e*a);for(let l=0;l<r.length;l++){const c=e*l;for(let s=0;s<e;s++)r[c+s]=t[s][l]}return r}function bt(t){const e=new Int16Array(t.length),a=ht(2,15);for(let r=0;r<t.length;r++)e[r]=t[r]===1?a-1:a*t[r];return e}function gt(){return window.AudioContext||window.webkitAudioContext}let Et;function wt(){const t=gt();return Et=Et||new t({sampleRate:Ce})}function he(t){return Qe(this,null,function*(){const e=new Uint8Array(t);return yield new Promise((r,l)=>{wt().decodeAudioData(e.buffer,r,l)})})}function Be(t,e){return Qe(this,null,function*(){const a=yield K.getSourceFileData(t),r=yield he(a);if(e)for(let l=0;l<r.numberOfChannels;l++)yt(r.getChannelData(l));return r})}function St(t){return Qe(this,null,function*(){const{qualityBitDepth:e,sourceFileId:a,userFileInfo:r,normalize:l,trim:{frames:c}}=t.metadata;if(e<8||e>16||!Number.isInteger(e))throw new Error(`Expected bit depth between 8 and 16. Received: ${e}`);const s=yield Be(a,Boolean(r)),i=s.numberOfChannels===1?Re(s.getChannelData(0),c):Ae(s,c);l&&Sa(i),e<16&&Ca(i,e);const o=bt(i),m=o.length*2,v=ut()({channels:1,sampleRate:s.sampleRate,bitDepth:16,dataLength:m}),f=new Uint8Array(v.length+m);return f.set(v),f.set(new Uint8Array(o.buffer),v.length),{data:f,sampleRate:16}})}function Ct(t){const[e,a]=Object(u.useState)(null),[r,l]=Object(u.useState)(null);return Object(u.useEffect)(()=>{a(null);let c=!1;St(t).then(({data:s})=>{c||a(s)})},[t]),Object(u.useEffect)(()=>{if(l(null),e){let c=!1;he(e).then(s=>{c||l(s)})}},[e]),{wav:e,audioBuffer:r}}const ka={playAudioBuffer(t,e){throw new Error("Must render AudioPlaybackContextProvider")}},Ot=Object(u.createContext)(ka);function Da({children:t}){const e=Object(u.useRef)(()=>{}),a=Object(u.useCallback)((l,{onTimeUpdate:c=()=>null,onEnded:s=()=>null}={})=>{e.current();const i=wt(),o=i.createBufferSource();o.buffer=l,o.connect(i.destination),o.start();const m=i.currentTime;c(0);let v=requestAnimationFrame(f);function f(){c(i.currentTime-m),v=requestAnimationFrame(f)}let E=!1;o.addEventListener("ended",()=>{E||(c(l.duration),s()),cancelAnimationFrame(v)});function b(){E||(o.stop(),cancelAnimationFrame(v),s(),E=!0)}return e.current=b,b},[]),r=Object(u.useMemo)(()=>({playAudioBuffer:a}),[a]);return Object(u.createElement)(Ot.Provider,{value:r},t)}function kt(){return Object(u.useContext)(Ot)}var Dt=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});const de=6,Pt=de*44;function jt(t,e){const a=Math.floor(de*t.length/e),r=new Float32Array(Math.floor(t.length/a)),l=new Float32Array(Math.floor(t.length/a));for(let o=0;o<r.length;o++){const m=new Float32Array(t.buffer,o*a*4,a);let v=0,f=0;for(const E of m)E>v&&(v=E),E<f&&(f=E);r[o]=Math.min(1,v),l[o]=Math.max(-1,f)}const c=t.length%a,s=new Float32Array(r.length+l.length+c);s.set(r,0),s.set(l,r.length),s.set(new Float32Array(t.buffer,(t.length-c)*4,c),r.length+l.length);const i=me(s);return{positive:r,negative:l,normalizationCoefficient:1/i}}function Rt(t,e){return Dt(this,null,function*(){const a=Ae(t,e);return jt(a,Pt)})}function At(t){const[e,a]=Object(u.useState)(null);Object(u.useEffect)(()=>{let l=!1;return(()=>Dt(this,null,function*(){if(l)return;const c=yield Be(t.metadata.sourceFileId,Boolean(t.metadata.userFileInfo));l||a([t.metadata.sourceFileId,c])}))(),()=>{l=!0}},[t.metadata.sourceFileId,t.metadata.userFileInfo]);const r=Object(u.useRef)(t);return e&&t.metadata.sourceFileId===e[0]&&(r.current=t),{sample:r.current,sourceAudioBuffer:e&&e[1]}}function Bt(t){const e=Object(u.useMemo)(()=>t?Ae(t,[0,0]):new Float32Array,[t]),[a,r]=Object(u.useState)(null),[l,c]=Object(u.useState)({width:0,height:0}),s=Object(u.useMemo)(()=>a&&(l.width||a.offsetWidth),[a,l]),i=Object(u.useMemo)(()=>!s||!e.length?{positive:new Float32Array,negative:new Float32Array,normalizationCoefficient:1/0}:jt(e,s),[s,e]);return{monoSamples:e,waveformRef:r,pixelWidth:s,peaks:i,onResize:c}}function Ne(t,e){return`0:${t.toFixed(e).padStart(3+e,"0")}`}function Nt(t){const{playAudioBuffer:e}=kt(),a=Object(u.useRef)(()=>{}),[r,l]=Object(u.useState)(null);Object(u.useEffect)(()=>{t&&r&&(l(null),r.fn())},[t,r]);const[c,s]=Object(u.useState)(0),[i,o]=Object(u.useState)(!1),[m,v]=Object(u.useState)("");Object(u.useEffect)(()=>{t&&v(Ne(i?c*t.duration:t.duration,1))},[t,i,c]);const f=Object(u.useCallback)(b=>{if(i)a.current();else if(t)a.current=e(t,{onTimeUpdate(y){s(y/t.duration)},onEnded(){o(!1)}}),s(0),o(!0);else{const y=b.target;l({fn:()=>y.dispatchEvent(b)})}},[i,e,t]);Object(u.useEffect)(()=>{function b(y){document.querySelector('[role="dialog"]')||y.key===" "&&(y.preventDefault(),f(y))}return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[f]);const E=Object(u.useCallback)(()=>a.current(),[]);return{isPlaybackActive:i,playbackProgress:c,displayedTime:m,togglePlayback:f,stopPlayback:E}}var Pa=d(100),ja=Object.defineProperty,Mt=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,Aa=Object.prototype.propertyIsEnumerable,Lt=(t,e,a)=>e in t?ja(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,xt=(t,e)=>{for(var a in e||(e={}))Ra.call(e,a)&&Lt(t,a,e[a]);if(Mt)for(var a of Mt(e))Aa.call(e,a)&&Lt(t,a,e[a]);return t};const Ba=st.a.canvas({width:"100%",height:"100%",display:"block",imageRendering:"pixelated"});function Na(t,e){function a(l,c){t.width=l,t.height=c}a(t.offsetWidth,t.offsetHeight),e({width:t.offsetWidth,height:t.offsetHeight});const r=new Pa.a(([l])=>{const{width:c,height:s}=l.contentRect;a(c,s),e({width:c,height:s})});return r.observe(t),()=>r.disconnect()}function Ma(t,e,a){const r=getComputedStyle(document.documentElement),l=r.getPropertyValue("--bs-primary"),c=r.getPropertyValue("--bs-primary-darkened"),s=t.getContext("2d");s.imageSmoothingEnabled=!1;const{width:i,height:o}=t;s.clearRect(0,0,i,o);const m=Math.floor(o*(2/3))+1;s.fillStyle=l,e.positive.forEach((f,E)=>{const b=m*f,y=Math.max(Math.round(a*b),1);s.fillRect(E*de,m-y,de-1,y)});const v=o-m;s.fillStyle=c,e.negative.forEach((f,E)=>{const b=v*f*-1,y=Math.round(a*b);s.fillRect(E*de,m,de-1,y)})}function La({peaks:t,scaleCoefficient:e,waveformRef:a,onResize:r}){const l=Object(u.useRef)(null);Object(u.useImperativeHandle)(a,()=>l.current);const[c,s]=Object(u.useState)(Symbol()),i=Object(u.useRef)({width:0,height:0});return Object(u.useLayoutEffect)(()=>{if(!l.current)throw new Error("Canvas should be defined");return i.current.width=l.current.offsetWidth,i.current.height=l.current.offsetHeight,r&&r(xt({},i.current)),Na(l.current,({width:o,height:m})=>{(o!==i.current.width||m!==i.current.height)&&(s(Symbol()),i.current.width=o,i.current.height=m,r&&r(xt({},i.current)))})},[r]),Object(u.useLayoutEffect)(()=>{const o=l.current;if(!o)throw new Error("Canvas should be defined");let m=requestAnimationFrame(()=>{m=requestAnimationFrame(()=>{Ma(o,t,e===void 0?t.normalizationCoefficient:e)})});return()=>cancelAnimationFrame(m)},[t,e,c]),n.a.createElement(Ba,{ref:l})}var $e=La;const xa=st.a.div({width:`${Pt}px`,height:"40px"}),It=typeof IntersectionObserver!="undefined",Ia=n.a.memo(function({sample:e,selected:a,onSampleSelect:r}){const l=Object(u.useRef)(null),[c,s]=Object(u.useState)(!It);return Object(u.useLayoutEffect)(()=>{if(!It)return;const i=l.current;if(!i)throw new Error("Waveform container should be defined");const o=i.getBoundingClientRect();if(o.top+o.height>=0&&o.bottom-o.height<=window.innerHeight){s(!0);return}const m=new IntersectionObserver(([v])=>{v.isIntersecting&&(s(!0),m.unobserve(i))});return m.observe(i),()=>m.disconnect()},[]),n.a.createElement("li",{className:["list-group-item",a?"active":""].join(" "),onClick:()=>r(e.id)},n.a.createElement("div",null,e.metadata.name),n.a.createElement(xa,{ref:l},c&&n.a.createElement($e,{peaks:e.metadata.trim.waveformPeaks})))});function Fa({samples:t,selectedSampleId:e,onSampleSelect:a}){const r=Object(u.useRef)(new WeakMap),l=[];for(const c of t.values()){let s=r.current.get(c);s||(s=n.a.createElement(Ia,{key:c.id,sample:c,selected:c.id===e,onSampleSelect:a}),r.current.set(c,s)),l.push(s)}return n.a.createElement("ul",{className:"list-group list-group-flush"},l)}var Ft=Fa,_a=d(158),ye=d(111),ae=d(162),$=d(160),U=d(104),_t=d(64),Me=d(161),Le=d(157),Wa=d(101),Ta=d(102),za=d(103);function Wt(t,e){const a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=e,r.style.display="none",document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(a)}var Ha=d(45),be=d.n(Ha),Va=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())}),Tt=n.a.memo(function({isPlaybackActive:e,playbackProgress:a,displayedTime:r,downloadFilename:l,wavFile:c,togglePlayback:s}){const i=Object(u.useCallback)(()=>Va(this,null,function*(){if(c){const o=new Blob([c],{type:"audio/x-wav"});Wt(o,l)}}),[l,c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:[be.a.playbackOverlay,e?be.a.playbackActive:""].join(" "),style:{"--playback-progress":`${100*a}%`}},n.a.createElement("div",{className:be.a.playback})),n.a.createElement("div",{className:be.a.playbackButtonContainer},n.a.createElement(Me.a,{delay:{show:400,hide:0},overlay:n.a.createElement(Le.a,null,"Preview how your sample will sound on the volca sample")},n.a.createElement(U.a,{variant:"dark",onClick:o=>s(o.nativeEvent)},e?n.a.createElement(Ta.a,null):n.a.createElement(Wa.a,null))),r&&n.a.createElement("span",null,r)),n.a.createElement(Me.a,{delay:{show:400,hide:0},overlay:n.a.createElement(Le.a,null,"Download a copy of the audio that will be transferred to the volca sample")},n.a.createElement(U.a,{className:be.a.downloadButton,type:"button",variant:"dark",size:"sm",onClick:i,disabled:!c},n.a.createElement(za.a,null))))}),Ua=d(9),X=d.n(Ua),Qa=n.a.memo(function({sample:e,onSetTrimFrames:a}){const{wav:r,audioBuffer:l}=Ct(e),{sample:{metadata:{name:c,trim:{frames:s},normalize:i}},sourceAudioBuffer:o}=At(e),{monoSamples:m,waveformRef:v,pixelWidth:f,peaks:E,onResize:b}=Bt(o),y=Object(u.useMemo)(()=>{if(!o)return 0;const g=Re(m,s);return me(g)},[o,m,s]),O=1/y,[k,P]=Object(u.useState)({trimFrames:s,cursor:null});Object(u.useEffect)(()=>{P({trimFrames:s,cursor:null})},[s]);const j=Object(u.useMemo)(()=>{if(!m.length||!f)return[0,0];const g=f/m.length;return k.trimFrames.map(w=>w*g)},[f,m.length,k.trimFrames]),R=Object(u.useRef)(null),M=Object(u.useRef)(null),C=Object(u.useRef)(null);{const g=Object(u.useRef)(null),w=Object(u.useRef)(null),p=Object(u.useRef)(null),L=Object(u.useRef)(!1),V=Object(u.useRef)(null);Object(u.useLayoutEffect)(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[k]);const q=Object(u.useMemo)(()=>{if(!f||!m.length)return null;const F=Math.max(2e3,Math.ceil(10*m.length/f));return{pixelWidth:f,monoSamplesLength:m.length,minFrameWidth:F}},[f,m.length]),z=Object(u.useRef)(k);z.current=k,Object(u.useEffect)(()=>{if(!q||!R.current||!M.current||!C.current)return;const _=R.current,F=M.current,W=C.current,{pixelWidth:ee,monoSamplesLength:Y,minFrameWidth:le}=q;let qe=0;function Kn(){qe=W.getBoundingClientRect().left}function Fe(h){h instanceof TouchEvent&&h.preventDefault(),document.body.style.userSelect="none";const{pageX:x}=h instanceof MouseEvent?h:h.touches[0];g.current=x}function _e(h){h instanceof TouchEvent&&h.preventDefault(),document.body.style.userSelect="none";const{pageX:x}=h instanceof MouseEvent?h:h.touches[0];w.current=x}function We(h){if(h instanceof TouchEvent&&h.preventDefault(),h.detail===2){a(()=>[0,0]);return}document.body.style.userSelect="none";const{clientX:x}=h instanceof MouseEvent?h:h.touches[0];Kn();const G=Math.max(0,Math.min(ee,x-qe)),Z=G/ee,T=Math.round(Y*Z),ie=T+le,se=ie<Y?ie:T-le;se<0||(P({trimFrames:[Math.min(T,se),Y-1-Math.max(T,se)],cursor:G-1}),p.current=T)}function et(h){const x=h/ee,G=Math.round(Y*x);P(({trimFrames:Z})=>{let T=Z[0]+G;return T=Math.min(T,Y-Z[1]-le),T=Math.max(T,0),{trimFrames:[T,Z[1]],cursor:null}})}function tt(h){if(g.current===null)return;h instanceof TouchEvent&&h.preventDefault();const{pageX:x}=h instanceof MouseEvent?h:h.touches[0],G=x-g.current;G&&(et(G),g.current=x)}function at(h){const x=h/ee,G=Math.round(Y*x);P(({trimFrames:Z})=>{let T=Z[1]+G;return T=Math.min(T,Y-Z[0]-le),T=Math.max(T,0),{trimFrames:[Z[0],T],cursor:null}})}function nt(h){if(w.current===null)return;h instanceof TouchEvent&&h.preventDefault();const{pageX:x}=h instanceof MouseEvent?h:h.touches[0],G=w.current-x;G&&(at(G),w.current=x)}let Te=!1;function la(h){if(g.current!==null)return;let x=!0;switch(h.key){case"ArrowLeft":et(-1);break;case"ArrowRight":et(1);break;default:x=!1;break}x&&(h.stopPropagation(),h.preventDefault(),Te=!0)}function ca(h){if(w.current!==null)return;let x=!0;switch(h.key){case"ArrowLeft":at(1);break;case"ArrowRight":at(-1);break;default:x=!1;break}x&&(h.stopPropagation(),h.preventDefault(),Te=!0)}function rt(h){if(p.current===null)return;h instanceof TouchEvent&&h.preventDefault();const x=p.current,{clientX:G}=h instanceof MouseEvent?h:h.touches[0],Z=Math.max(0,Math.min(ee,G-qe)),T=Z/ee,ie=Math.max(0,Math.min(Y-1,Math.round(Y*T)));if(ie!==p.current){L.current=!0;const se=x+le,ot=x-le,lt=ie>x?se<Y?Math.max(ie,se):ot:ot>=0?Math.min(ie,ot):se;P({trimFrames:[Math.min(x,lt),Y-1-Math.max(x,lt)],cursor:x<lt?Z:Z-1})}}function ia(h){tt(h),nt(h),rt(h)}function H(h){(g.current!==null||w.current!==null||p.current!==null||Te)&&((h instanceof TouchEvent||h instanceof KeyboardEvent)&&h.preventDefault(),p.current&&!L.current&&h.detail===1?V.current=setTimeout(()=>{V.current=null,a(()=>z.current.trimFrames)},250):a(()=>z.current.trimFrames),g.current=null,w.current=null,p.current=null,L.current=!1,Te=!1),document.body.style.userSelect="unset"}function ve(h){h.target instanceof Node&&W.contains(h.target)||V.current&&(clearTimeout(V.current),V.current=null,a(()=>z.current.trimFrames))}return _.addEventListener("touchstart",Fe),_.addEventListener("mousedown",Fe),F.addEventListener("touchstart",_e),F.addEventListener("mousedown",_e),W.addEventListener("touchstart",We),W.addEventListener("mousedown",We),_.addEventListener("touchmove",tt),F.addEventListener("touchmove",nt),_.addEventListener("keydown",la),F.addEventListener("keydown",ca),W.addEventListener("touchmove",rt),window.addEventListener("mousemove",ia),_.addEventListener("touchend",H),_.addEventListener("touchcancel",H),_.addEventListener("keyup",H),F.addEventListener("touchend",H),F.addEventListener("keyup",H),F.addEventListener("touchcancel",H),W.addEventListener("touchend",H),W.addEventListener("touchcancel",H),window.addEventListener("mouseup",H),window.addEventListener("touchstart",ve,{capture:!0}),window.addEventListener("mousedown",ve,{capture:!0}),window.addEventListener("keydown",ve,{capture:!0}),()=>{_.removeEventListener("touchstart",Fe),_.removeEventListener("mousedown",Fe),F.removeEventListener("touchstart",_e),F.removeEventListener("mousedown",_e),W.removeEventListener("touchstart",We),W.removeEventListener("mousedown",We),_.removeEventListener("touchmove",tt),F.removeEventListener("touchmove",nt),_.removeEventListener("keydown",la),F.removeEventListener("keydown",ca),W.removeEventListener("touchmove",rt),window.removeEventListener("mousemove",ia),_.removeEventListener("touchend",H),_.removeEventListener("touchcancel",H),_.removeEventListener("keyup",H),F.removeEventListener("touchend",H),F.removeEventListener("keyup",H),F.removeEventListener("touchcancel",H),W.removeEventListener("touchend",H),W.removeEventListener("touchcancel",H),window.removeEventListener("mouseup",H),window.removeEventListener("touchstart",ve,{capture:!0}),window.removeEventListener("mousedown",ve,{capture:!0}),window.removeEventListener("keydown",ve,{capture:!0})}},[q,a])}const{isPlaybackActive:D,playbackProgress:A,displayedTime:N,togglePlayback:S,stopPlayback:B}=Nt(l);return Object(u.useEffect)(()=>B,[e,k,B]),n.a.createElement("div",{className:[X.a.waveformContainer,D?X.a.playbackActive:""].join(" "),style:{"--cursor-display":k.cursor===null?"none":"unset","--cursor-left":`${k.cursor}px`,"--trim-pixels-left":`${j[0]}px`,"--trim-pixels-right":`${j[1]}px`}},n.a.createElement($e,{waveformRef:v,peaks:E,scaleCoefficient:i?O:1,onResize:b}),n.a.createElement(Tt,{isPlaybackActive:D,playbackProgress:A,displayedTime:N,downloadFilename:`${c}.wav`,wavFile:r,togglePlayback:S}),n.a.createElement("div",{className:X.a.cursor}),n.a.createElement("div",{className:[X.a.trim,X.a.left].join(" ")},n.a.createElement("div",{className:X.a.bar}),n.a.createElement("div",{ref:R,className:X.a.handle,tabIndex:0}),o&&Boolean(m.length)&&n.a.createElement("span",{className:X.a.time},Ne(o.duration*k.trimFrames[0]/m.length,2))),n.a.createElement("div",{className:[X.a.trim,X.a.right].join(" ")},n.a.createElement("div",{className:X.a.bar}),n.a.createElement("div",{ref:M,className:X.a.handle,tabIndex:0}),o&&Boolean(m.length)&&n.a.createElement("span",{className:X.a.time},Ne(o.duration*(m.length-1-k.trimFrames[1])/m.length,2))),n.a.createElement("div",{ref:C,className:X.a.waveformOverlay}))}),$a=d(167),zt=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});let Ht;function Xa(){return zt(this,null,function*(){return typeof window.CREATE_SYRO_BINDINGS!="function"?Promise.reject("Expected CREATE_SYRO_BINDINGS global function to exist"):Ht=Ht||window.CREATE_SYRO_BINDINGS().then(t=>zt(this,null,function*(){return{prepareSampleBufferFromWavData:t.cwrap("prepareSampleBufferFromWavData","number",["array","number","number","number","number"]),prepareSampleBufferFrom16BitPcmData(){throw new Error("This function does not work. Use prepareSampleBufferFromWavData.")},getSampleBufferChunkPointer:t.cwrap("getSampleBufferChunkPointer","number",["number"]),getSampleBufferChunkSize:t.cwrap("getSampleBufferChunkSize","number",["number"]),getSampleBufferProgress:t.cwrap("getSampleBufferProgress","number",["number"]),getSampleBufferTotalSize:t.cwrap("getSampleBufferTotalSize","number",["number"]),cancelSampleBufferWork:t.cwrap("cancelSampleBufferWork",null,["number"]),registerUpdateCallback(e){return t.addFunction(e,"vi")},unregisterUpdateCallback(e){t.removeFunction(e)},heap8Buffer(){return t.HEAP8.buffer}}}))})}var Ga=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});function Ka(t,e){let a=!1,r=()=>{};return{cancelWork(){a=!0,r()},sampleBufferPromise:(()=>Ga(this,null,function*(){const{prepareSampleBufferFromWavData:l,getSampleBufferChunkPointer:c,getSampleBufferChunkSize:s,getSampleBufferProgress:i,getSampleBufferTotalSize:o,cancelSampleBufferWork:m,registerUpdateCallback:v,unregisterUpdateCallback:f,heap8Buffer:E}=yield Xa();if(a)return new Uint8Array;const{data:b}=yield St(t);if(a)return new Uint8Array;let y,O=0;const k=v(j=>{if(a)return;const R=o(j);y||(y=new Uint8Array(R));const M=c(j),C=s(j),D=i(j);y.set(new Uint8Array(E(),M,C),D-C),O=D/R}),P=l(b,b.length,t.metadata.slotNumber,t.metadata.qualityBitDepth,t.metadata.useCompression?1:0,k);e(O);try{yield new Promise(j=>{let R;r=()=>{cancelAnimationFrame(R),m(P),j()},M();function M(){if(O&&(e(O),O>=1)){j();return}R=requestAnimationFrame(M)}})}finally{r=()=>{},f(k)}if(a)return new Uint8Array;if(!y)throw new Error("Unexpected condition: sampleBuffer should be defined");return y}))()}}var Ya=d(105),Za=d.n(Ya),Ja=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});function qa({sample:t}){const[e,a]=Object(u.useState)(0),[r,l]=Object(u.useState)("idle"),[c,s]=Object(u.useState)(null),[i,o]=Object(u.useState)(null);Object(u.useEffect)(()=>{c instanceof AudioBuffer&&i&&(o(null),i.fn())},[c,i]);const m=Object(u.useRef)(()=>{});Object(u.useEffect)(()=>{let b=!1;a(0),l("idle"),s(null),o(null),m.current=()=>{b=!0};try{const{sampleBufferPromise:y,cancelWork:O}=Ka(t,k=>{b||a(k)});m.current=()=>{O(),b=!0},y.then(k=>Ja(this,null,function*(){if(b)return;m.current=()=>{b=!0};const P=yield he(k);b||s(P)}))}catch(y){console.error(y),s(new Error(String(y)))}return()=>m.current()},[t]);const{playAudioBuffer:v}=kt(),f=Object(u.useCallback)(b=>{if(!(c instanceof AudioBuffer)){if(!c){const{target:y,nativeEvent:O}=b;o({fn:()=>y.dispatchEvent(O)})}return}try{l("transferring");const y=v(c,{onTimeUpdate:O=>a(O/c.duration),onEnded:()=>l("idle")});m.current=()=>{y(),l("idle")}}catch(y){console.error(y),l("error")}},[v,c]),E=Object(u.useCallback)(()=>m.current(),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,{className:Za.a.transferButton,type:"button",variant:"primary",onClick:f,disabled:c instanceof Error||r==="transferring"},"Transfer to volca sample"),n.a.createElement("br",null),c&&r==="idle"?null:r==="error"?"Error transferring":n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,c?c instanceof AudioBuffer?"Transferring to volca sample...":"Error preparing sample for transfer":"Preparing sample for transfer..."),n.a.createElement($a.a,{now:100*e}),n.a.createElement("br",null),n.a.createElement(U.a,{type:"button",variant:"light",onClick:E},"Cancel")),n.a.createElement("br",null))}var Vt=qa,en=d(106),tn=d.n(en),an=d(33),fe=d.n(an),nn=n.a.memo(function({sampleId:e,qualityBitDepth:a,onSampleUpdate:r}){const[l,c]=Object(u.useState)(a);Object(u.useEffect)(()=>{c(a)},[a]);const s=Object(u.useCallback)(i=>{const o=Number(i.target.value);c(o)},[]);return n.a.createElement($.a.Group,{className:fe.a.qualityBitDepthWrapper},n.a.createElement($.a.Label,{className:fe.a.label},"Quality bit depth"),n.a.createElement("div",{className:fe.a.ticks},[8,9,10,11,12,13,14,15,16].map((i,o,{length:m})=>{const v=`calc(${o*100/(m-1)}% + ${12-3*o}px)`,f=l===i;return n.a.createElement(n.a.Fragment,{key:i},n.a.createElement("label",{className:["small",fe.a.tickLabel].join(" "),style:{left:v,visibility:f?"hidden":void 0},onClick:()=>r(e,{qualityBitDepth:i})},i),n.a.createElement("span",{className:fe.a.tickMark,style:{left:v,visibility:f?"hidden":void 0}}))})),n.a.createElement(tn.a,{value:l,step:1,min:8,max:16,size:"lg",tooltip:"on",tooltipPlacement:"top",tooltipStyle:{zIndex:1020},onChange:s,ref:i=>i&&i.addEventListener("change",()=>{const o=Number(i.value);r(e,{qualityBitDepth:o})})}),n.a.createElement("div",{className:fe.a.annotations},n.a.createElement("label",{className:"small"},"Faster transfer"),n.a.createElement("label",{className:"small"},"Higher quality")))}),rn=d(107),on=d.n(rn),ln=n.a.memo(function({sampleId:e,normalize:a,onSampleUpdate:r}){return n.a.createElement($.a.Group,null,n.a.createElement(Me.a,{delay:{show:400,hide:0},overlay:n.a.createElement(Le.a,null,"Boosts your sample's volume so its peak is at the same level as your other normalized samples")},n.a.createElement("div",{className:on.a.normalizeControlWrapper},n.a.createElement($.a.Switch,{label:n.a.createElement("span",{onClick:()=>r(e,l=>({normalize:!l.normalize}))},"Normalize"),checked:a,onChange:l=>r(e,{normalize:l.target.checked})}))))}),Ut=d(85),Qt=d.n(Ut),Xe=d(86),Ge=d(87),cn=d(21),re=d.n(cn),$t=Math.pow;Ut.Digit.defaultProps.offOpacity=0;const Xt=(t,e)=>Math.min(199,e+$t(10,t)),Gt=(t,e)=>Math.max(0,e-$t(10,t));var Kt=n.a.memo(function({slotNumber:t,onSlotNumberUpdate:e}){const[a,r]=Object(u.useState)(t);Object(u.useEffect)(()=>{r(t)},[t]);const[l,c]=Object(u.useState)(null),s=Object(u.useCallback)(v=>{e(f=>Xt(v,f))},[e]),i=Object(u.useCallback)(v=>{e(f=>Gt(v,f))},[e]),o=Object(u.useRef)(null),m=Object(u.useRef)(null);{const v=Object(u.useRef)(l);v.current=l;const f=Object(u.useRef)(a);f.current=a,Object(u.useEffect)(()=>{if(!m.current)throw new Error("Expected elements to exist");function E(S){const B=v.current===null?0:v.current;let g=!0;const w=()=>{c(B)};switch(S.key){case"ArrowDown":w(),r(p=>Gt(B,p));break;case"ArrowUp":w(),r(p=>Xt(B,p));break;case"ArrowLeft":w(),c(p=>p!==null&&p<2?p+1:p);break;case"ArrowRight":w(),c(p=>p&&p-1);break;case"Enter":case"Escape":c(null);break;default:g=!1;break}g&&S.preventDefault()}function b(S){const B=v.current===null?2:v.current;S.stopPropagation(),S.preventDefault();const g=f.current;if(isNaN(Number(S.key)))e(g);else{const w=String(g).padStart(3,"0").split("");w[2-B]=S.key;const p=Math.min(199,Math.max(0,Number(w.join(""))));c(B?B-1:null),e(p)}}const y=o.current;y.addEventListener("keydown",E,!0),y.addEventListener("keyup",b,!0);let O=0,k=!1,P=!1,j=0;function R(S){document.body.style.userSelect="none",O=S instanceof MouseEvent?S.pageY:S.touches[0].pageY,k=!0,P=!1,j=f.current}y.addEventListener("mousedown",R),y.addEventListener("touchstart",S=>{S.preventDefault(),R(S)});function M(S){if(!k)return;const{pageY:B}=S instanceof MouseEvent?S:S.touches[0],g=2,w=Math.round((O-B)/g);w&&(P=!0,r(Math.min(199,Math.max(0,j+w))))}window.addEventListener("mousemove",M),y.addEventListener("touchmove",M);function C(){document.body.style.userSelect="unset",k=!1,P&&e(f.current)}window.addEventListener("mouseup",C),y.addEventListener("touchend",C),y.addEventListener("touchcancel",()=>{document.body.style.userSelect="unset"});function D(S){P||m.current&&m.current.some(B=>B.contains(S.target))||c(2)}y.addEventListener("click",D),m.current.forEach((S,B)=>{const g=B;S.addEventListener("click",()=>{P||c(g)}),S.addEventListener("touchstart",w=>{w.preventDefault()})});function A(){k||c(2)}function N(){c(null)}return y.addEventListener("focus",A),y.addEventListener("blur",N),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",C)}},[e])}return Object(u.useEffect)(()=>{if(!m.current)throw new Error("Expected elements to exist");m.current.forEach((v,f)=>{f===l?v.classList.add(re.a.active):v.classList.remove(re.a.active)})},[l]),n.a.createElement(n.a.Fragment,null,n.a.createElement($.a.Label,null,"Choose destination"),n.a.createElement("br",null),n.a.createElement("div",{className:re.a.slotNumberRow},n.a.createElement("div",{className:re.a.slotNumberContainer},n.a.createElement("div",{className:re.a.arrowControls},n.a.createElement("span",{onClick:()=>s(2)},n.a.createElement(Xe.a,null)),n.a.createElement("span",{onClick:()=>s(1)},n.a.createElement(Xe.a,null)),n.a.createElement("span",{onClick:()=>s(0)},n.a.createElement(Xe.a,null))),n.a.createElement("div",{className:re.a.slotNumber,title:`Slot ${a}`,ref:o,tabIndex:0},n.a.createElement(Qt.a,{value:"8888",color:"var(--bs-gray-dark)",strokeColor:"transparent",digitCount:4}),n.a.createElement(Qt.a,{ref:v=>{const f=Object(ct.findDOMNode)(v);if(f){f.querySelectorAll("circle").forEach(b=>{f.removeChild(b)});const E=document.createElementNS("http://www.w3.org/2000/svg","circle");E.classList.add(re.a.point),E.setAttribute("cx","10.7"),E.setAttribute("cy","17"),E.setAttribute("r","1"),f.appendChild(E),m.current=[].slice.call(f.querySelectorAll("g")).reverse().slice(0,3)}},value:`5${String(a).padStart(3,"0")}`,digitProps:{color:"var(--bs-primary)"},digitCount:4})),n.a.createElement("div",{className:re.a.arrowControls},n.a.createElement("span",{onClick:()=>i(2)},n.a.createElement(Ge.a,null)),n.a.createElement("span",{onClick:()=>i(1)},n.a.createElement(Ge.a,null)),n.a.createElement("span",{onClick:()=>i(0)},n.a.createElement(Ge.a,null)))),t>99&&a>99&&n.a.createElement(Me.a,{placement:"auto-end",overlay:n.a.createElement(Le.a,null,"To transfer to this destination, be sure you have a volca sample2. The original volca sample only supports slots 0-99.")},n.a.createElement("span",{className:re.a.warning},n.a.createElement(_t.a,null)))))}),sn=d(28),pe=d.n(sn),un=Object.defineProperty,mn=Object.defineProperties,dn=Object.getOwnPropertyDescriptors,Yt=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,Zt=(t,e,a)=>e in t?un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Jt=(t,e)=>{for(var a in e||(e={}))fn.call(e,a)&&Zt(t,a,e[a]);if(Yt)for(var a of Yt(e))pn.call(e,a)&&Zt(t,a,e[a]);return t},qt=(t,e)=>mn(t,dn(e)),vn=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});const hn=n.a.memo(function({sample:e,onSampleUpdate:a,onSampleDuplicate:r,onSampleDelete:l}){const c=e&&e.id,s=Object(u.useCallback)(o=>c&&a(c,m=>qt(Jt({},m),{trim:qt(Jt({},m.trim),{frames:o(m.trim.frames)})})),[c,a]),i=Object(u.useCallback)(o=>{a(e.id,({slotNumber:m})=>({slotNumber:typeof o=="function"?o(m):o}))},[e.id,a]);return n.a.createElement(we.a,{fluid:"sm"},n.a.createElement("h2",null,e.metadata.name,n.a.createElement(yn,{sampleId:e.id,name:e.metadata.name,sourceFileId:e.metadata.sourceFileId,userFileInfo:e.metadata.userFileInfo,onSampleUpdate:a,onSampleDuplicate:r,onSampleDelete:l})),n.a.createElement("p",null,n.a.createElement("strong",null,"Sampled:")," ",new Date(e.metadata.dateSampled).toLocaleString(),n.a.createElement("br",null),n.a.createElement("strong",null,"Updated:")," ",new Date(e.metadata.dateModified).toLocaleString()),n.a.createElement("h4",null,"Configure"),n.a.createElement(nn,{sampleId:e.id,qualityBitDepth:e.metadata.qualityBitDepth,onSampleUpdate:a}),n.a.createElement(ln,{sampleId:e.id,normalize:e.metadata.normalize,onSampleUpdate:a}),n.a.createElement("div",{className:pe.a.waveformEditBoundingBox},n.a.createElement(Qa,{onSetTrimFrames:s,sample:e})),n.a.createElement("h4",null,"Transfer"),n.a.createElement(Kt,{slotNumber:e.metadata.slotNumber,onSlotNumberUpdate:i}),n.a.createElement(Vt,{sample:e}))}),yn=n.a.memo(({sampleId:t,name:e,sourceFileId:a,userFileInfo:r,onSampleUpdate:l,onSampleDuplicate:c,onSampleDelete:s})=>{const[i,o]=Object(u.useState)(!1),m=Object(u.useRef)(null),[v,f]=Object(u.useState)(e),[E,b]=Object(u.useState)(!1);Object(u.useEffect)(()=>{E&&(f(e),m.current&&m.current.select())},[E,e]);const y=v.trim(),O=Object(u.useCallback)(R=>{R.preventDefault(),y&&(l(t,{name:y}),b(!1))},[y,t,l]),k=Object(u.useCallback)(()=>c(t),[t,c]),P=Object(u.useCallback)(()=>vn(void 0,null,function*(){const R=yield K.getSourceFileData(a),M=new Blob([R],{type:r?r.type:"audio/x-wav"});Wt(M,`${e}${r?r.ext:".wav"}`)}),[e,a,r]),j=Object(u.useCallback)(R=>{R.preventDefault(),s(t),o(!1)},[t,s]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(_a.a,{className:pe.a.optionsButton,variant:"light",align:"end",title:"options"},n.a.createElement(ye.a.Item,{onClick:()=>b(!0)},"Rename"),n.a.createElement(ye.a.Item,{onClick:k},"Duplicate"),n.a.createElement(ye.a.Item,{onClick:P},"Download source audio"),n.a.createElement(ye.a.Divider,null),n.a.createElement(ye.a.Item,{onClick:()=>o(!0)},"Delete")),n.a.createElement(ae.a,{show:E,"aria-labelledby":"rename-modal"},n.a.createElement($.a,{onSubmit:O},n.a.createElement(ae.a.Header,null,n.a.createElement(ae.a.Title,{id:"rename-modal"},"Renaming sample")),n.a.createElement(ae.a.Body,null,n.a.createElement("p",null,"Choose a new name for the sample ",n.a.createElement("strong",null,e),":"),n.a.createElement($.a.Control,{ref:m,defaultValue:e,onChange:R=>f(R.target.value)})),n.a.createElement(ae.a.Footer,null,n.a.createElement(U.a,{type:"button",variant:"light",onClick:()=>b(!1)},"Cancel"),n.a.createElement(U.a,{type:"submit",variant:"primary",disabled:!y},"Rename")))),n.a.createElement(ae.a,{show:i,"aria-labelledby":"delete-modal"},n.a.createElement($.a,{onSubmit:j},n.a.createElement(ae.a.Header,{className:pe.a.deleteModalHeader},n.a.createElement(_t.a,null),n.a.createElement(ae.a.Title,{id:"delete-modal"},"Deleting sample")),n.a.createElement(ae.a.Body,null,n.a.createElement("p",null,"Are you sure you want to delete ",n.a.createElement("strong",null,e),"?")),n.a.createElement(ae.a.Footer,null,n.a.createElement(U.a,{type:"button",variant:"light",onClick:()=>o(!1)},"Cancel"),n.a.createElement(U.a,{type:"submit",variant:"primary"},"Delete")))))});var bn=hn,xe=d(159),gn=d(110),En=d.n(gn);function wn({sample:t}){const{wav:e,audioBuffer:a}=Ct(t),{sample:{metadata:{name:r,normalize:l,trim:{frames:c}}},sourceAudioBuffer:s}=At(t),{monoSamples:i,waveformRef:o,peaks:m,onResize:v}=Bt(s),f=Object(u.useMemo)(()=>{if(!s)return 0;const j=Re(i,c);return me(j)},[s,i,c]),E=1/f,{isPlaybackActive:b,playbackProgress:y,displayedTime:O,togglePlayback:k,stopPlayback:P}=Nt(a);return Object(u.useEffect)(()=>P,[t,P]),n.a.createElement("div",{className:En.a.waveformContainer},n.a.createElement($e,{waveformRef:o,peaks:m,scaleCoefficient:l?E:1,onResize:v}),n.a.createElement(Tt,{isPlaybackActive:b,playbackProgress:y,displayedTime:O,downloadFilename:`${r}.wav`,wavFile:e,togglePlayback:k}))}var Sn=wn,Cn=Object.defineProperty,On=Object.defineProperties,kn=Object.getOwnPropertyDescriptors,ea=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable,ta=(t,e,a)=>e in t?Cn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,jn=(t,e)=>{for(var a in e||(e={}))Dn.call(e,a)&&ta(t,a,e[a]);if(ea)for(var a of ea(e))Pn.call(e,a)&&ta(t,a,e[a]);return t},Rn=(t,e)=>On(t,kn(e));function An(t){const e=t.metadata.slotNumber,[a,r]=Object(u.useState)(e);return Object(u.useEffect)(()=>{r(e)},[e]),{sample:Object(u.useMemo)(()=>t&&new K(Rn(jn({id:t.id},t.metadata),{slotNumber:a})),[t,a]),setSlotNumber:r}}function Bn({sample:t,onSampleDuplicate:e}){const{sample:a,setSlotNumber:r}=An(t);return n.a.createElement(we.a,{fluid:"sm"},n.a.createElement("h2",null,a.metadata.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Sampled:")," ",new Date(a.metadata.dateSampled).toLocaleString()),n.a.createElement(xe.a,{variant:"secondary"},n.a.createElement(xe.a.Heading,null,"This is a factory sample."),n.a.createElement("p",null,"If you want to trim the audio or adjust quality before transferring to the volca sample,"," ",n.a.createElement("span",{className:pe.a.buttonLink},n.a.createElement(U.a,{variant:"link",className:pe.a.duplicateButtonLink,onClick:()=>e(a.id)},"make a duplicate"),"."))),n.a.createElement("h4",null,"Preview"),n.a.createElement("div",{className:pe.a.waveformReadonlyBoundingBox},n.a.createElement(Sn,{sample:a})),n.a.createElement("h4",null,"Transfer"),n.a.createElement(Kt,{slotNumber:a.metadata.slotNumber,onSlotNumberUpdate:r}),n.a.createElement(Vt,{sample:a}))}var Nn=Bn,Mn=d(112),ge=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});let aa;function Ke(){const t=gt();return aa=aa||new t(navigator.mediaDevices.getSupportedConstraints().sampleRate?{sampleRate:Ce}:{})}function Ln(){return ge(this,null,function*(){{const r=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!1});for(const l of r.getTracks())l.stop()}const e=(yield navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput"),a=[];for(const r of e){const l=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:r.deviceId,channelCount:2},video:!1}),c=(yield navigator.mediaDevices.enumerateDevices()).find(({deviceId:i})=>r.deviceId===i).label;let s=1;{const i=l.getAudioTracks()[0],o=i.getSettings().channelCount;o?s=o:i.getCapabilities&&(s=(i.getCapabilities().channelCount||{}).max||s)}for(const i of l.getTracks())i.stop();a.push({device:{deviceId:r.deviceId,label:c},channelsAvailable:s})}return a})}let Ye;function xn(t){return ge(this,arguments,function*({onData:e,onFinish:a}){const r=Ke();Ye=Ye||r.audioWorklet.addModule("recorderWorkletProcessor.js"),yield Ye;const l=new AudioWorkletNode(r,"recorder-worklet",{parameterData:{bufferSize:1024}});l.port.onmessage=s=>{if(s.data.eventType==="data"){const i=s.data.audioChannels;e(i)}s.data.eventType==="stop"&&a()};const c=l.parameters.get("isRecording");return c.setValueAtTime(1,r.currentTime),{recorderNode:l,stop(){c.setValueAtTime(0,r.currentTime)}}})}function In({channelCount:t,onData:e,onFinish:a}){const l=Ke().createScriptProcessor(1024,t,t);let c=!1;return l.onaudioprocess=s=>{const i=Array(t).fill().map((o,m)=>s.inputBuffer.getChannelData(m));e(i),c&&a()},{recorderNode:l,stop(){c=!0}}}function Fn(t){return ge(this,null,function*(){return typeof AudioWorkletNode=="undefined"?In(t):yield xn(t)})}function _n(t){return ge(this,arguments,function*({deviceId:e,channelCount:a,onStart:r,onUpdate:l}){const c=yield navigator.mediaDevices.getUserMedia({audio:{deviceId:e,channelCount:a,sampleRate:Ce,echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},video:!1}),s=Ke(),i=s.createMediaStreamSource(c),{recorderNode:o,stop:m}=yield Fn({channelCount:a,onData:y,onFinish:R});i.connect(o),o.connect(s.destination);const v=10;r(s.sampleRate,v);const f=v*s.sampleRate;let E=0;const b=Array(a).fill([]);function y(M){let C=0;const D=[];for(let S=0;S<a;S++){const B=M[S],g=B.length,w=B.slice(0,Math.min(g,f-E));yt(w),C||(C=w.length),D.push(w)}const A=Oa(D),N=bt(A);b.push(N),E+=C,E>=f&&m(),l(D)}let O,k;const P=new Promise((M,C)=>{O=M,k=C});let j=!1;function R(){return ge(this,null,function*(){if(j)return;try{const D=yield new Blob(b).arrayBuffer(),A=new Float32Array(D),N=ut()({channels:a,sampleRate:s.sampleRate,bitDepth:16,dataLength:A.byteLength}),S=new Uint8Array(N.length+A.byteLength);S.set(N),S.set(new Uint8Array(A.buffer),N.length),O(S)}catch(C){k(C)}const M=c.getTracks();for(const C of M)C.stop();o.disconnect(s.destination),i.disconnect(o),j=!0})}return{stop:m,mediaRecording:P}})}var Wn=d(55),Ie=d.n(Wn),Ee=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});const na="capture_device_preference";let ra=null;function Tn(t,e){const a=Object(u.useRef)(JSON.parse(localStorage.getItem(na)||"null")),[r,l]=Object(u.useState)(ra),[c,s]=Object(u.useState)(r?"ok":"pending"),[i,o]=Object(u.useState)("");Object(u.useEffect)(()=>{ra=r,s("ok")},[r]);const m=Object(u.useCallback)(()=>{let g=!1;return Ln().then(w=>{g||w.length&&(l(new Map(w.map(p=>[p.device.deviceId,p]))),o(p=>p?(a.current=null,p):a.current&&w.find(({device:L})=>a.current.deviceId===L.deviceId)?a.current.deviceId:(a.current=null,w[0].device.deviceId)))}).catch(w=>{if(!g){if(w instanceof DOMException){if(w.name==="NotAllowedError"){s("denied");return}if(w.name==="NotFoundError"){s("unavailable");return}}throw w}}),()=>{g=!0}},[]),[v,f]=Object(u.useState)(1);Object(u.useEffect)(()=>{const g=r&&r.get(i);g&&(a.current&&a.current.deviceId===g.device.deviceId&&a.current.channelCount<=g.channelsAvailable?f(a.current.channelCount):f(g.channelsAvailable),a.current=null)},[r,i]),Object(u.useEffect)(()=>{i&&localStorage.setItem(na,JSON.stringify({deviceId:i,channelCount:v}))},[i,v]);const[E,b]=Object(u.useState)("ready"),[y,O]=Object(u.useState)(null),[k,P]=Object(u.useState)(!1);Object(u.useEffect)(()=>{E!=="ready"&&P(!1)},[E]);const j=Object(u.useCallback)(()=>{P(!1)},[]),[R,M]=Object(u.useState)({fn(g){}});Object(u.useEffect)(()=>R.fn,[R]);const[C,D]=Object(u.useState)(1/0),[A,N]=Object(u.useState)(0),S=Object(u.useCallback)(()=>Ee(this,null,function*(){let g=!1;const w=(z,_)=>_n({deviceId:z,channelCount:_,onStart:(F,W)=>{const ee=W*F;D(F),N(ee),b("capturing")},onUpdate:t}),p=a.current,{mediaRecording:L,stop:V}=yield p?(()=>Ee(this,null,function*(){try{return w(p.deviceId,p.channelCount)}catch(z){if(z instanceof DOMException&&z.name==="NotFoundError")return w(i,v);throw z}}))():w(i,v);M({fn(z){V(),z&&(g=!0)}});let q;try{q=yield L}catch(z){O(z),b("error");return}if(g)b("ready");else{b("finalizing");const z=yield e(q);g||(b("ready"),z==="silent"&&P(!0))}}),[i,v,t,e]),B=Object(u.useCallback)(g=>{if(g.target.files&&g.target.files.length){const w=g.target.files[0];w.arrayBuffer().then(p=>Ee(this,null,function*(){const L=new Uint8Array(p);let V;try{V=yield he(L)}catch(z){alert("Unsupported audio format detected");return}if(V.length>10*V.sampleRate){alert("Please select an audio file no more than 10 seconds long");return}b("finalizing");const q=yield e(L,w);b("ready"),q==="silent"&&P(!0)}))}},[e]);return{captureDevices:r,accessState:c,selectedCaptureDeviceId:i,selectedChannelCount:v,captureState:E,recordingError:y,showSilenceWarning:k,sampleRate:C,maxSamples:A,refreshCaptureDevices:m,setSelectedCaptureDeviceId:o,setSelectedChannelCount:f,beginRecording:S,stopRecording:R.fn,importFile:B,dismissSilenceWarning:j}}const Ze=3;function zn({canvas:t,peaks:e,drawUntil:a,scaleCoefficient:r}){const l="#fff",c=t.getContext("2d");c.imageSmoothingEnabled=!1;const{width:s,height:i}=t;c.clearRect(0,0,s,i),c.fillStyle=l;for(let o=0;o<a&&o<e.length;o++){const m=e[o],v=i*m,f=Math.max(Math.round(r*v),2);c.fillRect(o*Ze,i-f,Ze-1,f)}}function Hn({onRecordFinish:t}){const e=Object(u.useRef)(null),a=Object(u.useRef)(0),r=Object(u.useRef)(new Float32Array),l=Object(u.useRef)(0),c=Object(u.useRef)([]),s=Object(u.useRef)(1/0),i=Object(u.useRef)(0),[o,m]=Object(u.useState)(0),v=Object(u.useCallback)(p=>Ee(this,null,function*(){const L=a.current,V=r.current,q=c.current;if(q.push(p),i.current+=p[0].length,m(Math.floor(i.current/s.current)),q.reduce((_,[{length:F}])=>_+F,0)>=L){const _=yield Promise.all(p.map((W,ee)=>q.reduce((Y,le)=>[...Y,le[ee]],[])).map(W=>Ee(this,null,function*(){const ee=yield new Blob(W).arrayBuffer();return new Float32Array(ee)}))),F=_.map(W=>me(new Float32Array(W.buffer,0,L)));V[l.current++]=Math.max(...F),zn({canvas:e.current,peaks:V,drawUntil:l.current,scaleCoefficient:.3}),c.current=[_.map(W=>W.slice(L))]}}),[]),{captureDevices:f,accessState:E,selectedCaptureDeviceId:b,selectedChannelCount:y,captureState:O,recordingError:k,showSilenceWarning:P,maxSamples:j,sampleRate:R,refreshCaptureDevices:M,setSelectedCaptureDeviceId:C,setSelectedChannelCount:D,beginRecording:A,stopRecording:N,importFile:S,dismissSilenceWarning:B}=Tn(v,t);s.current=R,Object(u.useEffect)(()=>{const p=e.current;p&&(p.width=p.offsetWidth,p.height=p.offsetHeight)},[E]),Object(u.useLayoutEffect)(()=>{const p=e.current;!p||(O!=="finalizing"&&p.getContext("2d").clearRect(0,0,p.width,p.height),O==="capturing"&&j&&(a.current=Math.floor(Ze*j/e.current.width),r.current=new Float32Array(Math.floor(j/a.current)),l.current=0,c.current=[],s.current=1/0,i.current=0,m(0)))},[j,O]);const[g,w]=Object(u.useState)(!1);return Object(u.useEffect)(()=>{g&&M()},[g,M]),n.a.createElement(we.a,{fluid:"sm"},E==="denied"?n.a.createElement("p",null,"Looks like you didn't grant access to your audio input device. Please give Volca Sampler access, then"," ",n.a.createElement(U.a,{type:"button",variant:"secondary",onClick:M},"try again")):E==="unavailable"?n.a.createElement("p",null,"Volca Sampler couldn't find any audio input devices. Please connect one, then"," ",n.a.createElement(U.a,{type:"button",variant:"secondary",onClick:M},"try again")):n.a.createElement("div",null,n.a.createElement("h2",null,"Send a new sound to your volca sample!"),P&&n.a.createElement("div",{className:Ie.a.alertContainer},n.a.createElement(xe.a,{dismissible:!0,variant:"warning",onClose:B},n.a.createElement(xe.a.Heading,null,"Your recording was totally silent."),n.a.createElement("p",null,"Check the audio input settings and your connections, then try again."))),n.a.createElement(U.a,{className:Ie.a.recordButton,type:"button",variant:O==="capturing"?"danger":"primary",size:"lg",style:{width:250},onClick:O==="capturing"?()=>N():A,disabled:O==="finalizing"},n.a.createElement("canvas",{ref:e}),n.a.createElement("span",{className:Ie.a.mainText},["capturing","finalizing"].includes(O)?"Finished recording":"Start recording"),["capturing","finalizing"].includes(O)&&n.a.createElement("span",{className:Ie.a.timeRecorded},"0:",String(o).padStart(2,"0"))),["capturing","finalizing"].includes(O)?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(U.a,{style:{width:250},size:"sm",type:"button",variant:"secondary",onClick:()=>N(!0)},"Cancel")):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(U.a,{style:{width:250},type:"button",variant:"light",size:"sm",onClick:()=>w(p=>!p)},"Audio input settings ",g?"\u25B2":"\u25BC"),n.a.createElement(Mn.a,{in:g},n.a.createElement("div",null,n.a.createElement($.a.Group,null,n.a.createElement($.a.Label,null,"Capture Device"),n.a.createElement($.a.Select,{style:{width:250},value:b,onChange:p=>C(p.target.value)},f&&E==="ok"?[...f].map(([p,{device:L}])=>n.a.createElement("option",{key:p,value:p},L.label||p)):n.a.createElement("option",{value:"",disabled:!0},"Loading devices..."))),n.a.createElement($.a.Group,null,n.a.createElement($.a.Label,null,"Input channels"),n.a.createElement($.a.Select,{style:{width:250},value:y,onChange:p=>D(Number(p.target.value))},[1,2].map(p=>n.a.createElement("option",{key:p,value:p,disabled:!f||!f.has(b)||f.get(b).channelsAvailable<p},p===1?"Mono":"Stereo (summed to mono)")))),n.a.createElement("br",null))))),O==="error"&&k||null,n.a.createElement("br",null),n.a.createElement(U.a,{style:{width:250},type:"button",variant:"secondary",onClick:p=>{const L=p.currentTarget.querySelector("input");L&&p.target!==L&&L.click()}},"Or import an audio file",n.a.createElement("input",{hidden:!0,type:"file",accept:"audio/*,.wav,.mp3,.ogg",onChange:S})))}var Vn=Hn,Un=d(91),oa=d.n(Un),Qn=(t,e,a)=>new Promise((r,l)=>{var c=o=>{try{i(a.next(o))}catch(m){l(m)}},s=o=>{try{i(a.throw(o))}catch(m){l(m)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,s);i((a=a.apply(t,e)).next())});const Je="focused_sample_id";function $n(){const[t,e]=Object(u.useState)(new Map),[a,r]=Object(u.useState)(new Map),l=Object(u.useMemo)(()=>new Map([...t,...a]),[t,a]);Object(u.useEffect)(()=>{Ea().then(r).catch(console.error)},[]);const c=sessionStorage.getItem(Je),[s,i]=Object(u.useState)(c&&typeof c=="string"?c:null);Object(u.useEffect)(()=>{s?sessionStorage.setItem(Je,s):sessionStorage.removeItem(Je)},[s]);const[o,m]=Object(u.useState)(!0);Object(u.useEffect)(()=>{K.getAllFromStorage().then(C=>{e(D=>new Map([...D,...C.map(A=>[A.id,A])]))}).finally(()=>{m(!1)})},[]);const v=Object(u.useCallback)((C,D)=>Qn(this,null,function*(){const A=yield he(C),N=[0,0],S=yield Rt(A,N);if([...S.positive,...S.negative].every(L=>L===0))return"silent";const B=yield ya(C);let g="",w="";if(D){const L=D.name.lastIndexOf(".");L>0?(g=D.name.slice(0,L),w=D.name.slice(L)):g=D.name}else g="New sample";const p=new K.Mutable({name:g,sourceFileId:B,trim:{frames:N,waveformPeaks:S},userFileInfo:D&&{type:D.type,ext:w}});return yield p.persist(),e(L=>new Map([[p.id,p],...L])),i(p.id),"saved"}),[]),f=Object(u.useCallback)((C,D)=>{e(A=>{const N=A.get(C);if(N&&N instanceof K.Mutable){const S=N.update(D);if(S!==N)return new Map(A).set(N.id,S)}return A})},[]),E=Object(u.useRef)(l);E.current=l;const b=Object(u.useCallback)(C=>{const D=E.current.get(C);if(D){const A=D.duplicate();e(N=>new Map([[A.id,A],...N])),i(A.id)}},[]),y=Object(u.useRef)(t);y.current=t;const O=Object(u.useCallback)(C=>{const D=y.current,A=D.get(C);if(A&&A instanceof K.Mutable){A.remove();let N=null,S=!1;for(const[,B]of D){if(S){N=B.id;break}if(B.id===C){if(!N){S=!0;continue}break}N=B.id}i(N),e(B=>{const g=new Map(B);return g.delete(A.id),g})}},[]),[k,P]=Object(u.useState)(!1),j=Object(u.useCallback)(C=>{i(C),P(!1)},[]),R=Object(u.useCallback)(()=>P(!0),[]),M=Object(u.useCallback)(()=>i(null),[]);return n.a.createElement("div",null,n.a.createElement(ma,{onMenuOpen:R,onHeaderClick:M}),n.a.createElement(ze.a,{show:k,onHide:()=>P(!1)},n.a.createElement(ze.a.Header,{closeButton:!0}),n.a.createElement(ze.a.Body,null,n.a.createElement(it.a,null,n.a.createElement(it.a.Item,{as:"button",onClick:()=>j(null)},"New Sample"),o?"Loading...":null,!o&&n.a.createElement(ce.a,{defaultActiveKey:t.size?"user":"factory"},n.a.createElement(ce.a.Item,{eventKey:"user"},n.a.createElement(ce.a.Header,null,"Your Samples"),n.a.createElement(ce.a.Body,{style:{padding:0}},n.a.createElement(Ft,{samples:t,selectedSampleId:s,onSampleSelect:j}))),n.a.createElement(ce.a.Item,{eventKey:"factory"},n.a.createElement(ce.a.Header,null,"Factory Samples"),n.a.createElement(ce.a.Body,{style:{padding:0}},n.a.createElement(Ft,{samples:a,selectedSampleId:s,onSampleSelect:j}))))))),n.a.createElement("div",{className:oa.a.mainLayout},n.a.createElement("div",{className:oa.a.focusedSampleContainer},s&&(()=>{const C=l.get(s)||null;return C?C instanceof K.Mutable?n.a.createElement(bn,{sample:C,onSampleUpdate:f,onSampleDuplicate:b,onSampleDelete:O}):n.a.createElement(Nn,{sample:C,onSampleDuplicate:b}):null})(),!s&&n.a.createElement(Vn,{onRecordFinish:v}))))}var Xn=$n,Gn=t=>{t&&t instanceof Function&&d.e(3).then(d.bind(null,168)).then(({getCLS:e,getFID:a,getFCP:r,getLCP:l,getTTFB:c})=>{e(t),a(t),r(t),l(t),c(t)})};Blob.prototype.arrayBuffer||(Blob.prototype.arrayBuffer=function(){return new Response(this).arrayBuffer()}),sa.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Da,null,n.a.createElement(Xn,null))),document.getElementById("root")),Gn()},21:function(I,Q,d){I.exports={"form-switch":"SlotNumberInput_form-switch__39Wtl","form-check-input":"SlotNumberInput_form-check-input__oNf4Z",slotNumberRow:"SlotNumberInput_slotNumberRow__kQwOw",slotNumberContainer:"SlotNumberInput_slotNumberContainer__1q7P1",arrowControls:"SlotNumberInput_arrowControls__1LPAC",slotNumber:"SlotNumberInput_slotNumber__GC-i7",active:"SlotNumberInput_active__2zN4D",digitBlinkEffect:"SlotNumberInput_digitBlinkEffect__1_u8n",point:"SlotNumberInput_point__3pJD3",warning:"SlotNumberInput_warning__3NAeN"}},23:function(I,Q,d){I.exports={titleBar:"Header_titleBar__3BLa-",menuIcon:"Header_menuIcon__swn7p",title:"Header_title__R3bRx",titleText:"Header_titleText__3e5ME",titleR:"Header_titleR__3QRgv",titleStarburst:"Header_titleStarburst__1oLYP",titleGraphic:"Header_titleGraphic__3S89F"}},28:function(I,Q,d){I.exports={"form-switch":"SampleDetail_form-switch__31CS2","form-check-input":"SampleDetail_form-check-input__1NWgi",optionsButton:"SampleDetail_optionsButton__k0UjV",duplicateButtonLink:"SampleDetail_duplicateButtonLink__3CZZy",deleteModalHeader:"SampleDetail_deleteModalHeader__3DiKA",normalizeControlWrapper:"SampleDetail_normalizeControlWrapper__1yc_t",waveformReadonlyBoundingBox:"SampleDetail_waveformReadonlyBoundingBox__3CAjZ",waveformEditBoundingBox:"SampleDetail_waveformEditBoundingBox__1eChI",slotNumber:"SampleDetail_slotNumber__3sgS6",point:"SampleDetail_point__3d7qL"}},33:function(I,Q,d){I.exports={"form-switch":"QualityBitDepthControl_form-switch__3nCZi","form-check-input":"QualityBitDepthControl_form-check-input__2KgZ8",qualityBitDepthWrapper:"QualityBitDepthControl_qualityBitDepthWrapper__2qLOe",label:"QualityBitDepthControl_label___ohmN",ticks:"QualityBitDepthControl_ticks__1u5GH",tickLabel:"QualityBitDepthControl_tickLabel__2jXRm",tickMark:"QualityBitDepthControl_tickMark__24xm0",annotations:"QualityBitDepthControl_annotations__3mXj2"}},45:function(I,Q,d){I.exports={playbackOverlay:"WaveformPlayback_playbackOverlay__Er0Rh",playbackActive:"WaveformPlayback_playbackActive__1IHxg",playback:"WaveformPlayback_playback__2heRw",playbackButtonContainer:"WaveformPlayback_playbackButtonContainer__Lhahe",downloadButton:"WaveformPlayback_downloadButton__2s-L5"}},55:function(I,Q,d){I.exports={alertContainer:"SampleRecord_alertContainer__vjGNP",recordButton:"SampleRecord_recordButton__3R-KX",mainText:"SampleRecord_mainText__2dca6",timeRecorded:"SampleRecord_timeRecorded__3FGTe"}},9:function(I,Q,d){I.exports={"form-switch":"WaveformEdit_form-switch__2DZid","form-check-input":"WaveformEdit_form-check-input__2TImp",waveformContainer:"WaveformEdit_waveformContainer__Qq3MI",cursor:"WaveformEdit_cursor__1Ntb3",trim:"WaveformEdit_trim__1GV76",playbackActive:"WaveformEdit_playbackActive__hTwgX",bar:"WaveformEdit_bar__1KFgt",handle:"WaveformEdit_handle__23NoG",time:"WaveformEdit_time__YX5rg",left:"WaveformEdit_left__3Jfpn",right:"WaveformEdit_right__35CjW",waveformOverlay:"WaveformEdit_waveformOverlay__3oZfw"}},91:function(I,Q,d){I.exports={"form-switch":"App_form-switch__3Ht4D","form-check-input":"App_form-check-input__19Z6o",mainLayout:"App_mainLayout__3UKwp",focusedSampleContainer:"App_focusedSampleContainer__1lol8"}}},[[149,1,2]]]);

//# sourceMappingURL=main.77990352.chunk.js.map